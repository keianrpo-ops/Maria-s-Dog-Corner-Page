!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c1a26ba9-cfd0-4daa-a406-fc30405cdf3f",e._sentryDebugIdIdentifier="sentry-dbid-c1a26ba9-cfd0-4daa-a406-fc30405cdf3f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"c5d46717f"},(globalThis.webpackSSRJSONP=globalThis.webpackSSRJSONP||[]).push([[7601],{51905:(e,t,i)=>{e.exports=i.p+"b51fdc577bad1e43c22c.wasm"},10833:(e,t,i)=>{i.d(t,{Yu:()=>xt,ii:()=>Ft,qX:()=>Qe});var r,a=i(21781);function n(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}class s{constructor(e,t){this.fileName=void 0,this.data=void 0,this.fileName=e,this.data=t}}const o={XmlResourceFiles:{log:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE logmap [\n<!ELEMENT logmap (log)+>\n<!ELEMENT log (#PCDATA)>\n<!ATTLIST log events CDATA #IMPLIED>\n<!ATTLIST log output CDATA #IMPLIED>\n<!ATTLIST log filename CDATA #IMPLIED>\n<!ATTLIST log generations CDATA #IMPLIED>\n<!ATTLIST log limit CDATA #IMPLIED>\n<!ATTLIST log format CDATA #IMPLIED>\n]>\n<logmap>\n  <log events="None"/>\n  <log output="Debug"/>\n  <log filename="Magick-%g.log"/>\n  <log generations="3"/>\n  <log limit="2000"/>\n  <log format="%t %r %u %v %d %c[%p]: %m/%f/%l/%d\n  %e"/>\n</logmap>\n',policy:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE policymap [\n<!ELEMENT policymap (policy)*>\n<!ATTLIST policymap xmlns CDATA #FIXED "">\n<!ELEMENT policy EMPTY>\n<!ATTLIST policy xmlns CDATA #FIXED "">\n<!ATTLIST policy domain NMTOKEN #REQUIRED>\n<!ATTLIST policy name NMTOKEN #IMPLIED>\n<!ATTLIST policy pattern CDATA #IMPLIED>\n<!ATTLIST policy rights NMTOKEN #IMPLIED>\n<!ATTLIST policy stealth NMTOKEN #IMPLIED>\n<!ATTLIST policy value CDATA #IMPLIED>\n]>\n<policymap>\n  <policy domain="cache" name="shared-secret" value="passphrase"/>\n  <policy domain="coder" rights="none" pattern="EPHEMERAL" />\n  <policy domain="coder" rights="none" pattern="MVG" />\n  <policy domain="coder" rights="none" pattern="MSL" />\n  <policy domain="path" rights="none" pattern="@*" />\n  <policy domain="path" rights="none" pattern="|*" />\n</policymap>\n'}};class _{constructor(){this.log=void 0,this.policy=void 0,this.log=new s("log.xml",o.XmlResourceFiles.log),this.policy=new s("policy.xml",o.XmlResourceFiles.policy)}*all(){yield this.log,yield this.policy}}r=_,_.default=new r;class c{constructor(e,t){this.eventType=void 0,this.message=void 0,this.eventType=e,this.message=t??""}}const l=11,h={Red:0,Cyan:0,Gray:0,Green:1,Magenta:1,Blue:2,Yellow:2,Black:3,Alpha:4,Index:5,Meta0:10,Meta1:11,Meta2:12,Meta3:13,Meta4:14,Meta5:15,Meta6:16,Meta7:17,Meta8:18,Meta9:19,Meta10:20,Meta11:21,Meta12:22,Meta13:23,Meta14:24,Meta15:25,Meta16:26,Meta17:27,Meta18:28,Meta19:29,Meta20:30,Meta21:31,Meta22:32,Meta23:33,Meta24:34,Meta25:35,Meta26:36,Meta27:37,Meta28:38,Meta29:39,Meta30:40,Meta31:41,Meta32:42,Meta33:43,Meta34:44,Meta35:45,Meta36:46,Meta37:47,Meta38:48,Meta39:49,Meta40:50,Meta41:51,Meta42:52,Meta43:53,Meta44:54,Meta45:55,Meta46:56,Meta47:57,Meta48:58,Meta49:59,Meta50:60,Meta51:61,Meta52:62,Composite:64},g={Undefined:0,Red:1,Gray:1,Cyan:1,Green:2,Magenta:2,Blue:4,Yellow:4,Black:8,Alpha:16,Opacity:16,Index:32,Composite:31,TrueAlpha:256,get RGB(){return this.Red|this.Green|this.Blue},get CMYK(){return this.Cyan|this.Magenta|this.Yellow|this.Black},get CMYKA(){return this.Cyan|this.Magenta|this.Yellow|this.Black|this.Alpha},Meta0:1<<h.Meta0,Meta1:1<<h.Meta1,Meta2:1<<h.Meta2,Meta3:1<<h.Meta3,Meta4:1<<h.Meta4,Meta5:1<<h.Meta5,Meta6:1<<h.Meta6,Meta7:1<<h.Meta7,Meta8:1<<h.Meta8,Meta9:1<<h.Meta9,Meta10:1<<h.Meta10,Meta11:1<<h.Meta11,Meta12:1<<h.Meta12,Meta13:1<<h.Meta13,Meta14:1<<h.Meta14,Meta15:1<<h.Meta15,Meta16:1<<h.Meta16,Meta17:1<<h.Meta17,Meta18:1<<h.Meta18,Meta19:1<<h.Meta19,Meta20:1<<h.Meta20,Meta21:1<<h.Meta21,All:134217727};class u{constructor(e,t,i,r){this.red=void 0,this.green=void 0,this.blue=void 0,this.white=void 0,this.red=e,this.green=t,this.blue=i,this.white=r}}const p=0,d=1,m=2,f=3,k=4,v=5,M=6,y=7,w=8,S=9,I=10,C=11,P=12,D=13,E=14,T=15,b=16,A=17,x=18,G=19,F=20,R=21,W=22,O=23,L=24,$=25,B=26,z=27,N=28,H=29,U=30,j=31,V=32,Y=33,X=34,q=35,K=36,Q=37,J=38,Z=39,ee=40,te={[p]:"Undefined",[d]:"CMY",[m]:"CMYK",[f]:"Gray",[k]:"HCL",[v]:"HCLp",[M]:"HSB",[y]:"HSI",[w]:"HSL",[S]:"HSV",[I]:"HWB",[C]:"Lab",[P]:"LCH",[D]:"LCHab",[E]:"LCHuv",[T]:"Log",[b]:"LMS",[A]:"Luv",[x]:"OHTA",[G]:"Rec601YCbCr",[F]:"Rec709YCbCr",[R]:"RGB",[W]:"scRGB",[O]:"sRGB",[L]:"Transparent",[$]:"XyY",[B]:"XYZ",[z]:"YCbCr",[N]:"YCC",[H]:"YDbDr",[U]:"YIQ",[j]:"YPbPr",[V]:"YUV",[Y]:"LinearGray",[X]:"Jzazbz",[q]:"DisplayP3",[K]:"Adobe98",[Q]:"ProPhoto",[J]:"Oklab",[Z]:"Oklch",[ee]:"CAT02LMS"};class ie{constructor(){this.colorSpace=p,this.copyright=null,this.description=null,this.manufacturer=null,this.model=null}}class re{constructor(e){this._data=void 0,this._index=void 0,this.isLittleEndian=void 0,this._data=e,this._index=0,this.isLittleEndian=!1}get index(){return this._index}readLong(){return this.canRead(4)?this.isLittleEndian?this.readLongLSB():this.readLongMSB():null}readString(e){if(0==e)return"";if(!this.canRead(e))return null;let t=new TextDecoder("utf-8").decode(this._data.subarray(this._index,this._index+e));const i=t.indexOf("\0");return-1!=i&&(t=t.substring(0,i)),this._index+=e,t}seek(e){return!(e>=this._data.length)&&(this._index=e,!0)}skip(e){return!(this._index+e>=this._data.length)&&(this._index+=e,!0)}canRead(e){return!(e>this._data.length)&&this._index+e<=this._data.length}readLongLSB(){let e=this._data[this._index];return e|=this._data[this._index+1]<<8,e|=this._data[this._index+2]<<16,e|=this._data[this._index+3]<<24,this._index+=4,e}readLongMSB(){let e=this._data[this._index]<<24;return e|=this._data[this._index+1]<<16,e|=this._data[this._index+2]<<8,e|=this._data[this._index+3],this._index+=4,e}}class ae{constructor(e){this._data=new ie,this._reader=void 0,this._reader=new re(e)}static read(e){const t=new ae(e);return t.readColorSpace(),t.readTagTable(),t._data}readColorSpace(){this._reader.seek(16);const e=this._reader.readString(4);null!=e&&(this._data.colorSpace=this.determineColorSpace(e.trimEnd()))}determineColorSpace(e){switch(e){case"CMY":return d;case"CMYK":return m;case"GRAY":return f;case"HSL":return w;case"HSV":return S;case"Lab":return C;case"Luv":return A;case"RGB":return O;case"XYZ":return B;case"YCbr":return z;default:return p}}readTagTable(){if(!this._reader.seek(128))return;const e=this._reader.readLong();if(null!=e)for(let t=0;t<e;t++)switch(this._reader.readLong()){case 1668313716:this._data.copyright=this.readTag();break;case 1684370275:this._data.description=this.readTag();break;case 1684893284:this._data.manufacturer=this.readTag();break;case 1684890724:this._data.model=this.readTag();break;default:this._reader.skip(8)}}readTag(){const e=this._reader.readLong(),t=this._reader.readLong();if(null===e||null===t)return null;const i=this._reader.index;if(!this._reader.seek(e))return null;const r=this.readTagValue(t);return this._reader.seek(i),r}readTagValue(e){switch(this._reader.readString(4)){case"desc":return this.readTextDescriptionTypeValue();case"text":return this.readTextTypeValue(e);default:return null}}readTextDescriptionTypeValue(){if(!this._reader.skip(4))return null;const e=this._reader.readLong();return null==e?null:this._reader.readString(e)}readTextTypeValue(e){return this._reader.skip(4)?this._reader.readString(e):null}}class ne{constructor(e,t){this.name=void 0,this.data=void 0,this.name=e,this.data=t}}class se extends ne{constructor(e){super("icc",e),this._data=void 0}get colorSpace(){return this.initialize(),this._data.colorSpace}get copyright(){return this.initialize(),this._data.copyright}get description(){return this.initialize(),this._data.description}get manufacturer(){return this.initialize(),this._data.manufacturer}get model(){return this.initialize(),this._data.model}initialize(){this._data||(this._data=ae.read(this.data))}}const oe=1;class _e{constructor(e,t){this.difference=void 0,this.distortion=void 0,this.distortion=e,this.difference=t}static _create(e,t){return new _e(e,t)}}class ce{constructor(e){this.metric=void 0,this.highlightColor=void 0,this.lowlightColor=void 0,this.masklightColor=void 0,this.metric=e}_setArtifacts(e){void 0!==this.highlightColor&&e.setArtifact("compare:highlight-color",this.highlightColor),void 0!==this.lowlightColor&&e.setArtifact("compare:lowlight-color",this.lowlightColor),void 0!==this.masklightColor&&e.setArtifact("compare:masklight-color",this.masklightColor)}}const le=37,he=67,ge=400;class ue extends Error{constructor(e,t=ge){super(e),this._relatedErrors=[],this.severity=void 0,this.severity=t}get relatedErrors(){return this._relatedErrors}_setRelatedErrors(e){this._relatedErrors=e}}class pe{static get depth(){return xt._api._Quantum_Depth_Get()}static get max(){return xt._api._Quantum_Max_Get()}}function de(e,t){return 0===e?t??null:xt._api.UTF8ToString(e)}function me(e,t,i){const r=e.lengthBytesUTF8(t)+1,a=e._malloc(r);try{return e.stringToUTF8(t,a,r),i(a)}finally{e._free(a)}}function fe(e,t){return null===e?t(0):me(xt._api,e,t)}class ke{constructor(e,t,i,r,a){if(this.r=0,this.g=0,this.b=0,this.a=0,this.k=0,this.isCmyk=!1,void 0!==e)if("string"==typeof e){let t=0;try{t=xt._api._MagickColor_Create(),fe(e,(e=>{if(0===xt._api._MagickColor_Initialize(t,e))throw new ue("invalid color specified");this.initialize(t)}))}finally{xt._api._free(t)}}else this.r=e,this.g=t??0,this.b=i??0,void 0===a?this.a=r??pe.max:(this.k=r??0,this.a=a,this.isCmyk=!0)}static _create(e){const t=new ke;return t.initialize(e),t}toShortString(){return this.a!==pe.max?this.toString():this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}`}toString(){return this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k},${(this.a/pe.max).toFixed(4)})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}${this.toHex(this.a)}`}_use(e){let t=0;try{t=xt._api._MagickColor_Create(),xt._api._MagickColor_Red_Set(t,this.r),xt._api._MagickColor_Green_Set(t,this.g),xt._api._MagickColor_Blue_Set(t,this.b),xt._api._MagickColor_Alpha_Set(t,this.a),this.isCmyk?(xt._api._MagickColor_Black_Set(t,this.k),xt._api._MagickColor_IsCMYK_Set(t,1)):xt._api._MagickColor_IsCMYK_Set(t,0),e(t)}finally{xt._api._MagickColor_Dispose(t)}}initialize(e){this.r=xt._api._MagickColor_Red_Get(e),this.g=xt._api._MagickColor_Green_Get(e),this.b=xt._api._MagickColor_Blue_Get(e),this.a=xt._api._MagickColor_Alpha_Get(e),this.isCmyk=1===xt._api._MagickColor_IsCMYK_Get(e),this.isCmyk&&(this.k=xt._api._MagickColor_Black_Get(e))}toHex(e){return e.toString(16).padStart(2,"0")}}var ve=(e=>(e[e.NoValue=0]="NoValue",e[e.PercentValue=4096]="PercentValue",e[e.IgnoreAspectRatio=8192]="IgnoreAspectRatio",e[e.Less=16384]="Less",e[e.Greater=32768]="Greater",e[e.FillArea=65536]="FillArea",e[e.LimitPixels=131072]="LimitPixels",e[e.AspectRatio=1048576]="AspectRatio",e))(ve||{});class Me{constructor(e,t,i,r){if(this._includeXyInToString=void 0,this._width=0,this._height=0,this._x=0,this._y=0,this._aspectRatio=!1,this._fillArea=!1,this._greater=!1,this._isPercentage=!1,this._ignoreAspectRatio=!1,this._less=!1,this._limitPixels=!1,"number"==typeof e){if(void 0!==i&&void 0!==r?(this._width=i,this._height=r,this._x=e,this._y=t??0,this._includeXyInToString=!0):(this._width=e,this._height=t??this._width,this._x=0,this._y=0,this._includeXyInToString=!1),this._width<0)throw new ue("negative width is not allowed");if(this._height<0)throw new ue("negative height is not allowed")}else{this._includeXyInToString=e.indexOf("+")>=0||e.indexOf("-")>=0;const t=xt._api._MagickGeometry_Create();try{fe(e,(i=>{const r=xt._api._MagickGeometry_Initialize(t,i);if(r===ve.NoValue)throw new ue("invalid geometry specified");this.hasFlag(r,ve.AspectRatio)?this.initializeFromAspectRation(t,e):this.initialize(t,r)}))}finally{xt._api._MagickGeometry_Dispose(t)}}}get aspectRatio(){return this._aspectRatio}get fillArea(){return this._fillArea}set fillArea(e){this._fillArea=e}get greater(){return this._greater}set greater(e){this._greater=e}get height(){return this._height}set height(e){this._height=e}get ignoreAspectRatio(){return this._ignoreAspectRatio}set ignoreAspectRatio(e){this._ignoreAspectRatio=e}get isPercentage(){return this._isPercentage}set isPercentage(e){this._isPercentage=e}get less(){return this._less}set less(e){this._less=e}get limitPixels(){return this._limitPixels}set limitPixels(e){this._limitPixels=e}get width(){return this._width}set width(e){this._width=e}get x(){return this._x}set x(e){this._x=e}get y(){return this._y}set y(e){this._y=e}toString(){if(this._aspectRatio)return this._width+":"+this._height;let e="";return 0==this._width&&0==this._height?e+="0x0":(this._width>0&&(e+=this._width.toString()),this._height>0?e+="x"+this._height.toString():e+="x"),(0!=this._x||0!=this._y||this._includeXyInToString)&&(this._x>=0&&(e+="+"),e+=this._x,this.y>=0&&(e+="+"),e+=this.y),this._fillArea&&(e+="^"),this._greater&&(e+=">"),this._isPercentage&&(e+="%"),this._ignoreAspectRatio&&(e+="!"),this._less&&(e+="<"),this._limitPixels&&(e+="@"),e}static _fromRectangle(e){if(0===e)throw new ue("unable to allocate memory");try{const t=xt._api._MagickRectangle_Width_Get(e),i=xt._api._MagickRectangle_Height_Get(e),r=xt._api._MagickRectangle_X_Get(e),a=xt._api._MagickRectangle_Y_Get(e);return new Me(r,a,t,i)}finally{xt._api._MagickRectangle_Dispose(e)}}_toRectangle(e){const t=xt._api._MagickRectangle_Create();if(0===t)throw new ue("unable to allocate memory");try{return xt._api._MagickRectangle_Width_Set(t,this._width),xt._api._MagickRectangle_Height_Set(t,this._height),xt._api._MagickRectangle_X_Set(t,this._x),xt._api._MagickRectangle_Y_Set(t,this._y),e(t)}finally{xt._api._MagickRectangle_Dispose(t)}}initialize(e,t){this._width=xt._api._MagickGeometry_Width_Get(e),this._height=xt._api._MagickGeometry_Height_Get(e),this._x=xt._api._MagickGeometry_X_Get(e),this._y=xt._api._MagickGeometry_Y_Get(e),this._ignoreAspectRatio=this.hasFlag(t,ve.IgnoreAspectRatio),this._isPercentage=this.hasFlag(t,ve.PercentValue),this._fillArea=this.hasFlag(t,ve.FillArea),this._greater=this.hasFlag(t,ve.Greater),this._less=this.hasFlag(t,ve.Less),this._limitPixels=this.hasFlag(t,ve.LimitPixels)}initializeFromAspectRation(e,t){this._aspectRatio=!0;const i=t.split(":");this._width=this.parseNumber(i[0]),this._height=this.parseNumber(i[1]),this._x=xt._api._MagickGeometry_X_Get(e),this._y=xt._api._MagickGeometry_Y_Get(e)}parseNumber(e){let t=0;for(;t<e.length&&!this.isNumber(e[t]);)t++;const i=t;for(;t<e.length&&this.isNumber(e[t]);)t++;return parseInt(e.substr(i,t-i))}isNumber(e){return e>="0"&&e<="9"}hasFlag(e,t){return(e&t)===t}}class ye{constructor(e,t){this.x=void 0,this.y=void 0,this.x=e,this.y=t??e}static _create(e){return 0===e?new ye(0,0):new ye(xt._api._PointInfo_X_Get(e),xt._api._PointInfo_Y_Get(e))}}class we{constructor(e){this.area=void 0,this.centroid=void 0,this.color=void 0,this.height=void 0,this.id=void 0,this.width=void 0,this.x=void 0,this.y=void 0,this.area=xt._api._ConnectedComponent_GetArea(e),this.centroid=ye._create(xt._api._ConnectedComponent_GetCentroid(e)),this.color=ke._create(xt._api._ConnectedComponent_GetColor(e)),this.height=xt._api._ConnectedComponent_GetHeight(e),this.id=xt._api._ConnectedComponent_GetId(e),this.width=xt._api._ConnectedComponent_GetWidth(e),this.x=xt._api._ConnectedComponent_GetX(e),this.y=xt._api._ConnectedComponent_GetY(e)}static _create(e,t){const i=[];if(0===e)return i;for(let r=0;r<t;r++){const t=xt._api._ConnectedComponent_GetInstance(e,r);0===t||xt._api._ConnectedComponent_GetArea(t)<Number.EPSILON||i.push(new we(t))}return i}toGeometry(){return new Me(this.x,this.y,this.width,this.height)}}class Se{constructor(e){this.angleThreshold=void 0,this.areaThreshold=void 0,this.circularityThreshold=void 0,this.connectivity=void 0,this.diameterThreshold=void 0,this.eccentricityThreshold=void 0,this.majorAxisThreshold=void 0,this.meanColor=void 0,this.minorAxisThreshold=void 0,this.perimeterThreshold=void 0,this.connectivity=e}_setArtifacts(e){void 0!==this.angleThreshold&&e.setArtifact("connected-components:angle-threshold",this.angleThreshold.toString()),void 0!==this.areaThreshold&&e.setArtifact("connected-components:area-threshold",this.areaThreshold.toString()),void 0!==this.circularityThreshold&&e.setArtifact("connected-components:circularity-threshold",this.circularityThreshold.toString()),void 0!==this.diameterThreshold&&e.setArtifact("connected-components:diameter-threshold",this.diameterThreshold.toString()),void 0!==this.eccentricityThreshold&&e.setArtifact("connected-components:eccentricity-threshold",this.eccentricityThreshold.toString()),void 0!==this.majorAxisThreshold&&e.setArtifact("connected-components:major-axis-threshold",this.majorAxisThreshold.toString()),void 0!==this.meanColor&&e.setArtifact("connected-components:mean-color",this.meanColor.toString()),void 0!==this.minorAxisThreshold&&e.setArtifact("connected-components:minor-axis-threshold",this.minorAxisThreshold.toString()),void 0!==this.perimeterThreshold&&e.setArtifact("connected-components:perimeter-threshold",this.perimeterThreshold.toString())}}const Ie=0,Ce=1,Pe=2;class De{constructor(e,t,i){this.x=void 0,this.y=void 0,this.units=void 0,void 0===t?(this.x=e,this.y=e,this.units=Ce):void 0!==i?(this.x=e,this.y=t,this.units=i):(this.x=e,this.y=e,this.units=t)}toString(e){return e==this.units||e===Ie||void 0===e?De.toString(this.x,this.y,e??Ie):this.units==Pe&&e==Ce?De.toString(2.54*this.x,2.54*this.y,e):De.toString(this.x/2.54,this.y/2.54,e)}static toString(e,t,i){let r=`${e}x${t}`;switch(i){case Pe:r+="cm";break;case Ce:r+="inch"}return r}}class Ee{static _disposeAfterExecution(e,t){try{const i=t(e);return i instanceof Promise?Promise.resolve(i).then((t=>(e.dispose(),Ee.checkResult(e,t),t))):(e.dispose(),Ee.checkResult(e,i),i)}catch(t){throw e.dispose(),t}}static checkResult(e,t){if(t===e)throw new ue("The result of the function cannot be the instance that has been disposed.");return t}}class Te{constructor(e,t,i){this._pointer=void 0,this._bytes=void 0,this._func=void 0,this._pointer=e,this._func=i,this._bytes=xt._api.HEAPU8.subarray(e,e+t)}func(e){return void 0===e._bytes?e._func(new Uint8Array):e._func(e._bytes)}dispose(){this._pointer=xt._api._MagickMemory_Relinquish(this._pointer)}}class be{constructor(e,t){this.instance=void 0,this.type=void 0,this.instance=xt._api._malloc(e),this.type=t,xt._api.setValue(this.instance,0,this.type)}get ptr(){return this.instance}get value(){return xt._api.getValue(this.instance,this.type)}}class Ae extends be{constructor(){super(4,"i32")}static use(e){const t=new Ae;try{return e(t)}finally{xt._api._free(t.ptr)}}}class xe{constructor(e){this.pointer=void 0,this.pointer=e}get ptr(){return this.pointer.ptr}check(e,t){return this.isError()?t():e()}static usePointer(e,t){return Ae.use((i=>{const r=e(i.ptr);return xe.checkException(i,r,t)}))}static use(e,t){return Ae.use((i=>{const r=e(new xe(i));return xe.checkException(i,r,t)}))}static checkException(e,t,i){if(!xe.isRaised(e))return t;const r=xe.getErrorSeverity(e.value);if(r>=ge)xe.throw(e,r);else if(void 0!==i){i(xe.createError(e.value,r))}else xe.dispose(e);return t}isError(){return!!xe.isRaised(this.pointer)&&xe.getErrorSeverity(this.pointer.value)>=ge}static getErrorSeverity(e){return xt._api._MagickExceptionHelper_Severity(e)}static isRaised(e){return 0!==e.value}static throw(e,t){const i=xe.createError(e.value,t);throw xe.dispose(e),i}static createError(e,t){const i=xe.getMessage(e),r=new ue(i,t),a=xt._api._MagickExceptionHelper_RelatedCount(e);if(0===a)return r;const n=[];for(let t=0;t<a;t++){const i=xt._api._MagickExceptionHelper_Related(e,t),r=xe.getErrorSeverity(i),a=xe.createError(i,r);n.push(a)}return r._setRelatedErrors(n),r}static getMessage(e){const t=xt._api._MagickExceptionHelper_Message(e),i=xt._api._MagickExceptionHelper_Description(e);let r=de(t,"Unknown error");return 0!==i&&(r+=`(${xt._api.UTF8ToString(i)})`),r}static dispose(e){xt._api._MagickExceptionHelper_Dispose(e.value)}}class Ge{constructor(e,t){this.disposeMethod=void 0,this.instance=void 0,this.instance=e,this.disposeMethod=t}get _instance(){if(this.instance>0)return this.instance;throw-1===this.instance&&this._instanceNotInitialized(),new ue("instance is disposed")}set _instance(e){this.disposeInstance(this.instance),this.instance=e}dispose(){this.instance=this.disposeInstance(this.instance)}_instanceNotInitialized(){throw new ue("instance is not initialized")}_setInstance(e,t){return t.check((()=>0!==this.instance&&(this.dispose(),this.instance=e,!0)),(()=>(this.disposeInstance(e),!0)))}disposeInstance(e){return e>0&&(void 0!==this.onDispose&&this.onDispose(),this.disposeMethod(e)),0}}class Fe{constructor(e,t,i,r,a,n,s){this.ascent=void 0,this.descent=void 0,this.maxHorizontalAdvance=void 0,this.textHeight=void 0,this.textWidth=void 0,this.underlinePosition=void 0,this.underlineThickness=void 0,this.ascent=e,this.descent=t,this.maxHorizontalAdvance=i,this.textHeight=r,this.textWidth=a,this.underlinePosition=n,this.underlineThickness=s}static _create(e){if(0==e)return null;try{const t=xt._api._TypeMetric_Ascent_Get(e),i=xt._api._TypeMetric_Descent_Get(e),r=xt._api._TypeMetric_MaxHorizontalAdvance_Get(e),a=xt._api._TypeMetric_TextHeight_Get(e),n=xt._api._TypeMetric_TextWidth_Get(e),s=xt._api._TypeMetric_UnderlinePosition_Get(e),o=xt._api._TypeMetric_UnderlineThickness_Get(e);return new Fe(t,i,r,a,n,s,o)}finally{xt._api._TypeMetric_Dispose(e)}}}function Re(e,t){if(0===e.byteLength)throw new ue("The specified array cannot be empty");let i=0;try{return i=xt._api._malloc(e.byteLength),xt._api.HEAPU8.set(e,i),t(i)}finally{0!==i&&xt._api._free(i)}}function We(e,t){if(0===e.length)throw new ue("The specified array cannot be empty");const i=8*e.length;let r=0;try{r=xt._api._malloc(i);const a=new ArrayBuffer(i),n=new Float64Array(a);for(let t=0;t<e.length;t++)n[t]=e[t];return xt._api.HEAPU8.set(new Int8Array(a),r),t(r)}finally{0!==r&&xt._api._free(r)}}class Oe extends Ge{constructor(e){super(e.settings._drawing._use((t=>xt._api._DrawingWand_Create(e._instance,t._instance))),xt._api._DrawingWand_Dispose)}affine(e,t,i,r,a,n){xe.usePointer((s=>{xt._api._DrawingWand_Affine(this._instance,e,t,i,r,a,n,s)}))}borderColor(e){xe.usePointer((t=>{e._use((e=>{xt._api._DrawingWand_BorderColor(this._instance,e,t)}))}))}color(e,t,i){xe.usePointer((r=>{xt._api._DrawingWand_Color(this._instance,e,t,i,r)}))}draw(e){e.forEach((e=>{e.draw(this)})),xe.usePointer((e=>{xt._api._DrawingWand_Render(this._instance,e)}))}fillColor(e){xe.usePointer((t=>{e._use((e=>{xt._api._DrawingWand_FillColor(this._instance,e,t)}))}))}fillOpacity(e){xe.usePointer((t=>{xt._api._DrawingWand_FillOpacity(this._instance,e,t)}))}fillRule(e){xe.usePointer((t=>{xt._api._DrawingWand_FillRule(this._instance,e,t)}))}font(e){xe.usePointer((t=>{fe(e,(e=>{xt._api._DrawingWand_Font(this._instance,e,t)}))}))}fontPointSize(e){xe.usePointer((t=>{xt._api._DrawingWand_FontPointSize(this._instance,e,t)}))}fontTypeMetrics(e,t){return xe.usePointer((i=>fe(e,(e=>{const r=xt._api._DrawingWand_FontTypeMetrics(this._instance,e,t?1:0,i);return Fe._create(r)}))))}gravity(e){xe.usePointer((t=>{xt._api._DrawingWand_Gravity(this._instance,e,t)}))}line(e,t,i,r){xe.usePointer((a=>{xt._api._DrawingWand_Line(this._instance,e,t,i,r,a)}))}pathFinish(){xe.usePointer((e=>{xt._api._DrawingWand_PathFinish(this._instance,e)}))}pathLineToAbs(e,t){xe.usePointer((i=>{xt._api._DrawingWand_PathLineToAbs(this._instance,e,t,i)}))}pathLineToRel(e,t){xe.usePointer((i=>{xt._api._DrawingWand_PathLineToRel(this._instance,e,t,i)}))}pathMoveToAbs(e,t){xe.usePointer((i=>{xt._api._DrawingWand_PathMoveToAbs(this._instance,e,t,i)}))}pathMoveToRel(e,t){xe.usePointer((i=>{xt._api._DrawingWand_PathMoveToRel(this._instance,e,t,i)}))}pathStart(){xe.usePointer((e=>{xt._api._DrawingWand_PathStart(this._instance,e)}))}point(e,t){xe.usePointer((i=>{xt._api._DrawingWand_Point(this._instance,e,t,i)}))}rectangle(e,t,i,r){xe.usePointer((a=>{xt._api._DrawingWand_Rectangle(this._instance,e,t,i,r,a)}))}roundRectangle(e,t,i,r,a,n){xe.usePointer((s=>{xt._api._DrawingWand_RoundRectangle(this._instance,e,t,i,r,a,n,s)}))}strokeColor(e){xe.usePointer((t=>{e._use((e=>{xt._api._DrawingWand_StrokeColor(this._instance,e,t)}))}))}strokeDashArray(e){xe.usePointer((t=>{We(e,(i=>{xt._api._DrawingWand_StrokeDashArray(this._instance,i,e.length,t)}))}))}strokeDashOffset(e){xe.usePointer((t=>{xt._api._DrawingWand_StrokeDashOffset(this._instance,e,t)}))}strokeWidth(e){xe.usePointer((t=>{xt._api._DrawingWand_StrokeWidth(this._instance,e,t)}))}text(e,t,i){xe.usePointer((r=>{fe(i,(i=>{xt._api._DrawingWand_Text(this._instance,e,t,i,r)}))}))}textAlignment(e){xe.usePointer((t=>{xt._api._DrawingWand_TextAlignment(this._instance,e,t)}))}textAntialias(e){xe.usePointer((t=>{xt._api._DrawingWand_TextAntialias(this._instance,e?1:0,t)}))}textDecoration(e){xe.usePointer((t=>{xt._api._DrawingWand_TextDecoration(this._instance,e,t)}))}textInterlineSpacing(e){xe.usePointer((t=>{xt._api._DrawingWand_TextInterlineSpacing(this._instance,e,t)}))}textInterwordspacing(e){xe.usePointer((t=>{xt._api._DrawingWand_TextInterwordSpacing(this._instance,e,t)}))}textKerning(e){xe.usePointer((t=>{xt._api._DrawingWand_TextKerning(this._instance,e,t)}))}textUnderColor(e){xe.usePointer((t=>{e._use((e=>{xt._api._DrawingWand_TextUnderColor(this._instance,e,t)}))}))}static _use(e,t){const i=new Oe(e);return Ee._disposeAfterExecution(i,t)}}class Le extends be{constructor(){super(8,"double")}static use(e){const t=new Le;try{return e(t)}finally{xt._api._free(t.ptr)}}}const $e=0,Be=1,ze=2,Ne=3,He=4,Ue=5,je=6,Ve=7,Ye=8,Xe=9;function*qe(e){for(const t of e)switch(t){case ze:yield"north";break;case Ne:yield"north",yield"east";break;case Be:yield"north",yield"west";break;case je:yield"east";break;case He:yield"west";break;case Ye:yield"south";break;case Xe:yield"south",yield"east";break;case Ve:yield"south",yield"west"}}class Ke{constructor(e,t,i){this.meanErrorPerPixel=void 0,this.normalizedMaximumError=void 0,this.normalizedMeanError=void 0,this.meanErrorPerPixel=e,this.normalizedMeanError=t,this.normalizedMaximumError=i}static _create(e){const t=xt._api._MagickImage_MeanErrorPerPixel_Get(e._instance),i=xt._api._MagickImage_NormalizedMeanError_Get(e._instance),r=xt._api._MagickImage_NormalizedMaximumError_Get(e._instance);return new Ke(t,i,r)}}const Qe={Unknown:"UNKNOWN",ThreeFr:"3FR",ThreeG2:"3G2",ThreeGp:"3GP",A:"A",Aai:"AAI",Ai:"AI",APng:"APNG",Art:"ART",Arw:"ARW",Ashlar:"ASHLAR",Avci:"AVCI",Avi:"AVI",Avif:"AVIF",Avs:"AVS",B:"B",Bayer:"BAYER",Bayera:"BAYERA",Bgr:"BGR",Bgra:"BGRA",Bgro:"BGRO",Bmp:"BMP",Bmp2:"BMP2",Bmp3:"BMP3",Brf:"BRF",C:"C",Cal:"CAL",Cals:"CALS",Canvas:"CANVAS",Caption:"CAPTION",Cin:"CIN",Cip:"CIP",Clip:"CLIP",Cmyk:"CMYK",Cmyka:"CMYKA",Cr2:"CR2",Cr3:"CR3",Crw:"CRW",Cube:"CUBE",Cur:"CUR",Cut:"CUT",Data:"DATA",Dcm:"DCM",Dcr:"DCR",Dcraw:"DCRAW",Dcx:"DCX",Dds:"DDS",Dfont:"DFONT",Dng:"DNG",Dpx:"DPX",Dxt1:"DXT1",Dxt5:"DXT5",Epdf:"EPDF",Epi:"EPI",Eps:"EPS",Eps2:"EPS2",Eps3:"EPS3",Epsf:"EPSF",Epsi:"EPSI",Ept:"EPT",Ept2:"EPT2",Ept3:"EPT3",Erf:"ERF",Exr:"EXR",Farbfeld:"FARBFELD",Fax:"FAX",Ff:"FF",Fff:"FFF",File:"FILE",Fits:"FITS",Fl32:"FL32",Flv:"FLV",Fractal:"FRACTAL",Ftp:"FTP",Fts:"FTS",Ftxt:"FTXT",G:"G",G3:"G3",G4:"G4",Gif:"GIF",Gif87:"GIF87",Gradient:"GRADIENT",Gray:"GRAY",Graya:"GRAYA",Group4:"GROUP4",Hald:"HALD",Hdr:"HDR",Heic:"HEIC",Heif:"HEIF",Histogram:"HISTOGRAM",Hrz:"HRZ",Htm:"HTM",Html:"HTML",Http:"HTTP",Https:"HTTPS",Icb:"ICB",Ico:"ICO",Icon:"ICON",Icn:"ICN",Iiq:"IIQ",Info:"INFO",Inline:"INLINE",Ipl:"IPL",Isobrl:"ISOBRL",Isobrl6:"ISOBRL6",J2c:"J2C",J2k:"J2K",Jng:"JNG",Jnx:"JNX",Jp2:"JP2",Jpc:"JPC",Jpe:"JPE",Jpeg:"JPEG",Jpg:"JPG",Jpm:"JPM",Jps:"JPS",Jpt:"JPT",Json:"JSON",Jxl:"JXL",K:"K",K25:"K25",Kdc:"KDC",Label:"LABEL",M:"M",M2v:"M2V",M4v:"M4V",Mac:"MAC",Map:"MAP",Mask:"MASK",Mat:"MAT",Matte:"MATTE",Mdc:"MDC",Mef:"MEF",Miff:"MIFF",Mkv:"MKV",Mng:"MNG",Mono:"MONO",Mov:"MOV",Mos:"MOS",Mp4:"MP4",Mpc:"MPC",Mpeg:"MPEG",Mpg:"MPG",Mpo:"MPO",Mrw:"MRW",Msl:"MSL",Msvg:"MSVG",Mtv:"MTV",Mvg:"MVG",Nef:"NEF",Nrw:"NRW",Null:"NULL",O:"O",Ora:"ORA",Orf:"ORF",Otb:"OTB",Otf:"OTF",Pal:"PAL",Palm:"PALM",Pam:"PAM",Pango:"PANGO",Pattern:"PATTERN",Pbm:"PBM",Pcd:"PCD",Pcds:"PCDS",Pcl:"PCL",Pct:"PCT",Pcx:"PCX",Pdb:"PDB",Pdf:"PDF",Pdfa:"PDFA",Pef:"PEF",Pes:"PES",Pfa:"PFA",Pfb:"PFB",Pfm:"PFM",Pgm:"PGM",Pgx:"PGX",Phm:"PHM",Picon:"PICON",Pict:"PICT",Pix:"PIX",Pjpeg:"PJPEG",Plasma:"PLASMA",Png:"PNG",Png00:"PNG00",Png24:"PNG24",Png32:"PNG32",Png48:"PNG48",Png64:"PNG64",Png8:"PNG8",Pnm:"PNM",Pocketmod:"POCKETMOD",Ppm:"PPM",Ps:"PS",Ps2:"PS2",Ps3:"PS3",Psb:"PSB",Psd:"PSD",Ptif:"PTIF",Pwp:"PWP",Qoi:"QOI",R:"R",RadialGradient:"RADIAL-GRADIENT",Raf:"RAF",Ras:"RAS",Raw:"RAW",Rgb:"RGB",Rgb565:"RGB565",Rgba:"RGBA",Rgbo:"RGBO",Rgf:"RGF",Rla:"RLA",Rle:"RLE",Rmf:"RMF",Rw2:"RW2",Rwl:"RWL",Scr:"SCR",Screenshot:"SCREENSHOT",Sct:"SCT",Sf3:"SF3",Sfw:"SFW",Sgi:"SGI",Shtml:"SHTML",Six:"SIX",Sixel:"SIXEL",SparseColor:"SPARSE-COLOR",Sr2:"SR2",Srf:"SRF",Srw:"SRW",Stegano:"STEGANO",Sti:"STI",StrImg:"STRIMG",Sun:"SUN",Svg:"SVG",Svgz:"SVGZ",Text:"TEXT",Tga:"TGA",Thumbnail:"THUMBNAIL",Tif:"TIF",Tiff:"TIFF",Tiff64:"TIFF64",Tile:"TILE",Tim:"TIM",Tm2:"TM2",Ttc:"TTC",Ttf:"TTF",Txt:"TXT",Ubrl:"UBRL",Ubrl6:"UBRL6",Uil:"UIL",Uyvy:"UYVY",Vda:"VDA",Vicar:"VICAR",Vid:"VID",Viff:"VIFF",Vips:"VIPS",Vst:"VST",WebM:"WEBM",WebP:"WEBP",Wbmp:"WBMP",Wmv:"WMV",Wpg:"WPG",X3f:"X3F",Xbm:"XBM",Xc:"XC",Xcf:"XCF",Xpm:"XPM",Xps:"XPS",Xv:"XV",Y:"Y",Yaml:"YAML",Ycbcr:"YCBCR",Ycbcra:"YCBCRA",Yuv:"YUV"},Je=13,Ze=14,et=15,tt=16;class it extends Ge{constructor(e){super(xt._api._DrawingSettings_Create(),xt._api._DrawingSettings_Dispose);const t=e.affine;if(void 0!==t&&xt._api._DrawingSettings_SetAffine(this._instance,t.scaleX,t.scaleY,t.shearX,t.shearY,t.translateX,t.translateY),void 0!==e.borderColor&&e.borderColor._use((e=>{xt._api._DrawingSettings_BorderColor_Set(this._instance,e)})),void 0!==e.fillColor&&e.fillColor._use((e=>{xt._api._DrawingSettings_FillColor_Set(this._instance,e)})),void 0!==e.fillRule&&xt._api._DrawingSettings_FillRule_Set(this._instance,e.fillRule),void 0!==e.font){fe($t._getFontFileName(e.font),(e=>{xt._api._DrawingSettings_Font_Set(this._instance,e)}))}void 0!==e.fontPointsize&&xt._api._DrawingSettings_FontPointsize_Set(this._instance,e.fontPointsize),void 0!==e.strokeColor&&e.strokeColor._use((e=>{xt._api._DrawingSettings_StrokeColor_Set(this._instance,e)}));const i=e.strokeDashArray;void 0!==i&&We(i,(e=>{xt._api._DrawingSettings_SetStrokeDashArray(this._instance,e,i.length)})),void 0!==e.strokeDashOffset&&xt._api._DrawingSettings_StrokeDashOffset_Set(this._instance,e.strokeDashOffset),void 0!==e.strokeWidth&&xt._api._DrawingSettings_StrokeWidth_Set(this._instance,e.strokeWidth),void 0!==e.textAntiAlias&&xt._api._DrawingSettings_TextAntiAlias_Set(this._instance,e.textAntiAlias?1:0),void 0!==e.textGravity&&xt._api._DrawingSettings_TextGravity_Set(this._instance,e.textGravity),void 0!==e.textKerning&&xt._api._DrawingSettings_TextKerning_Set(this._instance,e.textKerning),void 0!==e.textUnderColor&&e.textUnderColor._use((e=>{xt._api._DrawingSettings_TextUnderColor_Set(this._instance,e)}))}setFillColor(e){void 0!==e?e._use((e=>{xt._api._DrawingSettings_FillColor_Set(this._instance,e)})):xt._api._DrawingSettings_FillColor_Set(this._instance,0)}setFillPattern(e){xe.usePointer((t=>{void 0!==e?xt._api._DrawingSettings_SetFillPattern(this._instance,e._instance,t):xt._api._DrawingSettings_SetFillPattern(this._instance,0,t)}))}}class rt{constructor(){this.affine=void 0,this.borderColor=void 0,this.backgroundColor=void 0,this.fillColor=void 0,this.fillRule=void 0,this.font=void 0,this.fontPointsize=void 0,this.strokeColor=void 0,this.strokeDashArray=void 0,this.strokeDashOffset=void 0,this.strokeWidth=void 0,this.textAntiAlias=void 0,this.textGravity=void 0,this.textKerning=void 0,this.textUnderColor=void 0}_use(e){const t=new it(this);return Ee._disposeAfterExecution(t,e)}}const at=0;class nt extends Ge{constructor(e){if(super(xt._api._MagickSettings_Create(),xt._api._MagickSettings_Dispose),void 0!==e._colorFuzz&&xt._api._MagickSettings_SetColorFuzz(this._instance,e._colorFuzz),void 0!==e._fileName&&fe(e._fileName,(e=>{xt._api._MagickSettings_SetFileName(this._instance,e)})),e._ping&&xt._api._MagickSettings_SetPing(this._instance,1),void 0!==e._quality&&xt._api._MagickSettings_SetQuality(this._instance,e._quality),void 0!==e.antiAlias&&xt._api._MagickSettings_AntiAlias_Set(this._instance,e.antiAlias?1:0),void 0!==e.backgroundColor&&e.backgroundColor._use((e=>{xt._api._MagickSettings_BackgroundColor_Set(this._instance,e)})),void 0!==e.colorSpace&&xt._api._MagickSettings_ColorSpace_Set(this._instance,e.colorSpace),void 0!==e.colorType&&xt._api._MagickSettings_ColorType_Set(this._instance,e.colorType),void 0!==e.compression&&xt._api._MagickSettings_Compression_Set(this._instance,e.compression),void 0!==e.debug&&xt._api._MagickSettings_Debug_Set(this._instance,e.debug?1:0),void 0!==e.density){fe(e.density.toString(),(e=>{xt._api._MagickSettings_Density_Set(this._instance,e)}))}if(void 0!==e.depth&&xt._api._MagickSettings_Depth_Set(this._instance,e.depth),void 0!==e.endian&&xt._api._MagickSettings_Endian_Set(this._instance,e.endian),void 0!==e.fillColor&&this.setOption("fill",e.fillColor.toString()),void 0!==e.font){fe($t._getFontFileName(e.font),(e=>{xt._api._MagickSettings_SetFont(this._instance,e)}))}void 0!==e.fontPointsize&&xt._api._MagickSettings_FontPointsize_Set(this._instance,e.fontPointsize),void 0!==e.format&&fe(e.format,(e=>{xt._api._MagickSettings_Format_Set(this._instance,e)})),void 0!==e.interlace&&xt._api._MagickSettings_Interlace_Set(this._instance,e.interlace),void 0!==e.page&&fe(e.page.toString(),(e=>{xt._api._MagickSettings_SetPage(this._instance,e)})),void 0!==e.strokeColor&&this.setOption("stroke",e.strokeColor.toString()),void 0!==e.strokeWidth&&this.setOption("strokeWidth",e.strokeWidth.toString()),void 0!==e.textInterlineSpacing&&this.setOption("interline-spacing",e.textInterlineSpacing.toString());for(const t in e._options)this.setOption(t,e._options[t])}setOption(e,t){fe(e,(e=>{fe(t,(t=>{xt._api._MagickSettings_SetOption(this._instance,e,t)}))}))}}class st{constructor(){this._colorFuzz=void 0,this._drawing=new rt,this._fileName=void 0,this._onArtifact=void 0,this._options={},this._ping=!1,this._quality=void 0,this.antiAlias=void 0,this.backgroundColor=void 0,this.colorSpace=void 0,this.colorType=void 0,this.compression=void 0,this.debug=void 0,this.density=void 0,this.depth=void 0,this.endian=void 0,this.format=void 0,this.interlace=void 0,this.page=void 0,this.textInterlineSpacing=void 0}get affine(){return this._drawing.affine}set affine(e){this._drawing.affine=e}get borderColor(){return this._drawing.borderColor}set borderColor(e){this._drawing.borderColor=e}get fillColor(){return this._drawing.fillColor}set fillColor(e){this.setDefineAndArtifact("fill",e?.toString()),this._drawing.fillColor=e}get fillRule(){return this._drawing.fillRule??at}set fillRule(e){this._drawing.fillRule=e}get font(){return this._drawing.font}set font(e){this._drawing.font=e}get fontPointsize(){return this._drawing.fontPointsize}set fontPointsize(e){this._drawing.fontPointsize=e}get strokeColor(){return this._drawing.strokeColor}set strokeColor(e){this._drawing.strokeColor=e}get strokeDashArray(){return this._drawing.strokeDashArray}set strokeDashArray(e){this._drawing.strokeDashArray=e}get strokeDashOffset(){return this._drawing.strokeDashOffset}set strokeDashOffset(e){this._drawing.strokeDashOffset=e}get strokeWidth(){return this._drawing.strokeWidth}set strokeWidth(e){this.setDefineAndArtifact("stroke",e?.toString()),this._drawing.strokeWidth=e}get textAntiAlias(){return this._drawing.textAntiAlias}set textAntiAlias(e){this._drawing.textAntiAlias=e}get textKerning(){return this._drawing.textKerning}set textKerning(e){this.setDefineAndArtifact("kerning",e?.toString()),this._drawing.textKerning=e}get textGravity(){return this._drawing.textGravity}set textGravity(e){this.setDefineAndArtifact("gravity",function(e){switch(e){case ze:return"north";case Ne:return"northeast";case Be:return"northwest";case je:return"east";case He:return"west";case Ye:return"south";case Xe:return"southeast";case Ve:return"southwest";case Ue:return"center";default:return}}(e)),this._drawing.textGravity=e}get textUnderColor(){return this._drawing.textUnderColor}set textUnderColor(e){this._drawing.textUnderColor=e}getDefine(e,t){return void 0!==t?this._options[`${e}:${t}`]??null:this._options[e]??null}removeDefine(e,t){if(void 0===t)delete this._options[e];else{const i=this.parseDefine(e,t);delete this._options[i]}}setDefine(e,t,i){if(void 0===i)this._options[e]=t;else{const r=this.parseDefine(e,t);this._options[r]="string"==typeof i?i:"number"==typeof i?i.toString():i?"true":"false"}}setDefines(e){e.getDefines().forEach((e=>{void 0!==e&&this.setDefine(e.format,e.name,e.value)}))}_clone(){const e=new st;return Object.assign(e,this),e}_use(e){const t=new nt(this);return Ee._disposeAfterExecution(t,e)}parseDefine(e,t){return e===Qe.Unknown?t:`${e}:${t}`}setDefineAndArtifact(e,t){void 0===t?this.removeDefine(e):this.setDefine(e,t),void 0!==this._onArtifact&&this._onArtifact(e,t)}}class ot extends st{constructor(e){super(),this.extractArea=void 0,this.frameIndex=void 0,this.frameCount=void 0,this.height=void 0,this.width=void 0,Object.assign(this,e)}get syncImageWithExifProfile(){const e=this.getDefine("exif:sync-image");return null===e||"true"===e.toLowerCase()}set syncImageWithExifProfile(e){this.setDefine("exif:sync-image",e.toString())}get syncImageWithTiffProperties(){const e=this.getDefine("tiff:sync-image");return null===e||"true"===e.toLowerCase()}set syncImageWithTiffProperties(e){this.setDefine("tiff:sync-image",e.toString())}_use(e){const t=new nt(this),i=this.getSize();if(""!==i&&fe(i,(e=>{xt._api._MagickSettings_SetSize(t._instance,e)})),void 0!==this.frameIndex||void 0!==this.frameCount){const e=this.frameIndex??0,i=this.frameCount??1;xt._api._MagickSettings_SetScene(t._instance,e),xt._api._MagickSettings_SetNumberScenes(t._instance,i);fe((void 0!==this.frameCount?`${e}-${e+i}`:e.toString()).toString(),(e=>{xt._api._MagickSettings_SetScenes(t._instance,e)}))}return void 0!==this.extractArea&&fe(this.extractArea.toString(),(e=>{xt._api._MagickSettings_Extract_Set(t._instance,e)})),Ee._disposeAfterExecution(t,e)}getSize(){return void 0!==this.width&&void 0!==this.height?`${this.width}x${this.height}`:void 0!==this.width?`${this.width}x`:void 0!==this.height?`x${this.height}`:""}}const _t=1,ct=2;class lt extends Ge{constructor(e){super(xt._api._QuantizeSettings_Create(),xt._api._QuantizeSettings_Dispose),xt._api._QuantizeSettings_SetColors(this._instance,e.colors),xt._api._QuantizeSettings_SetColorSpace(this._instance,e.colorSpace),xt._api._QuantizeSettings_SetDitherMethod(this._instance,e.ditherMethod??_t),xt._api._QuantizeSettings_SetMeasureErrors(this._instance,e.measureErrors?1:0),xt._api._QuantizeSettings_SetTreeDepth(this._instance,e.treeDepth)}}class ht{constructor(){this.colors=void 0,this.colorSpace=void 0,this.ditherMethod=void 0,this.measureErrors=void 0,this.treeDepth=void 0,this.colors=256,this.colorSpace=p,this.ditherMethod=ct,this.measureErrors=!1,this.treeDepth=0}_use(e){const t=new lt(this);return Ee._disposeAfterExecution(t,e)}}class gt{constructor(e){this._image=void 0,this._names=[],this._image=e}setArtifact(e,t){this._names.push(e),this._image.setArtifact(e,t)}static use(e,t){const i=new gt(e);try{return t(i)}finally{i.dispose()}}dispose(){for(const e of this._names)this._image.removeArtifact(e)}}class ut extends Array{constructor(){super()}static create(e){const t=ut.createObject();return void 0!==e&&t.read(e),t}dispose(){let e=this.pop();for(;void 0!==e;)e.dispose(),e=this.pop()}appendHorizontally(e){return this.createImage(((e,t)=>xt._api._MagickImageCollection_Append(e,0,t.ptr)),e)}appendVertically(e){return this.createImage(((e,t)=>xt._api._MagickImageCollection_Append(e,1,t.ptr)),e)}clone(e){return ut.use((t=>{for(let e=0;e<this.length;e++)t.push(Et._clone(this[e]));return e(t)}))}coalesce(){this.replaceImages(((e,t)=>xt._api._MagickImageCollection_Coalesce(e,t.ptr)))}combine(e,t){let i=t,r=O;return"number"==typeof e?r=e:i=e,this.createImage(((e,t)=>xt._api._MagickImageCollection_Combine(e,r,t.ptr)),i)}complex(e,t){return gt.use(this[0],(i=>(e._setArtifacts(i),this.createImage(((t,i)=>xt._api._MagickImageCollection_Complex(t,e.complexOperator,i.ptr)),t))))}deconstruct(){this.replaceImages(((e,t)=>xt._api._MagickImageCollection_Deconstruct(e,t.ptr)))}evaluate(e,t){return this.createImage(((t,i)=>xt._api._MagickImageCollection_Evaluate(t,e,i.ptr)),t)}flatten(e){return this.mergeImages(Ze,e)}fx(e,t,i){this.throwIfEmpty();let r=g.All,a=i;return"number"==typeof t?r=t:a=t,fe(e,(e=>this.createImage(((t,i)=>xt._api._MagickImageCollection_Fx(t,e,r,i.ptr)),a)))}merge(e){return this.mergeImages(Je,e)}montage(e,t){return this.throwIfEmpty(),this.attachImages((i=>{const r=e._use((e=>xe.use((t=>{const r=xt._api._MagickImageCollection_Montage(i,e._instance,t.ptr);return this.checkResult(r,t)}))));return ut._createFromImages(r,this.getSettings(),(i=>{const r=e.transparentColor;return void 0!==r&&i.forEach((e=>{e.transparent(r)})),i.merge(t)}))}))}morph(e){if(this.length<2)throw new ue("operation requires at least two images");this.replaceImages(((t,i)=>xt._api._MagickImageCollection_Morph(t,e,i.ptr)))}mosaic(e){return this.mergeImages(et,e)}optimize(){this.replaceImages(((e,t)=>xt._api._MagickImageCollection_Optimize(e,t.ptr)))}optimizePlus(){this.replaceImages(((e,t)=>xt._api._MagickImageCollection_OptimizePlus(e,t.ptr)))}optimizeTransparency(){this.throwIfEmpty(),this.attachImages((e=>{xe.usePointer((t=>{xt._api._MagickImageCollection_OptimizeTransparency(e,t)}))}))}ping(e,t){this.readOrPing(!0,e,t)}polynomial(e,t){return this.createImage(((t,i)=>We(e,(r=>xt._api._MagickImageCollection_Polynomial(t,r,e.length,i.ptr)))),t)}quantize(e){this.throwIfEmpty();const t=void 0===e?new ht:e;return this.attachImages((e=>{t._use((t=>{xe.usePointer((i=>{xt._api._MagickImageCollection_Quantize(e,t._instance,i)}))}))})),t.measureErrors?Ke._create(this[0]):null}read(e,t){this.readOrPing(!1,e,t)}remap(e,t){this.throwIfEmpty();const i=void 0===t?new ht:t;this.attachImages((t=>{i._use((i=>{xe.use((r=>{xt._api._MagickImageCollection_Remap(t,i._instance,e._instance,r.ptr)}))}))}))}resetPage(){this.forEach((e=>{e.resetPage()}))}smushHorizontal(e,t){return this.smush(e,!1,t)}smushVertical(e,t){return this.smush(e,!0,t)}trimBounds(){this.mergeImages(tt,(()=>{}))}static use(e){const t=ut.create();return Ee._disposeAfterExecution(t,e)}write(e,t){this.throwIfEmpty();let i=0,r=0;const a=this[0],n=this.getSettings();void 0!==t?n.format=e:(t=e,n.format=a.format),xe.use((e=>{Ae.use((t=>{n._use((a=>{this.attachImages((n=>{i=xt._api._MagickImage_WriteBlob(n,a._instance,t.ptr,e.ptr),r=t.value}))}))}))}));const s=new Te(i,r,t);return Ee._disposeAfterExecution(s,s.func)}static _createFromImages(e,t,i){const r=ut.createObject();return r.addImages(e,t._clone()),i(r)}addImages(e,t){t.format=Qe.Unknown;let i=e;for(;0!==i;){const e=xt._api._MagickImage_GetNext(i);xt._api._MagickImage_SetNext(i,0),this.push(Et._createFromImage(i,t)),i=e}}attachImages(e){try{for(let e=0;e<this.length-1;e++)xt._api._MagickImage_SetNext(this[e]._instance,this[e+1]._instance);return e(this[0]._instance)}finally{for(let e=0;e<this.length-1;e++)xt._api._MagickImage_SetNext(this[e]._instance,0)}}checkResult(e,t){return t.check((()=>e),(()=>(xt._api._MagickImageCollection_Dispose(e),0)))}static createObject(){return Object.create(ut.prototype)}createImage(e,t){this.throwIfEmpty();const i=this.attachImages((t=>xe.use((i=>{const r=e(t,i);return this.checkResult(r,i)}))));return Et._createFromImage(i,this.getSettings())._use(t)}getSettings(){return this[0]._getSettings()._clone()}mergeImages(e,t){return this.createImage(((t,i)=>xt._api._MagickImageCollection_Merge(t,e,i.ptr)),t)}readOrPing(e,t,i){this.dispose(),xe.use((r=>{const a=void 0===i?new ot:new ot(i);a._ping=e,"string"==typeof t?(a._fileName=t,a._use((e=>{const t=xt._api._MagickImageCollection_ReadFile(e._instance,r.ptr);this.addImages(t,a)}))):a._use((e=>{const i=t.byteLength;let n=0;try{n=xt._api._malloc(i),xt._api.HEAPU8.set(t,n);const s=xt._api._MagickImageCollection_ReadBlob(e._instance,n,0,i,r.ptr);this.addImages(s,a)}finally{0!==n&&xt._api._free(n)}}))}))}replaceImages(e){this.throwIfEmpty();const t=this.attachImages((t=>xe.use((i=>{const r=e(t,i);return this.checkResult(r,i)})))),i=this.getSettings()._clone();this.dispose(),this.addImages(t,i)}smush(e,t,i){return this.createImage(((i,r)=>xt._api._MagickImageCollection_Smush(i,e,t?1:0,r.ptr)),i)}throwIfEmpty(){if(0===this.length)throw new ue("operation requires at least one image")}}class pt{constructor(e){this._value=void 0,this._value=e}static _fromQuantum(e){return new pt(e/pe.max*100)}multiply(e){return e*this._value/100}toDouble(){return this._value}toString(){return`${parseFloat(this._value.toFixed(2))}%`}_toQuantum(){return pe.max*(this._value/100)}}class dt{static use(e,t,i){const r=xt._api._MagickRectangle_Create();try{xt._api._MagickRectangle_X_Set(r,t.x),xt._api._MagickRectangle_Y_Set(r,t.y);let a=t.width,n=t.height;return t.isPercentage&&(a=new pt(t.width).multiply(e.width),n=new pt(t.height).multiply(e.height)),xt._api._MagickRectangle_Width_Set(r,a),xt._api._MagickRectangle_Height_Set(r,n),i(r)}finally{xt._api._MagickRectangle_Dispose(r)}}}class mt{static _use(e,t,i){let r=0;try{return r=xt._api._OffsetInfo_Create(),xt._api._PrimaryInfo_X_Set(r,e),xt._api._PrimaryInfo_Y_Set(r,t),i(r)}finally{xt._api._free(r)}}}class ft{constructor(){this._values=void 0,this._values=new Array(7).fill(0)}get(e){return this._values[e]}set(e,t){this._values[e]=t}}class kt{constructor(e,t,i){if(this._huPhashes=new Map,this._hash="",this.channel=void 0,this.channel=e,"number"==typeof i)for(let e=0;e<t.length;e++){const r=new ft;for(let t=0;t<7;t++){const a=xt._api._ChannelPerceptualHash_GetHuPhash(i,e,t);r.set(t,a)}this._huPhashes.set(t[e],r)}else this.parseHash(t,i)}huPhash(e,t){if(t<0||t>6)throw new ue("Invalid index specified");const i=this._huPhashes.get(e);if(void 0===i)throw new ue("Invalid color space specified");return i.get(t)}sumSquaredDistance(e){let t=0;return this._huPhashes.forEach(((i,r)=>{for(let a=0;a<7;a++){const n=i.get(a),s=e.huPhash(r,a);t+=(n-s)*(n-s)}})),t}toString(){return""==this._hash&&this.setHash(),this._hash}parseHash(e,t){this._hash=t;let i=0;for(const r of e){const e=new ft;for(let r=0;r<7;r++,i+=5){const a=Number.parseInt(t.substring(i,i+5),16);if(isNaN(a))throw new ue("Invalid hash specified");let n=a/kt.powerOfTen(a>>17);!!(65536&a)&&(n=-n),e.set(r,n)}this._huPhashes.set(r,e)}}static powerOfTen(e){switch(e){case 2:return 100;case 3:return 1e3;case 4:return 1e4;case 5:return 1e5;case 6:return 1e6;default:return 10}}setHash(){this._hash="",this._huPhashes.forEach((e=>{for(let t=0;t<7;t++){let i=e.get(t),r=0;for(;r<7&&Math.abs(10*i)<65356;)i*=10,r++;r<<=1,r<0&&(r|=1),r=(r<<16)+Math.floor(i<0?-(i-.5):i+.5),this._hash+=r.toString(16)}}))}}class vt{constructor(e,t,i){if(this._red=void 0,this._green=void 0,this._blue=void 0,"string"==typeof e){const i=t??vt._defaultColorspaces();vt._validateColorSpaces(i);const r=35*i.length;if(e.length!==3*r)throw new ue("Invalid hash size");this._red=new kt(h.Red,i,e.substring(0,r)),this._blue=new kt(h.Blue,i,e.substring(r,r+r)),this._green=new kt(h.Green,i,e.substring(r+r))}else this._red=e,this._green=t,this._blue=i}static _create(e,t,i){if(0===i)throw new ue("The native operation failed to create an instance");const r=vt.createChannel(e,t,i,h.Red),a=vt.createChannel(e,t,i,h.Green),n=vt.createChannel(e,t,i,h.Blue);return new vt(r,a,n)}static _defaultColorspaces(){return[$,M]}static _validateColorSpaces(e){if(e.length<1||e.length>6)throw new ue("Invalid number of colorspaces, the minimum is 1 and the maximum is 6");if(new Set(e).size!==e.length)throw new ue("Specifying the same colorspace more than once is not allowed")}getChannel(e){switch(e){case h.Red:return this._red;case h.Green:return this._green;case h.Blue:return this._blue;default:return null}}sumSquaredDistance(e){const t=e.getChannel(h.Red),i=e.getChannel(h.Green),r=e.getChannel(h.Blue);if(null===t||null===i||null===r)throw new ue("The other perceptual hash should contain a red, green and blue channel.");return this._red.sumSquaredDistance(t)+this._green.sumSquaredDistance(i)+this._blue.sumSquaredDistance(r)}toString(){return this._red.toString()+this._green.toString()+this._blue.toString()}static createChannel(e,t,i,r){const a=xt._api._PerceptualHash_GetInstance(e._instance,i,r);return new kt(r,t,a)}}class Mt extends Ge{constructor(e){super(xe.usePointer((t=>xt._api._PixelCollection_Create(e._instance,t))),xt._api._PixelCollection_Dispose),this.image=void 0,this.image=e}static _create(e){return new Mt(e)}static _use(e,t){const i=new Mt(e);return Ee._disposeAfterExecution(i,t)}static _map(e,t,i){const r=new Mt(e);try{r.use(0,0,e.width,e.height,t,(e=>{i(e)}))}finally{r.dispose()}}getArea(e,t,i,r){return xe.usePointer((a=>{const n=xt._api._PixelCollection_GetArea(this._instance,e,t,i,r,a),s=i*r*this.image.channelCount;return xt._api.HEAPU8.subarray(n,n+s)}))}getReadOnlyArea(e,t,i,r){return xe.usePointer((a=>{const n=xt._api._PixelCollection_GetReadOnlyArea(this.image._instance,e,t,i,r,a),s=i*r*this.image.channelCount;return xt._api.HEAPU8.subarray(n,n+s)}))}getChannelIndex(e){return this.image._channelOffset(e)}getColor(e,t){const i=this.getArea(e,t,1,1),r=Array.from(i),a=this.image._channelOffset(h.Index);if(a>=0&&r.splice(a,1),0===r.length)return null;if(1===r.length)return new ke(r[0],r[0],r[0]);if(2===r.length)return new ke(r[0],r[0],r[0],r[1]);const n=this.image._channelOffset(h.Black)>=0,s=this.image._channelOffset(h.Alpha)>=0;return n?4!==r.length&&s?new ke(r[0],r[1],r[2],r[3],r[4]):new ke(r[0],r[1],r[2],r[3],pe.max):3!==r.length&&s?new ke(r[0],r[1],r[2],r[3]):new ke(r[0],r[1],r[2])}getPixel(e,t){return this.getArea(e,t,1,1)}setArea(e,t,i,r,a){xe.usePointer((n=>{const s=a instanceof Uint8Array?a:new Uint8Array(a);!function(e,t){if(0===e.byteLength)throw new ue("The specified array cannot be empty");let i=0;try{return i=xt._api._malloc(e.byteLength),xt._api.HEAPU8.set(e,i),t(i)}finally{0!==i&&xt._api._free(i)}}(s,(a=>{xt._api._PixelCollection_SetArea(this._instance,e,t,i,r,a,s.length,n)}))}))}setPixel(e,t,i){Uint8Array,this.setArea(e,t,1,1,i)}toByteArray(e,t,i,r,a){return this.use(e,t,i,r,a,(e=>{if(0===e)return null;const t=i*r*a.length;return xt._api.HEAPU8.slice(e,e+t)}))}use(e,t,i,r,a,n){return fe(a,(a=>xe.use((s=>{let o=xt._api._PixelCollection_ToByteArray(this._instance,e,t,i,r,a,s.ptr);return s.check((()=>{const e=n(o);return o=xt._api._MagickMemory_Relinquish(o),e}),(()=>(o=xt._api._MagickMemory_Relinquish(o),null)))}))))}}const yt=0,wt=0;class St{constructor(e,t,i){this.x=void 0,this.y=void 0,this.z=void 0,this.x=e,this.y=t,this.z=i}static _create(e){return 0===e?new St(0,0,0):new St(xt._api._PrimaryInfo_X_Get(e),xt._api._PrimaryInfo_Y_Get(e),xt._api._PrimaryInfo_Z_Get(e))}_use(e){let t=0;try{t=xt._api._PrimaryInfo_Create(),xt._api._PrimaryInfo_X_Set(t,this.x),xt._api._PrimaryInfo_Y_Set(t,this.y),xt._api._PrimaryInfo_Z_Set(t,this.z),e(t)}finally{xt._api._PrimaryInfo_Dispose(t)}}}class It{constructor(e,t){this.channel=void 0,this.depth=void 0,this.entropy=void 0,this.kurtosis=void 0,this.maximum=void 0,this.mean=void 0,this.minimum=void 0,this.skewness=void 0,this.standardDeviation=void 0,this.channel=e,this.depth=xt._api._ChannelStatistics_Depth_Get(t),this.entropy=xt._api._ChannelStatistics_Entropy_Get(t),this.kurtosis=xt._api._ChannelStatistics_Kurtosis_Get(t),this.maximum=xt._api._ChannelStatistics_Maximum_Get(t),this.mean=xt._api._ChannelStatistics_Mean_Get(t),this.minimum=xt._api._ChannelStatistics_Minimum_Get(t),this.skewness=xt._api._ChannelStatistics_Skewness_Get(t),this.standardDeviation=xt._api._ChannelStatistics_StandardDeviation_Get(t)}}class Ct{constructor(){this._channels=new Map}get channels(){return Array.from(this._channels.keys())}composite(){return this._channels.get(h.Composite)}getChannel(e){const t=this._channels.get(e);return void 0!==t?t:null}static _create(e,t,i){const r=new Ct;return e.channels.forEach((e=>{i>>e&1&&r.addChannel(t,e)})),r.addChannel(t,h.Composite),r}addChannel(e,t){const i=xt._api._Statistics_GetInstance(e,t);0!==i&&this._channels.set(t,new It(t,i))}}class Pt{static toArray(e){if(0===e)return null;const t=xt._api._StringInfo_Datum_Get(e),i=xt._api._StringInfo_Length_Get(e);return xt._api.HEAPU8.subarray(t,t+i)}}class Dt{constructor(e){this.error=void 0,this.error=e}}class Et extends Ge{constructor(e,t){super(e,xt._api._MagickImage_Dispose),this._settings=void 0,this._progress=void 0,this._warning=void 0,this.contrast=()=>this.contrastPrivate(!0),this.inverseContrast=()=>this.contrastPrivate(!1),this.inverseOpaque=(e,t)=>this.opaquePrivate(e,t,!0),this.inverseTransparent=e=>this.transparentPrivate(e,!0),this.opaque=(e,t)=>this.opaquePrivate(e,t,!1),this.toString=()=>`${this.format} ${this.width}x${this.height} ${this.depth}-bit ${te[this.colorSpace]}`,this._settings=t,this._settings._onArtifact=this.onSettingsArtifactChanged.bind(this)}get animationDelay(){return xt._api._MagickImage_AnimationDelay_Get(this._instance)}set animationDelay(e){xt._api._MagickImage_AnimationDelay_Set(this._instance,e)}get animationIterations(){return xt._api._MagickImage_AnimationIterations_Get(this._instance)}set animationIterations(e){xt._api._MagickImage_AnimationIterations_Set(this._instance,e)}get animationTicksPerSecond(){return xt._api._MagickImage_AnimationTicksPerSecond_Get(this._instance)}set animationTicksPerSecond(e){xt._api._MagickImage_AnimationTicksPerSecond_Set(this._instance,e)}get artifactNames(){const e=[];xt._api._MagickImage_ResetArtifactIterator(this._instance);let t=xt._api._MagickImage_GetNextArtifactName(this._instance);for(;0!==t;)e.push(xt._api.UTF8ToString(t)),t=xt._api._MagickImage_GetNextArtifactName(this._instance);return e}get attributeNames(){const e=[];xt._api._MagickImage_ResetAttributeIterator(this._instance);let t=xt._api._MagickImage_GetNextAttributeName(this._instance);for(;0!==t;)e.push(xt._api.UTF8ToString(t)),t=xt._api._MagickImage_GetNextAttributeName(this._instance);return e}get backgroundColor(){const e=xt._api._MagickImage_BackgroundColor_Get(this._instance);return ke._create(e)}set backgroundColor(e){e._use((e=>{xt._api._MagickImage_BackgroundColor_Set(this._instance,e)}))}get baseHeight(){return xt._api._MagickImage_BaseHeight_Get(this._instance)}get baseWidth(){return xt._api._MagickImage_BaseWidth_Get(this._instance)}get blackPointCompensation(){return 1===xt._api._MagickImage_BlackPointCompensation_Get(this._instance)}set blackPointCompensation(e){xt._api._MagickImage_BlackPointCompensation_Set(this._instance,e?1:0)}get borderColor(){const e=xt._api._MagickImage_BorderColor_Get(this._instance);return ke._create(e)}set borderColor(e){e._use((e=>{xt._api._MagickImage_BorderColor_Set(this._instance,e)}))}get boundingBox(){return this.useExceptionPointer((e=>{const t=xt._api._MagickImage_BoundingBox_Get(this._instance,e),i=Me._fromRectangle(t);return 0===i.width||0===i.height?null:i}))}get channelCount(){return xt._api._MagickImage_ChannelCount_Get(this._instance)}get channels(){const e=[];return[h.Red,h.Green,h.Blue,h.Black,h.Alpha].forEach((t=>{xt._api._MagickImage_HasChannel(this._instance,t)&&e.push(t)})),e}get chromaticity(){return new u(St._create(xt._api._MagickImage_ChromaRed_Get(this._instance)),St._create(xt._api._MagickImage_ChromaGreen_Get(this._instance)),St._create(xt._api._MagickImage_ChromaBlue_Get(this._instance)),St._create(xt._api._MagickImage_ChromaWhite_Get(this._instance)))}set chromaticity(e){e.blue._use((e=>xt._api._MagickImage_ChromaBlue_Set(this._instance,e))),e.green._use((e=>xt._api._MagickImage_ChromaGreen_Set(this._instance,e))),e.red._use((e=>xt._api._MagickImage_ChromaRed_Set(this._instance,e))),e.white._use((e=>xt._api._MagickImage_ChromaWhite_Set(this._instance,e)))}get classType(){return xt._api._MagickImage_ClassType_Get(this._instance)}set classType(e){this.useExceptionPointer((t=>{xt._api._MagickImage_ClassType_Set(this._instance,e,t)}))}get colorFuzz(){return pt._fromQuantum(xt._api._MagickImage_ColorFuzz_Get(this._instance))}set colorFuzz(e){const t=e._toQuantum();xt._api._MagickImage_ColorFuzz_Set(this._instance,t),this._settings._colorFuzz=t}get colormapSize(){return xt._api._MagickImage_ColormapSize_Get(this._instance)}set colormapSize(e){this.useExceptionPointer((t=>{xt._api._MagickImage_ColormapSize_Set(this._instance,e,t)}))}get colorSpace(){return xt._api._MagickImage_ColorSpace_Get(this._instance)}set colorSpace(e){this.useExceptionPointer((t=>{xt._api._MagickImage_ColorSpace_Set(this._instance,e,t)}))}get colorType(){return void 0!==this.settings.colorType?this.settings.colorType:xt._api._MagickImage_ColorType_Get(this._instance)}set colorType(e){this.useExceptionPointer((t=>{xt._api._MagickImage_ColorType_Set(this._instance,e,t)}))}get comment(){return this.getAttribute("comment")}set comment(e){null===e?this.removeAttribute("comment"):this.setAttribute("comment",e)}get compose(){return xt._api._MagickImage_Compose_Get(this._instance)}set compose(e){xt._api._MagickImage_Compose_Set(this._instance,e)}get compression(){return xt._api._MagickImage_Compression_Get(this._instance)}get density(){return new De(xt._api._MagickImage_ResolutionX_Get(this._instance),xt._api._MagickImage_ResolutionY_Get(this._instance),xt._api._MagickImage_ResolutionUnits_Get(this._instance))}set density(e){xt._api._MagickImage_ResolutionX_Set(this._instance,e.x),xt._api._MagickImage_ResolutionY_Set(this._instance,e.y),xt._api._MagickImage_ResolutionUnits_Set(this._instance,e.units)}get depth(){return xt._api._MagickImage_Depth_Get(this._instance)}set depth(e){xt._api._MagickImage_Depth_Set(this._instance,e)}get endian(){return xt._api._MagickImage_Endian_Get(this._instance)}set endian(e){xt._api._MagickImage_Endian_Set(this._instance,e)}get fileName(){const e=xt._api._MagickImage_FileName_Get(this._instance);return 0===e?null:xt._api.UTF8ToString(e)}get filterType(){return xt._api._MagickImage_FilterType_Get(this._instance)}set filterType(e){xt._api._MagickImage_FilterType_Set(this._instance,e)}get format(){return de(xt._api._MagickImage_Format_Get(this._instance),"")}set format(e){fe(e.toString(),(e=>xt._api._MagickImage_Format_Set(this._instance,e)))}get gamma(){return xt._api._MagickImage_Gamma_Get(this._instance)}get gifDisposeMethod(){return xt._api._MagickImage_GifDisposeMethod_Get(this._instance)}set gifDisposeMethod(e){xt._api._MagickImage_GifDisposeMethod_Set(this._instance,e)}get hasAlpha(){return this.toBool(xt._api._MagickImage_HasAlpha_Get(this._instance))}set hasAlpha(e){this.useExceptionPointer((t=>{e&&this.alpha(l),xt._api._MagickImage_HasAlpha_Set(this._instance,this.fromBool(e),t)}))}get height(){return xt._api._MagickImage_Height_Get(this._instance)}get interlace(){return xt._api._MagickImage_Interlace_Get(this._instance)}get isOpaque(){return this.useExceptionPointer((e=>this.toBool(xt._api._MagickImage_IsOpaque_Get(this._instance,e))))}get interpolate(){return xt._api._MagickImage_Interpolate_Get(this._instance)}set interpolate(e){xt._api._MagickImage_Interpolate_Set(this._instance,e)}get label(){return this.getAttribute("label")}set label(e){null===e?this.removeAttribute("label"):this.setAttribute("label",e)}get matteColor(){const e=xt._api._MagickImage_MatteColor_Get(this._instance);return ke._create(e)}set matteColor(e){e._use((e=>{xt._api._MagickImage_MatteColor_Set(this._instance,e)}))}get metaChannelCount(){return xt._api._MagickImage_MetaChannelCount_Get(this._instance)}set metaChannelCount(e){this.useExceptionPointer((t=>{xt._api._MagickImage_MetaChannelCount_Set(this._instance,e,t)}))}get orientation(){return xt._api._MagickImage_Orientation_Get(this._instance)}set orientation(e){xt._api._MagickImage_Orientation_Set(this._instance,e)}get onProgress(){return this._progress}set onProgress(e){void 0!==e?Wt.setProgressDelegate(this):this.disposeProgressDelegate(),this._progress=e}get onWarning(){return this._warning}set onWarning(e){this._warning=e}get page(){const e=xt._api._MagickImage_Page_Get(this._instance);return Me._fromRectangle(e)}set page(e){e._toRectangle((e=>{xt._api._MagickImage_Page_Set(this._instance,e)}))}get profileNames(){const e=[];xt._api._MagickImage_ResetProfileIterator(this._instance);let t=xt._api._MagickImage_GetNextProfileName(this._instance);for(;0!==t;)e.push(xt._api.UTF8ToString(t)),t=xt._api._MagickImage_GetNextProfileName(this._instance);return e}get quality(){return xt._api._MagickImage_Quality_Get(this._instance)}set quality(e){let t=e<1?1:e;t=t>100?100:t,xt._api._MagickImage_Quality_Set(this._instance,t),this._settings._quality=t}get renderingIntent(){return xt._api._MagickImage_RenderingIntent_Get(this._instance)}set renderingIntent(e){xt._api._MagickImage_RenderingIntent_Set(this._instance,e)}get settings(){return this._settings}get signature(){return this.useExceptionPointer((e=>de(xt._api._MagickImage_Signature_Get(this._instance,e))))}get totalColors(){return this.useExceptionPointer((e=>xt._api._MagickImage_TotalColors_Get(this._instance,e)))}get virtualPixelMethod(){return xt._api._MagickImage_VirtualPixelMethod_Get(this._instance)}set virtualPixelMethod(e){this.useExceptionPointer((t=>{xt._api._MagickImage_VirtualPixelMethod_Set(this._instance,e,t)}))}get width(){return xt._api._MagickImage_Width_Get(this._instance)}adaptiveBlur(e,t){const i=this.valueOrDefault(e,0),r=this.valueOrDefault(t,1);this.useException((e=>{const t=xt._api._MagickImage_AdaptiveBlur(this._instance,i,r,e.ptr);this._setInstance(t,e)}))}adaptiveResize(e,t){const i="number"==typeof e?new Me(0,0,e,t):e;this.useException((e=>{fe(i.toString(),(t=>{const i=xt._api._MagickImage_AdaptiveResize(this._instance,t,e.ptr);this._setInstance(i,e)}))}))}adaptiveSharpen(e,t,i){let r=0;const a=t??1;let n=i??g.Undefined;void 0!==e&&(void 0===t?n=e:r=e),this.useException((e=>{const t=xt._api._MagickImage_AdaptiveSharpen(this._instance,r,a,n,e.ptr);this._setInstance(t,e)}))}adaptiveThreshold(e,t,i,r){const a=i instanceof pt?i._toQuantum():0;let n=r??g.Undefined;"number"==typeof i&&(n=i),this.useException((i=>{const r=xt._api._MagickImage_AdaptiveThreshold(this._instance,e,t,a,n,i.ptr);this._setInstance(r,i)}))}addNoise(e,t,i){let r=1,a=i??g.Undefined;void 0!==t&&(void 0===i?a=t:r=t),this.useException((t=>{const i=xt._api._MagickImage_AddNoise(this._instance,e,r,a,t.ptr);this._setInstance(i,t)}))}affineTransform(e){this.useException((t=>{const i=xt._api._MagickImage_AffineTransform(this._instance,e.scaleX,e.scaleY,e.shearX,e.shearY,e.translateX,e.translateY,t.ptr);this._setInstance(i,t)}))}alpha(e){this.useExceptionPointer((t=>{xt._api._MagickImage_SetAlpha(this._instance,e,t)}))}annotate(e,t,i,r){return this.useExceptionPointer((a=>this._settings._drawing._use((n=>{fe(e,(e=>{let s=null,o=$e,_=0;"object"==typeof t?(s=t.toString(),void 0!==i&&(o=i),void 0!==r&&(_=r)):(o=t,void 0!==i&&(_=i)),fe(s,(t=>{xt._api._MagickImage_Annotate(this._instance,n._instance,e,t,o,_,a)}))}))}))))}autoGamma(e){this.useExceptionPointer((t=>{const i=this.valueOrDefault(e,g.Composite);xt._api._MagickImage_AutoGamma(this._instance,i,t)}))}autoLevel(e){this.useExceptionPointer((t=>{const i=this.valueOrDefault(e,g.Undefined);xt._api._MagickImage_AutoLevel(this._instance,i,t)}))}autoOrient(){this.useException((e=>{const t=xt._api._MagickImage_AutoOrient(this._instance,e.ptr);this._setInstance(t,e)}))}autoThreshold(e){this.useException((t=>{xt._api._MagickImage_AutoThreshold(this._instance,e,t.ptr)}))}bilateralBlur(e,t,i,r){const a=this.valueOrComputedDefault(i,(()=>Math.sqrt(e*e+t*t))),n=this.valueOrDefault(r,.25*a);this.useException((i=>{const r=xt._api._MagickImage_BilateralBlur(this._instance,e,t,a,n,i.ptr);this._setInstance(r,i)}))}blackThreshold(e,t){const i=this.valueOrDefault(t,g.Composite);this.useException((t=>{fe(e.toString(),(e=>{xt._api._MagickImage_BlackThreshold(this._instance,e,i,t.ptr)}))}))}blueShift(e){const t=this.valueOrDefault(e,1.5);this.useException((e=>{const i=xt._api._MagickImage_BlueShift(this._instance,t,e.ptr);this._setInstance(i,e)}))}blur(e,t,i){let r=0;const a=this.valueOrDefault(t,1);let n=this.valueOrDefault(i,g.Undefined);void 0!==e&&(void 0===t?n=e:r=e),this.useException((e=>{const t=xt._api._MagickImage_Blur(this._instance,r,a,n,e.ptr);this._setInstance(t,e)}))}border(e,t){const i=e,r=this.valueOrDefault(t,e),a=new Me(0,0,i,r);this.useException((e=>{a._toRectangle((t=>{const i=xt._api._MagickImage_Border(this._instance,t,e.ptr);this._setInstance(i,e)}))}))}brightnessContrast(e,t,i){const r=this.valueOrDefault(i,g.Undefined);this.useException((i=>{xt._api._MagickImage_BrightnessContrast(this._instance,e.toDouble(),t.toDouble(),r,i.ptr)}))}cannyEdge(e,t,i,r){const a=this.valueOrDefault(e,0),n=this.valueOrDefault(t,1),s=this.valueOrDefault(i,new pt(10)).toDouble()/100,o=this.valueOrDefault(r,new pt(30)).toDouble()/100;this.useException((e=>{const t=xt._api._MagickImage_CannyEdge(this._instance,a,n,s,o,e.ptr);this._setInstance(t,e)}))}charcoal(e,t){const i=void 0===e?0:e,r=void 0===t?1:t;this.useException((e=>{const t=xt._api._MagickImage_Charcoal(this._instance,i,r,e.ptr);this._setInstance(t,e)}))}chop(e){this.useException((t=>{e._toRectangle((e=>{const i=xt._api._MagickImage_Chop(this._instance,e,t.ptr);this._setInstance(i,t)}))}))}chopHorizontal(e,t){this.chop(new Me(e,0,t,0))}chopVertical(e,t){this.chop(new Me(0,e,0,t))}clahe(e,t,i,r){this.useExceptionPointer((a=>{const n=e instanceof pt?e.multiply(this.width):e,s=t instanceof pt?t.multiply(this.height):t;xt._api._MagickImage_Clahe(this._instance,n,s,i,r,a)}))}clone(e){return Et._clone(this)._use(e)}cloneArea(e,t){return xe.usePointer((i=>e._toRectangle((r=>mt._use(0,0,(a=>{const n=xt._api._MagickImage_CloneArea(this._instance,e.width,e.height,i);xt._api._MagickImage_CopyPixels(n,this._instance,r,a,g.Undefined,i);const s=new Et(n,this._settings);return t(s)}))))))}clut(e,t,i){const r=this.valueOrDefault(t,wt),a=this.valueOrDefault(i,g.Undefined);this.useExceptionPointer((t=>{xt._api._MagickImage_Clut(this._instance,e._instance,r,a,t)}))}colorAlpha(e){if(!this.hasAlpha)return;const t=Et.create();t.read(e,this.width,this.height),t.composite(this,he,new ye(0,0)),this._instance=t._instance}compare(e,t,i,r){const a=t instanceof ce,n=a?t.metric:t;let s=i;void 0!==r&&(s=r);let o=g.Undefined;if("function"!=typeof s)return void 0!==s&&(o=s),this.useExceptionPointer((t=>xt._api._MagickImage_CompareDistortion(this._instance,e._instance,n,o,t)));void 0!==i&&"function"!=typeof i&&(o=i);const _=gt.use(this,(i=>(a&&t._setArtifacts(i),Le.use((t=>{const i=this.useExceptionPointer((i=>xt._api._MagickImage_Compare(this._instance,e._instance,n,o,t.ptr,i))),r=t.value,a=Et._createFromImage(i,this._settings);return _e._create(r,a)})))));return _.difference._use((()=>s(_)))}composite(e,t,i,r,a){let n=0,s=0,o=le,_=g.All,c=null;t instanceof ye?(n=t.x,s=t.y):void 0!==t&&(o=t),i instanceof ye?(n=i.x,s=i.y):"string"==typeof i?c=i:void 0!==i&&(_=i),"string"==typeof r?c=r:void 0!==r&&(_=r),void 0!==a&&(_=a),null!==c&&this.setArtifact("compose:args",c),this.useExceptionPointer((t=>{xt._api._MagickImage_Composite(this._instance,e._instance,n,s,o,_,t)})),null!==c&&this.removeArtifact("compose:args")}compositeGravity(e,t,i,r,a,n){let s=0,o=0,_=le,c=g.All,l=null;i instanceof ye?(s=i.x,o=i.y):void 0!==i&&(_=i),r instanceof ye?(s=r.x,o=r.y):"string"==typeof r?l=r:void 0!==r&&(c=r),"string"==typeof a?l=a:void 0!==a&&(c=a),void 0!==n&&(c=n),null!==l&&this.setArtifact("compose:args",l),this.useExceptionPointer((i=>{xt._api._MagickImage_CompositeGravity(this._instance,e._instance,t,s,o,_,c,i)})),null!==l&&this.removeArtifact("compose:args")}connectedComponents(e){const t="number"==typeof e?new Se(e):e;return gt.use(this,(e=>(t._setArtifacts(e),this.useException((e=>Ae.use((i=>{try{const r=xt._api._MagickImage_ConnectedComponents(this._instance,t.connectivity,i.ptr,e.ptr);return this._setInstance(r,e),we._create(i.value,this.colormapSize)}finally{0!==i.value&&xt._api._ConnectedComponent_DisposeList(i.value)}})))))))}contrastStretch(e,t,i){const r=this.width*this.height,a=e.multiply(r);let n=0,s=this.valueOrDefault(i,g.Undefined);t instanceof pt?n=r-t.multiply(r):(n=r-e.multiply(r),void 0!==t&&(s=t)),this.useExceptionPointer((e=>{xt._api._MagickImage_ContrastStretch(this._instance,a,n,s,e)}))}static create(e,t,i){const r=new Et(Et.createInstance(),new st);return void 0!==e&&r.readOrPing(!1,e,t,i),r}crop(e,t,i){let r,a;"number"!=typeof e?(r=e,a=this.valueOrDefault(t,$e)):void 0!==t&&(r=new Me(e,t),a=this.valueOrDefault(i,$e)),this.useException((e=>{fe(r.toString(),(t=>{const i=xt._api._MagickImage_Crop(this._instance,t,a,e.ptr);this._setInstance(i,e)}))}))}cropToTiles(e,t,i){let r,a;return"number"==typeof e&&"number"==typeof t&&void 0!==i?(r=new Me(0,0,e,t),a=i):"number"!=typeof e&&"number"!=typeof t&&(r=e,a=t),this.useException((e=>fe(r.toString(),(t=>{const i=xt._api._MagickImage_CropToTiles(this._instance,t,e.ptr);return ut._createFromImages(i,this._settings,(e=>a(e)))}))))}cycleColormap(e){this.useExceptionPointer((t=>{xt._api._MagickImage_CycleColormap(this._instance,e,t)}))}deskew(e,t){return gt.use(this,(i=>{void 0!==t&&i.setArtifact("deskew:auto-crop",t),this.useException((t=>{const i=xt._api._MagickImage_Deskew(this._instance,e._toQuantum(),t.ptr);this._setInstance(i,t)}));const r=Number(this.getArtifact("deskew:angle"));return isNaN(r)?0:r}))}distort(e,t){gt.use(this,(i=>{let r,a=0;"number"==typeof e?r=e:(r=e.method,a=e.bestFit?1:0,e._setArtifacts(i)),this.useException((e=>{We(t,(i=>{const n=xt._api._MagickImage_Distort(this._instance,r,a,i,t.length,e.ptr);this._setInstance(n,e)}))}))}))}draw(...e){const t=e.flat();0!==t.length&&Oe._use(this,(e=>{e.draw(t)}))}evaluate(e,t,i,r){if("number"==typeof t){const r=t,a="number"==typeof i?i:i._toQuantum();this.useExceptionPointer((t=>{xt._api._MagickImage_EvaluateOperator(this._instance,e,r,a,t)}))}else if(void 0!==r){if("number"!=typeof i)throw new ue("this should not happen");const a=t,n=i,s="number"==typeof r?r:r._toQuantum();if(a.isPercentage)throw new ue("percentage is not supported");this.useExceptionPointer((t=>{dt.use(this,a,(i=>{xt._api._MagickImage_EvaluateGeometry(this._instance,e,i,n,s,t)}))}))}}extent(e,t,i){let r,a=$e;"number"!=typeof e?r=e:"number"==typeof t&&(r=new Me(e,t)),"number"==typeof t?a=t:void 0!==t&&(this.backgroundColor=t),"number"==typeof i?a=i:void 0!==i&&(this.backgroundColor=i),this.useException((e=>{fe(r.toString(),(t=>{const i=xt._api._MagickImage_Extent(this._instance,t,a,e.ptr);this._setInstance(i,e)}))}))}flip(){this.useException((e=>{const t=xt._api._MagickImage_Flip(this._instance,e.ptr);this._setInstance(t,e)}))}floodFill(e,t,i,r){this.floodFillPrivate(e,t,i,r,!1)}flop(){this.useException((e=>{const t=xt._api._MagickImage_Flop(this._instance,e.ptr);this._setInstance(t,e)}))}formatExpression(e){return this.useExceptionPointer((t=>this._settings._use((i=>fe(e,(e=>{const r=xt._api._MagickImage_FormatExpression(this._instance,i._instance,e,t);return function(e,t){const i=de(t);return e._MagickMemory_Relinquish(t),i}(xt._api,r)}))))))}gammaCorrect(e,t){const i=this.valueOrDefault(t,g.Undefined);this.useExceptionPointer((t=>{xt._api._MagickImage_GammaCorrect(this._instance,e,i,t)}))}gaussianBlur(e,t,i){const r=this.valueOrDefault(t,1),a=this.valueOrDefault(i,g.Undefined);this.useException((t=>{const i=xt._api._MagickImage_GaussianBlur(this._instance,e,r,a,t.ptr);this._setInstance(i,t)}))}getArtifact(e){return fe(e,(e=>de(xt._api._MagickImage_GetArtifact(this._instance,e))))}getAttribute(e){return this.useException((t=>fe(e,(e=>de(xt._api._MagickImage_GetAttribute(this._instance,e,t.ptr))))))}getColormapColor(e){const t=xt._api._MagickImage_GetColormapColor(this._instance,e);return 0===t?null:ke._create(t)}getColorProfile(){const e=["icc","icm"];for(const t of e){const e=this.getProfilePrivate(t);if(null!==e)return new se(e)}return null}getPixels(e){if(this._settings._ping)throw new ue("image contains no pixel data");return Mt._use(this,e)}getProfile(e){const t=this.getProfilePrivate(e);return null===t?null:new ne(e,t)}getWriteMask(e){const t=this.useExceptionPointer((e=>xt._api._MagickImage_GetWriteMask(this._instance,e))),i=0===t?null:new Et(t,new st);return null==i?e(i):i._use(e)}grayscale(e=yt){this.useExceptionPointer((t=>{xt._api._MagickImage_Grayscale(this._instance,e,t)}))}hasProfile(e){return fe(e,(e=>this.toBool(xt._api._MagickImage_HasProfile(this._instance,e))))}histogram(){const e=new Map;return this.useExceptionPointer((t=>{Ae.use((i=>{const r=xt._api._MagickImage_Histogram(this._instance,i.ptr,t);if(0!==r){const t=i.value;for(let i=0;i<t;i++){const t=xt._api._MagickColorCollection_GetInstance(r,i),a=ke._create(t),n=xt._api._MagickColor_Count_Get(t);e.set(a.toString(),n)}xt._api._MagickColorCollection_DisposeList(r)}}))})),e}inverseFloodFill(e,t,i,r){this.floodFillPrivate(e,t,i,r,!0)}inverseLevel(e,t,i,r){const a=this.valueOrDefault(i,1),n=this.valueOrDefault(r,g.Composite);this.useExceptionPointer((i=>{xt._api._MagickImage_InverseLevel(this._instance,e.toDouble(),t._toQuantum(),a,n,i)}))}inverseSigmoidalContrast(e,t,i){this.sigmoidalContrastPrivate(!1,e,t,i)}level(e,t,i,r){const a=this.valueOrDefault(i,1),n=this.valueOrDefault(r,g.Composite);this.useExceptionPointer((i=>{xt._api._MagickImage_Level(this._instance,e.toDouble(),t._toQuantum(),a,n,i)}))}linearStretch(e,t){this.useExceptionPointer((i=>{xt._api._MagickImage_LinearStretch(this._instance,e.toDouble(),t._toQuantum(),i)}))}liquidRescale(e,t){const i="number"==typeof e?new Me(e,t):e;this.useException((e=>{fe(i.toString(),(t=>{const r=xt._api._MagickImage_LiquidRescale(this._instance,t,i.x,i.y,e.ptr);this._setInstance(r,e)}))}))}negate(e){this.useExceptionPointer((t=>{const i=this.valueOrDefault(e,g.Undefined);xt._api._MagickImage_Negate(this._instance,0,i,t)}))}negateGrayScale(e){this.useExceptionPointer((t=>{const i=this.valueOrDefault(e,g.Undefined);xt._api._MagickImage_Negate(this._instance,1,i,t)}))}normalize(){this.useExceptionPointer((e=>{xt._api._MagickImage_Normalize(this._instance,e)}))}modulate(e,t,i){const r=this.valueOrDefault(t,new pt(100)),a=this.valueOrDefault(i,new pt(100));this.useExceptionPointer((t=>{fe(`${e.toDouble()}/${r.toDouble()}/${a.toDouble()}`,(e=>{xt._api._MagickImage_Modulate(this._instance,e,t)}))}))}morphology(e){this.useException((t=>{fe(e.kernel,(i=>{const r=xt._api._MagickImage_Morphology(this._instance,e.method,i,e.channels,e.iterations,t.ptr);this._setInstance(r,t)}))}))}motionBlur(e,t,i){this.useException((r=>{const a=xt._api._MagickImage_MotionBlur(this._instance,e,t,i,r.ptr);this._setInstance(a,r)}))}oilPaint(e){const t=this.valueOrDefault(e,3);this.useException((e=>{const i=xt._api._MagickImage_OilPaint(this._instance,t,0,e.ptr);this._setInstance(i,e)}))}ping(e,t){this.readOrPing(!0,e,t)}perceptualHash(e){const t=this.valueOrDefault(e,vt._defaultColorspaces());return vt._validateColorSpaces(t),gt.use(this,(e=>{const i=t.map((e=>te[e])).join(",");return e.setArtifact("phash:colorspaces",i),this.useExceptionPointer((e=>{const i=xt._api._MagickImage_PerceptualHash(this._instance,e);try{return vt._create(this,t,i)}finally{xt._api._PerceptualHash_DisposeList(i)}}))}))}quantize(e){const t=this.valueOrDefault(e,new ht);return this.useException((e=>{t._use((t=>{xt._api._MagickImage_Quantize(this._instance,t._instance,e.ptr)}))})),t.measureErrors?Ke._create(this):null}read(e,t,i){this.readOrPing(!1,e,t,i)}readFromCanvas(e,t){const i=e.getContext("2d",t);if(null===i)return;const r=i.getImageData(0,0,e.width,e.height),a=new ot;a.format=Qe.Rgba,a.width=e.width,a.height=e.height,this.useException((e=>{this.readFromArray(r.data,a,e)}))}removeArtifact(e){fe(e,(e=>{xt._api._MagickImage_RemoveArtifact(this._instance,e)}))}removeAttribute(e){fe(e,(e=>{xt._api._MagickImage_RemoveAttribute(this._instance,e)}))}removeProfile(e){fe("string"==typeof e?e:e.name,(e=>{xt._api._MagickImage_RemoveProfile(this._instance,e)}))}removeWriteMask(){this.useExceptionPointer((e=>{xt._api._MagickImage_SetWriteMask(this._instance,0,e)}))}resetPage(){this.page=new Me(0,0,0,0)}resize(e,t,i){let r,a=this.filterType;"number"==typeof e?(r=new Me(e,t),void 0!==i&&(a=i)):(r=e,void 0!==t&&(a=t)),this.useException((e=>{fe(r.toString(),(t=>{const i=xt._api._MagickImage_Resize(this._instance,t,a,e.ptr);this._setInstance(i,e)}))}))}rotate(e){this.useException((t=>{const i=xt._api._MagickImage_Rotate(this._instance,e,t.ptr);this._setInstance(i,t)}))}separate(e,t){return this.useException((i=>{let r,a=g.Undefined;if("number"==typeof e&&void 0!==t)a=e,r=t;else{if("function"!=typeof e)throw new ue("invalid arguments");r=e}const n=xt._api._MagickImage_Separate(this._instance,a,i.ptr);return ut._createFromImages(n,this._settings,(e=>r(e)))}))}sepiaTone(e=new pt(80)){this.useException((t=>{const i="number"==typeof e?new pt(e):e,r=xt._api._MagickImage_SepiaTone(this._instance,i._toQuantum(),t.ptr);this._setInstance(r,t)}))}setArtifact(e,t){let i;i="string"==typeof t?t:"boolean"==typeof t?this.fromBool(t).toString():t.toString(),fe(e,(e=>{fe(i,(t=>{xt._api._MagickImage_SetArtifact(this._instance,e,t)}))}))}setAttribute(e,t){this.useException((i=>{fe(e,(e=>{fe(t,(t=>{xt._api._MagickImage_SetAttribute(this._instance,e,t,i.ptr)}))}))}))}setProfile(e,t){const i="string"==typeof e?e:e.name;let r;void 0!==t?r=t:"string"!=typeof e&&(r=e.data),this.useException((e=>{fe(i,(t=>{Re(r,(i=>{xt._api._MagickImage_SetProfile(this._instance,t,i,r.byteLength,e.ptr)}))}))}))}setWriteMask(e){this.useExceptionPointer((t=>{xt._api._MagickImage_SetWriteMask(this._instance,e._instance,t)}))}sharpen(e,t,i){const r=this.valueOrDefault(e,0),a=this.valueOrDefault(t,1),n=this.valueOrDefault(i,g.Undefined);this.useException((e=>{const t=xt._api._MagickImage_Sharpen(this._instance,r,a,n,e.ptr);this._setInstance(t,e)}))}shave(e,t){this.useException((i=>{const r=xt._api._MagickImage_Shave(this._instance,e,t,i.ptr);this._setInstance(r,i)}))}sigmoidalContrast(e,t,i){this.sigmoidalContrastPrivate(!0,e,t,i)}solarize(e=new pt(50)){this.useException((t=>{const i="number"==typeof e?new pt(e):e;xt._api._MagickImage_Solarize(this._instance,i._toQuantum(),t.ptr)}))}splice(e,t){const i=this.valueOrDefault(t,$e);fe(e.toString(),(e=>{this.useException((t=>{const r=xt._api._MagickImage_Splice(this._instance,e,i,t.ptr);this._setInstance(r,t)}))}))}statistics(e){const t=this.valueOrDefault(e,g.All);return this.useExceptionPointer((e=>{const i=xt._api._MagickImage_Statistics(this._instance,t,e),r=Ct._create(this,i,t);return xt._api._Statistics_DisposeList(i),r}))}strip(){this.useExceptionPointer((e=>{xt._api._MagickImage_Strip(this._instance,e)}))}transformColorSpace(e,t,i){const r=e;let a,n=oe;void 0!==t&&("number"==typeof t?n=t:a=t),void 0!==i&&(n=i);const s=this.hasProfile("icc")||this.hasProfile("icm");if(void 0===a){if(!s)return!1;a=r}else{if(r.colorSpace!==this.colorSpace)return!1;s||this.setProfile(r)}return n===oe?gt.use(this,(e=>{e.setArtifact("profile:highres-transform",!1),this.setProfile(a)})):this.setProfile(a),!0}threshold(e,t){const i=this.valueOrDefault(t,g.Undefined);this.useExceptionPointer((t=>{xt._api._MagickImage_Threshold(this._instance,e._toQuantum(),i,t)}))}thumbnail(e,t){const i="number"==typeof e?new Me(e,t):e;this.useException((e=>{fe(i.toString(),(t=>{const i=xt._api._MagickImage_Thumbnail(this._instance,t,e.ptr);this._setInstance(i,e)}))}))}transparent(e){e._use((e=>{this.useExceptionPointer((t=>{xt._api._MagickImage_Transparent(this._instance,e,0,t)}))}))}trim(...e){if(e.length>0)if(1==e.length&&e[0]instanceof pt){const t=e[0];this.setArtifact("trim:percent-background",t.toDouble().toString())}else{const t=[...new Set(qe(e))].join(",");this.setArtifact("trim:edges",t)}this.useException((e=>{const t=xt._api._MagickImage_Trim(this._instance,e.ptr);this._setInstance(t,e),this.removeArtifact("trim:edges"),this.removeArtifact("trim:percent-background")}))}wave(e,t,i){const r=this.valueOrDefault(e,this.interpolate),a=this.valueOrDefault(t,25),n=this.valueOrDefault(i,150);this.useException((e=>{const t=xt._api._MagickImage_Wave(this._instance,r,a,n,e.ptr);this._setInstance(t,e)}))}vignette(e,t,i,r){const a=this.valueOrDefault(e,0),n=this.valueOrDefault(t,1),s=this.valueOrDefault(i,0),o=this.valueOrDefault(r,0);this.useException((e=>{const t=xt._api._MagickImage_Vignette(this._instance,a,n,s,o,e.ptr);this._setInstance(t,e)}))}whiteThreshold(e,t){const i=this.valueOrDefault(t,g.Composite);this.useException((t=>{fe(e.toString(),(e=>{xt._api._MagickImage_WhiteThreshold(this._instance,e,i,t.ptr)}))}))}write(e,t){let i=0,r=0;void 0!==t?this._settings.format=e:t=e,this.useException((e=>{Ae.use((t=>{this._settings._use((a=>{try{i=xt._api._MagickImage_WriteBlob(this._instance,a._instance,t.ptr,e.ptr),r=t.value}catch{0!==i&&(i=xt._api._MagickMemory_Relinquish(i))}}))}))}));const a=new Te(i,r,t);return Ee._disposeAfterExecution(a,a.func)}writeToCanvas(e,t){e.width=this.width,e.height=this.height;const i=e.getContext("2d",t);null!==i&&Mt._map(this,"RGBA",(e=>{const t=i.createImageData(this.width,this.height);let r=0;for(let i=0;i<this.height;i++)for(let i=0;i<this.width;i++)t.data[r++]=xt._api.HEAPU8[e++],t.data[r++]=xt._api.HEAPU8[e++],t.data[r++]=xt._api.HEAPU8[e++],t.data[r++]=xt._api.HEAPU8[e++];i.putImageData(t,0,0)}))}static _createFromImage(e,t){return new Et(e,t)}_channelOffset(e){return xt._api._MagickImage_HasChannel(this._instance,e)?xt._api._MagickImage_ChannelOffset(this._instance,e):-1}static _clone(e){return xe.usePointer((t=>new Et(xt._api._MagickImage_Clone(e._instance,t),e._settings._clone())))}_getSettings(){return this._settings}_instanceNotInitialized(){throw new ue("no image has been read")}_setInstance(e,t){if(!0===super._setInstance(e,t)||0===e&&void 0!==this.onProgress)return!0;throw new ue("out of memory")}_use(e){return Ee._disposeAfterExecution(this,e)}static _create(e){return Et.create()._use(e)}onDispose(){this.disposeProgressDelegate()}contrastPrivate(e){this.useExceptionPointer((t=>{xt._api._MagickImage_Contrast(this._instance,this.fromBool(e),t)}))}static createInstance(){return xe.usePointer((e=>xt._api._MagickImage_Create(0,e)))}disposeProgressDelegate(){Wt.removeProgressDelegate(this),this._progress=void 0}floodFillPrivate(e,t,i,r,a){let n=r;void 0===n&&this.getPixels((e=>{const r=e.getColor(t,i);null!==r&&(n=r)})),"number"==typeof e&&void 0!==n&&(n.a=e),this.settings._drawing._use((r=>{e instanceof ke?(r.setFillColor(e),r.setFillPattern()):e instanceof Et&&(r.setFillColor(),r.setFillPattern(e)),this.useExceptionPointer((e=>{void 0!==n?n._use((n=>{xt._api._MagickImage_FloodFill(this._instance,r._instance,t,i,n,this.fromBool(a),e)})):xt._api._MagickImage_FloodFill(this._instance,r._instance,t,i,0,this.fromBool(a),e)}))}))}fromBool(e){return e?1:0}getProfilePrivate(e){return fe(e,(e=>{const t=xt._api._MagickImage_GetProfile(this._instance,e),i=Pt.toArray(t);return null===i?null:i}))}onSettingsArtifactChanged(e,t){void 0===t?this.removeArtifact(e):this.setArtifact(e,t)}opaquePrivate(e,t,i){this.useExceptionPointer((r=>{e._use((e=>{t._use((t=>{xt._api._MagickImage_Opaque(this._instance,e,t,this.fromBool(i),r)}))}))}))}readOrPing(e,t,i,r){this.useException((a=>{const s=i instanceof ot?i:new ot(this._settings);if(s._ping=e,this._settings._ping=e,void 0!==s.frameCount&&s.frameCount>1)throw new ue("The frame count can only be set to 1 when a single image is being read.");if("string"==typeof t)s._fileName=t;else{if(n(t))return void this.readFromArray(t,s,a);s._fileName="xc:"+t.toShortString(),s.width="number"==typeof i?i:0,s.height="number"==typeof r?r:0}s._use((e=>{const t=xt._api._MagickImage_ReadFile(e._instance,a.ptr);this._setInstance(t,a)}))}))}readFromArray(e,t,i){t._use((t=>{Re(e,(r=>{const a=xt._api._MagickImage_ReadBlob(t._instance,r,0,e.byteLength,i.ptr);this._setInstance(a,i)}))}))}sigmoidalContrastPrivate(e,t,i,r){let a;a=void 0!==i?"number"==typeof i?i:i.multiply(pe.max):.5*pe.max;const n=this.valueOrDefault(r,g.Undefined);this.useExceptionPointer((i=>{xt._api._MagickImage_SigmoidalContrast(this._instance,this.fromBool(e),t,a,n,i)}))}toBool(e){return 1===e}transparentPrivate(e,t){e._use((e=>{this.useExceptionPointer((i=>{xt._api._MagickImage_Transparent(this._instance,e,this.fromBool(t),i)}))}))}valueOrDefault(e,t){return void 0===e?t:e}valueOrComputedDefault(e,t){return void 0===e?t():e}useException(e){return xe.use(e,(e=>{void 0!==this.onWarning&&this.onWarning(new Dt(e))}))}useExceptionPointer(e){return xe.usePointer(e,(e=>{void 0!==this.onWarning&&this.onWarning(new Dt(e))}))}}var Tt,bt=(Tt="file:///frontend/node_modules/@imagemagick/magick-wasm/dist/index.js",async function(e={}){var t,i,r=e,n=new Promise(((e,r)=>{t=e,i=r})),s="object"==typeof window,o=typeof WorkerGlobalScope<"u";"object"==typeof a&&"object"==typeof a.versions&&"string"==typeof a.versions.node&&a.type,(!globalThis.crypto||!globalThis.crypto.getRandomValues)&&(globalThis.crypto={getRandomValues:e=>{for(let t=0;t<e.length;t++)e[t]=256*Math.random()|0}});var _,c,l="./this.program",h="";(s||o)&&(o?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),Tt&&(h=Tt),h=h.startsWith("blob:")?"":h.slice(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),o&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),_=async e=>{if(D(e))return new Promise(((t,i)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):i(r.status)},r.onerror=i,r.send(null)}));var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)});var g,u,p,d,m,f,k,v,M,y,w,S,I=console.log.bind(console),C=console.error.bind(console),P=!1,D=e=>e.startsWith("file://");function E(){var e=u.buffer;p=new Int8Array(e),m=new Int16Array(e),r.HEAPU8=d=new Uint8Array(e),f=new Uint16Array(e),k=new Int32Array(e),v=new Uint32Array(e),M=new Float32Array(e),S=new Float64Array(e),y=new BigInt64Array(e),w=new BigUint64Array(e)}var T,b=0,A=null;function x(e){b++,r.monitorRunDependencies?.(b)}function G(e){if(b--,r.monitorRunDependencies?.(b),0==b&&A){var t=A;A=null,t()}}function F(e){r.onAbort?.(e),C(e="Aborted("+e+")"),P=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function R(){return r.locateFile?(e="magick.wasm",r.locateFile?r.locateFile(e,h):h+e):new URL("data:text/plain;base64,").href;var e}async function W(e){if(!g)try{var t=await _(e);return new Uint8Array(t)}catch{}return function(e){if(e==T&&g)return new Uint8Array(g);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}(e)}async function O(e,t,i){if(!e&&"function"==typeof WebAssembly.instantiateStreaming&&!D(t))try{var r=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(r,i)}catch(e){C(`wasm streaming compile failed: ${e}`),C("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var i=await W(e);return await WebAssembly.instantiate(i,t)}catch(e){C(`failed to asynchronously prepare wasm: ${e}`),F(e)}}(t,i)}class L{constructor(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}}var $,B=e=>{for(;e.length>0;)e.shift()(r)},z=[],N=e=>z.push(e),H=[],U=e=>H.push(e),j=!0,V=e=>oi(e),Y=()=>_i(),X=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e),q=[],K=e=>{var t=q[e];return t||(q[e]=t=$.get(e)),t},Q=0;class J{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){v[this.ptr+4>>>2>>>0]=e}get_type(){return v[this.ptr+4>>>2>>>0]}set_destructor(e){v[this.ptr+8>>>2>>>0]=e}get_destructor(){return v[this.ptr+8>>>2>>>0]}set_caught(e){e=e?1:0,p[this.ptr+12>>>0]=e}get_caught(){return 0!=p[this.ptr+12>>>0]}set_rethrown(e){e=e?1:0,p[this.ptr+13>>>0]=e}get_rethrown(){return 0!=p[this.ptr+13>>>0]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){v[this.ptr+16>>>2>>>0]=e}get_adjusted_ptr(){return v[this.ptr+16>>>2>>>0]}}var Z=e=>si(e),ee={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var i=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},normalize:e=>{var t=ee.isAbs(e),i="/"===e.slice(-1);return!(e=ee.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))&&!t&&(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=ee.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.slice(0,-1)),i+r):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>ee.normalize(e.join("/")),join2:(e,t)=>ee.normalize(e+"/"+t)},te=e=>{(te=e=>crypto.getRandomValues(e))(e)},ie={resolve:(...e)=>{for(var t="",i=!1,r=e.length-1;r>=-1&&!i;r--){var a=r>=0?e[r]:de.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";t=a+"/"+t,i=ee.isAbs(a)}return(i?"/":"")+(t=ee.normalizeArray(t.split("/").filter((e=>!!e)),!i).join("/"))||"."},relative:(e,t)=>{function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=ie.resolve(e).slice(1),t=ie.resolve(t).slice(1);for(var r=i(e.split("/")),a=i(t.split("/")),n=Math.min(r.length,a.length),s=n,o=0;o<n;o++)if(r[o]!==a[o]){s=o;break}var _=[];for(o=s;o<r.length;o++)_.push("..");return(_=_.concat(a.slice(s))).join("/")}},re=typeof TextDecoder<"u"?new TextDecoder:void 0,ae=(e,t=0,i=NaN)=>{for(var r=(t>>>=0)+i,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&re)return re.decode(e.subarray(t,a));for(var n="";t<a;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var _=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|_:(7&s)<<18|o<<12|_<<6|63&e[t++])<65536)n+=String.fromCharCode(s);else{var c=s-65536;n+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else n+=String.fromCharCode((31&s)<<6|o)}else n+=String.fromCharCode(s)}return n},ne=[],se=e=>{for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++i):t+=3}return t},oe=(e,t,i,r)=>{if(!(r>0))return 0;for(var a=i>>>=0,n=i+r-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(i>=n)break;t[i++>>>0]=o}else if(o<=2047){if(i+1>=n)break;t[i++>>>0]=192|o>>6,t[i++>>>0]=128|63&o}else if(o<=65535){if(i+2>=n)break;t[i++>>>0]=224|o>>12,t[i++>>>0]=128|o>>6&63,t[i++>>>0]=128|63&o}else{if(i+3>=n)break;t[i++>>>0]=240|o>>18,t[i++>>>0]=128|o>>12&63,t[i++>>>0]=128|o>>6&63,t[i++>>>0]=128|63&o}}return t[i>>>0]=0,i-a},_e=(e,t,i)=>{var r=se(e)+1,a=new Array(r),n=oe(e,a,0,a.length);return a.length=n,a},ce={ttys:[],init(){},shutdown(){},register(e,t){ce.ttys[e]={input:[],output:[],ops:t},de.registerDevice(e,ce.stream_ops)},stream_ops:{open(e){var t=ce.ttys[e.node.rdev];if(!t)throw new de.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,i,r,a){if(!e.tty||!e.tty.ops.get_char)throw new de.ErrnoError(60);for(var n=0,s=0;s<r;s++){var o;try{o=e.tty.ops.get_char(e.tty)}catch{throw new de.ErrnoError(29)}if(void 0===o&&0===n)throw new de.ErrnoError(6);if(null==o)break;n++,t[i+s]=o}return n&&(e.node.atime=Date.now()),n},write(e,t,i,r,a){if(!e.tty||!e.tty.ops.put_char)throw new de.ErrnoError(60);try{for(var n=0;n<r;n++)e.tty.ops.put_char(e.tty,t[i+n])}catch{throw new de.ErrnoError(29)}return r&&(e.node.mtime=e.node.ctime=Date.now()),n}},default_tty_ops:{get_char:e=>(()=>{if(!ne.length){var e=null;if(typeof window<"u"&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e)return null;ne=_e(e)}return ne.shift()})(),put_char(e,t){null===t||10===t?(I(ae(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(I(ae(e.output)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,t,i)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,t){null===t||10===t?(C(ae(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(C(ae(e.output)),e.output=[])}}},le=(e,t)=>Math.ceil(e/t)*t,he=e=>{e=le(e,65536);var t=ai(65536,e);return t&&((e,t)=>{d.fill(0,e,e+t)})(t,e),t},ge={ops_table:null,mount:e=>ge.createNode(null,"/",16895,0),createNode(e,t,i,r){if(de.isBlkdev(i)||de.isFIFO(i))throw new de.ErrnoError(63);ge.ops_table||={dir:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,lookup:ge.node_ops.lookup,mknod:ge.node_ops.mknod,rename:ge.node_ops.rename,unlink:ge.node_ops.unlink,rmdir:ge.node_ops.rmdir,readdir:ge.node_ops.readdir,symlink:ge.node_ops.symlink},stream:{llseek:ge.stream_ops.llseek}},file:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:{llseek:ge.stream_ops.llseek,read:ge.stream_ops.read,write:ge.stream_ops.write,mmap:ge.stream_ops.mmap,msync:ge.stream_ops.msync}},link:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,readlink:ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:de.chrdev_stream_ops}};var a=de.createNode(e,t,i,r);return de.isDir(a.mode)?(a.node_ops=ge.ops_table.dir.node,a.stream_ops=ge.ops_table.dir.stream,a.contents={}):de.isFile(a.mode)?(a.node_ops=ge.ops_table.file.node,a.stream_ops=ge.ops_table.file.stream,a.usedBytes=0,a.contents=null):de.isLink(a.mode)?(a.node_ops=ge.ops_table.link.node,a.stream_ops=ge.ops_table.link.stream):de.isChrdev(a.mode)&&(a.node_ops=ge.ops_table.chrdev.node,a.stream_ops=ge.ops_table.chrdev.stream),a.atime=a.mtime=a.ctime=Date.now(),e&&(e.contents[t]=a,e.atime=e.mtime=e.ctime=a.atime),a},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var i=e.contents?e.contents.length:0;if(!(i>=t)){t=Math.max(t,i*(i<1048576?2:1.125)>>>0),0!=i&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var i=e.contents;e.contents=new Uint8Array(t),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=de.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,de.isDir(e.mode)?t.size=4096:de.isFile(e.mode)?t.size=e.usedBytes:de.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const i of["mode","atime","mtime","ctime"])null!=t[i]&&(e[i]=t[i]);void 0!==t.size&&ge.resizeFileStorage(e,t.size)},lookup(e,t){throw ge.doesNotExistError},mknod:(e,t,i,r)=>ge.createNode(e,t,i,r),rename(e,t,i){var r;try{r=de.lookupNode(t,i)}catch{}if(r){if(de.isDir(e.mode))for(var a in r.contents)throw new de.ErrnoError(55);de.hashRemoveNode(r)}delete e.parent.contents[e.name],t.contents[i]=e,e.name=i,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var i=de.lookupNode(e,t);for(var r in i.contents)throw new de.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir:e=>[".","..",...Object.keys(e.contents)],symlink(e,t,i){var r=ge.createNode(e,t,41471,0);return r.link=i,r},readlink(e){if(!de.isLink(e.mode))throw new de.ErrnoError(28);return e.link}},stream_ops:{read(e,t,i,r,a){var n=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,r);if(s>8&&n.subarray)t.set(n.subarray(a,a+s),i);else for(var o=0;o<s;o++)t[i+o]=n[a+o];return s},write(e,t,i,r,a,n){if(t.buffer===p.buffer&&(n=!1),!r)return 0;var s=e.node;if(s.mtime=s.ctime=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(n)return s.contents=t.subarray(i,i+r),s.usedBytes=r,r;if(0===s.usedBytes&&0===a)return s.contents=t.slice(i,i+r),s.usedBytes=r,r;if(a+r<=s.usedBytes)return s.contents.set(t.subarray(i,i+r),a),r}if(ge.expandFileStorage(s,a+r),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(i,i+r),a);else for(var o=0;o<r;o++)s.contents[a+o]=t[i+o];return s.usedBytes=Math.max(s.usedBytes,a+r),r},llseek(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&de.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new de.ErrnoError(28);return r},mmap(e,t,i,r,a){if(!de.isFile(e.node.mode))throw new de.ErrnoError(43);var n,s,o=e.node.contents;if(2&a||!o||o.buffer!==p.buffer){if(s=!0,!(n=he(t)))throw new de.ErrnoError(48);o&&((i>0||i+t<o.length)&&(o=o.subarray?o.subarray(i,i+t):Array.prototype.slice.call(o,i,i+t)),p.set(o,n>>>0))}else s=!1,n=o.byteOffset;return{ptr:n,allocated:s}},msync:(e,t,i,r,a)=>(ge.stream_ops.write(e,t,0,r,i,!1),0)}},ue=[],pe=(e,t)=>{var i=0;return e&&(i|=365),t&&(i|=146),i},de={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return!!(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,i,r){this.node_ops={},this.stream_ops={},this.readMode=365,this.writeMode=146,this.mounted=null,e||(e=this),this.parent=e,this.mount=e.mount,this.id=de.nextInode++,this.name=t,this.mode=i,this.rdev=r,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return de.isDir(this.mode)}get isDevice(){return de.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)throw new de.ErrnoError(44);t.follow_mount??=!0,ee.isAbs(e)||(e=de.cwd()+"/"+e);e:for(var i=0;i<40;i++){for(var r=e.split("/").filter((e=>!!e)),a=de.root,n="/",s=0;s<r.length;s++){var o=s===r.length-1;if(o&&t.parent)break;if("."!==r[s]){if(".."===r[s]){if(n=ee.dirname(n),de.isRoot(a)){e=n+"/"+r.slice(s+1).join("/");continue e}a=a.parent;continue}n=ee.join2(n,r[s]);try{a=de.lookupNode(a,r[s])}catch(e){if(44===e?.errno&&o&&t.noent_okay)return{path:n};throw e}if(de.isMountpoint(a)&&(!o||t.follow_mount)&&(a=a.mounted.root),de.isLink(a.mode)&&(!o||t.follow)){if(!a.node_ops.readlink)throw new de.ErrnoError(52);var _=a.node_ops.readlink(a);ee.isAbs(_)||(_=ee.dirname(n)+"/"+_),e=_+"/"+r.slice(s+1).join("/");continue e}}}return{path:n,node:a}}throw new de.ErrnoError(32)},getPath(e){for(var t;;){if(de.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?`${i}/${t}`:i+t:i}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%de.nameTable.length},hashAddNode(e){var t=de.hashName(e.parent.id,e.name);e.name_next=de.nameTable[t],de.nameTable[t]=e},hashRemoveNode(e){var t=de.hashName(e.parent.id,e.name);if(de.nameTable[t]===e)de.nameTable[t]=e.name_next;else for(var i=de.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode(e,t){var i=de.mayLookup(e);if(i)throw new de.ErrnoError(i);for(var r=de.hashName(e.id,t),a=de.nameTable[r];a;a=a.name_next){var n=a.name;if(a.parent.id===e.id&&n===t)return a}return de.lookup(e,t)},createNode(e,t,i,r){var a=new de.FSNode(e,t,i,r);return de.hashAddNode(a),a},destroyNode(e){de.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>de.ignorePermissions?0:t.includes("r")&&!(292&e.mode)||t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0,mayLookup:e=>de.isDir(e.mode)?de.nodePermissions(e,"x")||(e.node_ops.lookup?0:2):54,mayCreate(e,t){if(!de.isDir(e.mode))return 54;try{return de.lookupNode(e,t),20}catch{}return de.nodePermissions(e,"wx")},mayDelete(e,t,i){var r;try{r=de.lookupNode(e,t)}catch(e){return e.errno}var a=de.nodePermissions(e,"wx");if(a)return a;if(i){if(!de.isDir(r.mode))return 54;if(de.isRoot(r)||de.getPath(r)===de.cwd())return 10}else if(de.isDir(r.mode))return 31;return 0},mayOpen:(e,t)=>e?de.isLink(e.mode)?32:de.isDir(e.mode)&&("r"!==de.flagsToPermissionString(t)||576&t)?31:de.nodePermissions(e,de.flagsToPermissionString(t)):44,checkOpExists(e,t){if(!e)throw new de.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=de.MAX_OPEN_FDS;e++)if(!de.streams[e])return e;throw new de.ErrnoError(33)},getStreamChecked(e){var t=de.getStream(e);if(!t)throw new de.ErrnoError(8);return t},getStream:e=>de.streams[e],createStream:(e,t=-1)=>(e=Object.assign(new de.FSStream,e),-1==t&&(t=de.nextfd()),e.fd=t,de.streams[t]=e,e),closeStream(e){de.streams[e]=null},dupStream(e,t=-1){var i=de.createStream(e,t);return i.stream_ops?.dup?.(i),i},doSetAttr(e,t,i){var r=e?.stream_ops.setattr,a=r?e:t;r??=t.node_ops.setattr,de.checkOpExists(r,63),r(a,i)},chrdev_stream_ops:{open(e){var t=de.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new de.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){de.devices[e]={stream_ops:t}},getDevice:e=>de.devices[e],getMounts(e){for(var t=[],i=[e];i.length;){var r=i.pop();t.push(r),i.push(...r.mounts)}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),de.syncFSRequests++,de.syncFSRequests>1&&C(`warning: ${de.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var i=de.getMounts(de.root.mount),r=0;function a(e){return de.syncFSRequests--,t(e)}function n(e){if(e)return n.errored?void 0:(n.errored=!0,a(e));++r>=i.length&&a(null)}i.forEach((t=>{if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)}))},mount(e,t,i){var r,a="/"===i,n=!i;if(a&&de.root)throw new de.ErrnoError(10);if(!a&&!n){var s=de.lookupPath(i,{follow_mount:!1});if(i=s.path,r=s.node,de.isMountpoint(r))throw new de.ErrnoError(10);if(!de.isDir(r.mode))throw new de.ErrnoError(54)}var o={type:e,opts:t,mountpoint:i,mounts:[]},_=e.mount(o);return _.mount=o,o.root=_,a?de.root=_:r&&(r.mounted=o,r.mount&&r.mount.mounts.push(o)),_},unmount(e){var t=de.lookupPath(e,{follow_mount:!1});if(!de.isMountpoint(t.node))throw new de.ErrnoError(28);var i=t.node,r=i.mounted,a=de.getMounts(r);Object.keys(de.nameTable).forEach((e=>{for(var t=de.nameTable[e];t;){var i=t.name_next;a.includes(t.mount)&&de.destroyNode(t),t=i}})),i.mounted=null;var n=i.mount.mounts.indexOf(r);i.mount.mounts.splice(n,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod(e,t,i){var r=de.lookupPath(e,{parent:!0}).node,a=ee.basename(e);if(!a)throw new de.ErrnoError(28);if("."===a||".."===a)throw new de.ErrnoError(20);var n=de.mayCreate(r,a);if(n)throw new de.ErrnoError(n);if(!r.node_ops.mknod)throw new de.ErrnoError(63);return r.node_ops.mknod(r,a,t,i)},statfs:e=>de.statfsNode(de.lookupPath(e,{follow:!0}).node),statfsStream:e=>de.statfsNode(e.node),statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:de.nextInode,ffree:de.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create:(e,t=438)=>(t&=4095,t|=32768,de.mknod(e,t,0)),mkdir:(e,t=511)=>(t&=1023,t|=16384,de.mknod(e,t,0)),mkdirTree(e,t){var i=e.split("/"),r="";for(var a of i)if(a){(r||ee.isAbs(e))&&(r+="/"),r+=a;try{de.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,i)=>(typeof i>"u"&&(i=t,t=438),t|=8192,de.mknod(e,t,i)),symlink(e,t){if(!ie.resolve(e))throw new de.ErrnoError(44);var i=de.lookupPath(t,{parent:!0}).node;if(!i)throw new de.ErrnoError(44);var r=ee.basename(t),a=de.mayCreate(i,r);if(a)throw new de.ErrnoError(a);if(!i.node_ops.symlink)throw new de.ErrnoError(63);return i.node_ops.symlink(i,r,e)},rename(e,t){var i,r,a=ee.dirname(e),n=ee.dirname(t),s=ee.basename(e),o=ee.basename(t);if(i=de.lookupPath(e,{parent:!0}).node,r=de.lookupPath(t,{parent:!0}).node,!i||!r)throw new de.ErrnoError(44);if(i.mount!==r.mount)throw new de.ErrnoError(75);var _,c=de.lookupNode(i,s),l=ie.relative(e,n);if("."!==l.charAt(0))throw new de.ErrnoError(28);if("."!==(l=ie.relative(t,a)).charAt(0))throw new de.ErrnoError(55);try{_=de.lookupNode(r,o)}catch{}if(c!==_){var h=de.isDir(c.mode),g=de.mayDelete(i,s,h);if(g)throw new de.ErrnoError(g);if(g=_?de.mayDelete(r,o,h):de.mayCreate(r,o))throw new de.ErrnoError(g);if(!i.node_ops.rename)throw new de.ErrnoError(63);if(de.isMountpoint(c)||_&&de.isMountpoint(_))throw new de.ErrnoError(10);if(r!==i&&(g=de.nodePermissions(i,"w")))throw new de.ErrnoError(g);de.hashRemoveNode(c);try{i.node_ops.rename(c,r,o),c.parent=r}catch(e){throw e}finally{de.hashAddNode(c)}}},rmdir(e){var t=de.lookupPath(e,{parent:!0}).node,i=ee.basename(e),r=de.lookupNode(t,i),a=de.mayDelete(t,i,!0);if(a)throw new de.ErrnoError(a);if(!t.node_ops.rmdir)throw new de.ErrnoError(63);if(de.isMountpoint(r))throw new de.ErrnoError(10);t.node_ops.rmdir(t,i),de.destroyNode(r)},readdir(e){var t=de.lookupPath(e,{follow:!0}).node;return de.checkOpExists(t.node_ops.readdir,54)(t)},unlink(e){var t=de.lookupPath(e,{parent:!0}).node;if(!t)throw new de.ErrnoError(44);var i=ee.basename(e),r=de.lookupNode(t,i),a=de.mayDelete(t,i,!1);if(a)throw new de.ErrnoError(a);if(!t.node_ops.unlink)throw new de.ErrnoError(63);if(de.isMountpoint(r))throw new de.ErrnoError(10);t.node_ops.unlink(t,i),de.destroyNode(r)},readlink(e){var t=de.lookupPath(e).node;if(!t)throw new de.ErrnoError(44);if(!t.node_ops.readlink)throw new de.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,t){var i=de.lookupPath(e,{follow:!t}).node;return de.checkOpExists(i.node_ops.getattr,63)(i)},fstat(e){var t=de.getStreamChecked(e),i=t.node,r=t.stream_ops.getattr,a=r?t:i;return r??=i.node_ops.getattr,de.checkOpExists(r,63),r(a)},lstat:e=>de.stat(e,!0),doChmod(e,t,i,r){de.doSetAttr(e,t,{mode:4095&i|-4096&t.mode,ctime:Date.now(),dontFollow:r})},chmod(e,t,i){var r;r="string"==typeof e?de.lookupPath(e,{follow:!i}).node:e,de.doChmod(null,r,t,i)},lchmod(e,t){de.chmod(e,t,!0)},fchmod(e,t){var i=de.getStreamChecked(e);de.doChmod(i,i.node,t,!1)},doChown(e,t,i){de.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:i})},chown(e,t,i,r){var a;a="string"==typeof e?de.lookupPath(e,{follow:!r}).node:e,de.doChown(null,a,r)},lchown(e,t,i){de.chown(e,t,i,!0)},fchown(e,t,i){var r=de.getStreamChecked(e);de.doChown(r,r.node,!1)},doTruncate(e,t,i){if(de.isDir(t.mode))throw new de.ErrnoError(31);if(!de.isFile(t.mode))throw new de.ErrnoError(28);var r=de.nodePermissions(t,"w");if(r)throw new de.ErrnoError(r);de.doSetAttr(e,t,{size:i,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new de.ErrnoError(28);var i;i="string"==typeof e?de.lookupPath(e,{follow:!0}).node:e,de.doTruncate(null,i,t)},ftruncate(e,t){var i=de.getStreamChecked(e);if(t<0||!(2097155&i.flags))throw new de.ErrnoError(28);de.doTruncate(i,i.node,t)},utime(e,t,i){var r=de.lookupPath(e,{follow:!0}).node;de.checkOpExists(r.node_ops.setattr,63)(r,{atime:t,mtime:i})},open(e,t,i=438){if(""===e)throw new de.ErrnoError(44);var a,n;if(t="string"==typeof t?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t})(t):t,i=64&t?4095&i|32768:0,"object"==typeof e)a=e;else{n=e.endsWith("/");var s=de.lookupPath(e,{follow:!(131072&t),noent_okay:!0});a=s.node,e=s.path}var o=!1;if(64&t)if(a){if(128&t)throw new de.ErrnoError(20)}else{if(n)throw new de.ErrnoError(31);a=de.mknod(e,511|i,0),o=!0}if(!a)throw new de.ErrnoError(44);if(de.isChrdev(a.mode)&&(t&=-513),65536&t&&!de.isDir(a.mode))throw new de.ErrnoError(54);if(!o){var _=de.mayOpen(a,t);if(_)throw new de.ErrnoError(_)}512&t&&!o&&de.truncate(a,0),t&=-131713;var c=de.createStream({node:a,path:de.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1});return c.stream_ops.open&&c.stream_ops.open(c),o&&de.chmod(a,511&i),r.logReadFiles&&!(1&t)&&(e in de.readFiles||(de.readFiles[e]=1)),c},close(e){if(de.isClosed(e))throw new de.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{de.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,t,i){if(de.isClosed(e))throw new de.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new de.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new de.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read(e,t,i,r,a){if(r<0||a<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(1==(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.read)throw new de.ErrnoError(28);var n=typeof a<"u";if(n){if(!e.seekable)throw new de.ErrnoError(70)}else a=e.position;var s=e.stream_ops.read(e,t,i,r,a);return n||(e.position+=s),s},write(e,t,i,r,a,n){if(r<0||a<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(!(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.write)throw new de.ErrnoError(28);e.seekable&&1024&e.flags&&de.llseek(e,0,2);var s=typeof a<"u";if(s){if(!e.seekable)throw new de.ErrnoError(70)}else a=e.position;var o=e.stream_ops.write(e,t,i,r,a,n);return s||(e.position+=o),o},mmap(e,t,i,r,a){if(2&r&&!(2&a)&&2!=(2097155&e.flags))throw new de.ErrnoError(2);if(1==(2097155&e.flags))throw new de.ErrnoError(2);if(!e.stream_ops.mmap)throw new de.ErrnoError(43);if(!t)throw new de.ErrnoError(28);return e.stream_ops.mmap(e,t,i,r,a)},msync:(e,t,i,r,a)=>e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,a):0,ioctl(e,t,i){if(!e.stream_ops.ioctl)throw new de.ErrnoError(59);return e.stream_ops.ioctl(e,t,i)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error(`Invalid encoding type "${t.encoding}"`);var i,r=de.open(e,t.flags),a=de.stat(e).size,n=new Uint8Array(a);return de.read(r,n,0,a,0),"utf8"===t.encoding?i=ae(n):"binary"===t.encoding&&(i=n),de.close(r),i},writeFile(e,t,i={}){i.flags=i.flags||577;var r=de.open(e,i.flags,i.mode);if("string"==typeof t){var a=new Uint8Array(se(t)+1),n=oe(t,a,0,a.length);de.write(r,a,0,n,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");de.write(r,t,0,t.byteLength,void 0,i.canOwn)}de.close(r)},cwd:()=>de.currentPath,chdir(e){var t=de.lookupPath(e,{follow:!0});if(null===t.node)throw new de.ErrnoError(44);if(!de.isDir(t.node.mode))throw new de.ErrnoError(54);var i=de.nodePermissions(t.node,"x");if(i)throw new de.ErrnoError(i);de.currentPath=t.path},createDefaultDirectories(){de.mkdir("/tmp"),de.mkdir("/home"),de.mkdir("/home/web_user")},createDefaultDevices(){de.mkdir("/dev"),de.registerDevice(de.makedev(1,3),{read:()=>0,write:(e,t,i,r,a)=>r,llseek:()=>0}),de.mkdev("/dev/null",de.makedev(1,3)),ce.register(de.makedev(5,0),ce.default_tty_ops),ce.register(de.makedev(6,0),ce.default_tty1_ops),de.mkdev("/dev/tty",de.makedev(5,0)),de.mkdev("/dev/tty1",de.makedev(6,0));var e=new Uint8Array(1024),t=0,i=()=>(0===t&&(te(e),t=e.byteLength),e[--t]);de.createDevice("/dev","random",i),de.createDevice("/dev","urandom",i),de.mkdir("/dev/shm"),de.mkdir("/dev/shm/tmp")},createSpecialDirectories(){de.mkdir("/proc");var e=de.mkdir("/proc/self");de.mkdir("/proc/self/fd"),de.mount({mount(){var t=de.createNode(e,"fd",16895,73);return t.stream_ops={llseek:ge.stream_ops.llseek},t.node_ops={lookup(e,t){var i=+t,r=de.getStreamChecked(i),a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>r.path},id:i+1};return a.parent=a,a},readdir:()=>Array.from(de.streams.entries()).filter((([e,t])=>t)).map((([e,t])=>e.toString()))},t}},{},"/proc/self/fd")},createStandardStreams(e,t,i){e?de.createDevice("/dev","stdin",e):de.symlink("/dev/tty","/dev/stdin"),t?de.createDevice("/dev","stdout",null,t):de.symlink("/dev/tty","/dev/stdout"),i?de.createDevice("/dev","stderr",null,i):de.symlink("/dev/tty1","/dev/stderr"),de.open("/dev/stdin",0),de.open("/dev/stdout",1),de.open("/dev/stderr",1)},staticInit(){de.nameTable=new Array(4096),de.mount(ge,{},"/"),de.createDefaultDirectories(),de.createDefaultDevices(),de.createSpecialDirectories(),de.filesystems={MEMFS:ge}},init(e,t,i){de.initialized=!0,e??=r.stdin,t??=r.stdout,i??=r.stderr,de.createStandardStreams(e,t,i)},quit(){for(var e of(de.initialized=!1,de.streams))e&&de.close(e)},findObject(e,t){var i=de.analyzePath(e,t);return i.exists?i.object:null},analyzePath(e,t){try{e=(r=de.lookupPath(e,{follow:!t})).path}catch{}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=de.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=ee.basename(e),r=de.lookupPath(e,{follow:!t}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(e){i.error=e.errno}return i},createPath(e,t,i,r){e="string"==typeof e?e:de.getPath(e);for(var a=t.split("/").reverse();a.length;){var n=a.pop();if(n){var s=ee.join2(e,n);try{de.mkdir(s)}catch(e){if(20!=e.errno)throw e}e=s}}return s},createFile(e,t,i,r,a){var n=ee.join2("string"==typeof e?e:de.getPath(e),t),s=pe(r,a);return de.create(n,s)},createDataFile(e,t,i,r,a,n){var s=t;e&&(e="string"==typeof e?e:de.getPath(e),s=t?ee.join2(e,t):e);var o=pe(r,a),_=de.create(s,o);if(i){if("string"==typeof i){for(var c=new Array(i.length),l=0,h=i.length;l<h;++l)c[l]=i.charCodeAt(l);i=c}de.chmod(_,146|o);var g=de.open(_,577);de.write(g,i,0,i.length,0,n),de.close(g),de.chmod(_,o)}},createDevice(e,t,i,r){var a=ee.join2("string"==typeof e?e:de.getPath(e),t),n=pe(!!i,!!r);de.createDevice.major??=64;var s=de.makedev(de.createDevice.major++,0);return de.registerDevice(s,{open(e){e.seekable=!1},close(e){r?.buffer?.length&&r(10)},read(e,t,r,a,n){for(var s=0,o=0;o<a;o++){var _;try{_=i()}catch{throw new de.ErrnoError(29)}if(void 0===_&&0===s)throw new de.ErrnoError(6);if(null==_)break;s++,t[r+o]=_}return s&&(e.node.atime=Date.now()),s},write(e,t,i,a,n){for(var s=0;s<a;s++)try{r(t[i+s])}catch{throw new de.ErrnoError(29)}return a&&(e.node.mtime=e.node.ctime=Date.now()),s}}),de.mkdev(a,n,s)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=c(e.url),e.usedBytes=e.contents.length}catch{throw new de.ErrnoError(29)}},createLazyFile(e,t,i,r,a){class n{constructor(){this.lengthKnown=!1,this.chunks=[]}get(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}}setDataGetter(e){this.getter=e}cacheLength(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),a=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,n=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,s=1048576;a||(s=r);var o=this;o.setDataGetter((e=>{var t=e*s,a=(e+1)*s-1;if(a=Math.min(a,r-1),typeof o.chunks[e]>"u"&&(o.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",i,!1),r!==s&&a.setRequestHeader("Range","bytes="+e+"-"+t),a.responseType="arraybuffer",a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+i+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):_e(a.responseText||"")})(t,a)),typeof o.chunks[e]>"u")throw new Error("doXHR failed!");return o.chunks[e]})),(n||!r)&&(s=r=1,r=this.getter(0).length,s=r,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=s,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!o)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s={isDevice:!1,contents:new n}}else s={isDevice:!1,url:i};var _=de.createFile(e,t,s,r,a);s.contents?_.contents=s.contents:s.url&&(_.contents=null,_.url=s.url),Object.defineProperties(_,{usedBytes:{get:function(){return this.contents.length}}});var c={};function l(e,t,i,r,a){var n=e.node.contents;if(a>=n.length)return 0;var s=Math.min(n.length-a,r);if(n.slice)for(var o=0;o<s;o++)t[i+o]=n[a+o];else for(o=0;o<s;o++)t[i+o]=n.get(a+o);return s}return Object.keys(_.stream_ops).forEach((e=>{var t=_.stream_ops[e];c[e]=(...e)=>(de.forceLoadFile(_),t(...e))})),c.read=(e,t,i,r,a)=>(de.forceLoadFile(_),l(e,t,i,r,a)),c.mmap=(e,t,i,r,a)=>{de.forceLoadFile(_);var n=he(t);if(!n)throw new de.ErrnoError(48);return l(e,p,n,t,i),{ptr:n,allocated:!0}},_.stream_ops=c,_}},me=(e,t)=>(e>>>=0)?ae(d,e,t):"",fe={DEFAULT_POLLMASK:5,calculateAt(e,t,i){if(ee.isAbs(t))return t;var r;if(r=-100===e?de.cwd():fe.getStreamFromFD(e).path,0==t.length){if(!i)throw new de.ErrnoError(44);return r}return r+"/"+t},writeStat(e,t){k[e>>>2>>>0]=t.dev,k[e+4>>>2>>>0]=t.mode,v[e+8>>>2>>>0]=t.nlink,k[e+12>>>2>>>0]=t.uid,k[e+16>>>2>>>0]=t.gid,k[e+20>>>2>>>0]=t.rdev,y[e+24>>>3]=BigInt(t.size),k[e+32>>>2>>>0]=4096,k[e+36>>>2>>>0]=t.blocks;var i=t.atime.getTime(),r=t.mtime.getTime(),a=t.ctime.getTime();return y[e+40>>>3]=BigInt(Math.floor(i/1e3)),v[e+48>>>2>>>0]=i%1e3*1e3*1e3,y[e+56>>>3]=BigInt(Math.floor(r/1e3)),v[e+64>>>2>>>0]=r%1e3*1e3*1e3,y[e+72>>>3]=BigInt(Math.floor(a/1e3)),v[e+80>>>2>>>0]=a%1e3*1e3*1e3,y[e+88>>>3]=BigInt(t.ino),0},writeStatFs(e,t){k[e+4>>>2>>>0]=t.bsize,k[e+40>>>2>>>0]=t.bsize,k[e+8>>>2>>>0]=t.blocks,k[e+12>>>2>>>0]=t.bfree,k[e+16>>>2>>>0]=t.bavail,k[e+20>>>2>>>0]=t.files,k[e+24>>>2>>>0]=t.ffree,k[e+28>>>2>>>0]=t.fsid,k[e+44>>>2>>>0]=t.flags,k[e+36>>>2>>>0]=t.namelen},doMsync(e,t,i,r,a){if(!de.isFile(t.node.mode))throw new de.ErrnoError(43);if(2&r)return 0;var n=d.slice(e,e+i);de.msync(t,n,a,i,r)},getStreamFromFD:e=>de.getStreamChecked(e),varargs:void 0,getStr:e=>me(e)},ke=()=>{var e=k[+fe.varargs>>>2>>>0];return fe.varargs+=4,e},ve=ke,Me=(e,t,i)=>oe(e,d,t,i),ye={},we=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function Se(e){return this.fromWireType(v[e>>>2>>>0])}var Ie,Ce={},Pe={},De={},Ee=r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Te=e=>{throw new Ee(e)},be=(e,t,i)=>{function r(t){var r=i(t);r.length!==e.length&&Te("Mismatched type converter count");for(var a=0;a<e.length;++a)Re(e[a],r[a])}e.forEach((e=>De[e]=t));var a=new Array(t.length),n=[],s=0;t.forEach(((e,t)=>{Pe.hasOwnProperty(e)?a[t]=Pe[e]:(n.push(e),Ce.hasOwnProperty(e)||(Ce[e]=[]),Ce[e].push((()=>{a[t]=Pe[e],++s===n.length&&r(a)})))})),0===n.length&&r(a)},Ae=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},xe=e=>{for(var t="",i=e;d[i>>>0];)t+=Ie[d[i++>>>0]];return t},Ge=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Fe=e=>{throw new Ge(e)};function Re(e,t,i={}){return function(e,t,i={}){var r=t.name;if(e||Fe(`type "${r}" must have a positive integer typeid pointer`),Pe.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;Fe(`Cannot register type '${r}' twice`)}if(Pe[e]=t,delete De[e],Ce.hasOwnProperty(e)){var a=Ce[e];delete Ce[e],a.forEach((e=>e()))}}(e,t,i)}var We=(e,t,i)=>{switch(t){case 1:return i?e=>p[e>>>0]:e=>d[e>>>0];case 2:return i?e=>m[e>>>1>>>0]:e=>f[e>>>1>>>0];case 4:return i?e=>k[e>>>2>>>0]:e=>v[e>>>2>>>0];case 8:return i?e=>y[e>>>3]:e=>w[e>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Oe=8,Le=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),$e=e=>{Fe(e.$$.ptrType.registeredClass.name+" instance already deleted")},Be=!1,ze=e=>{},Ne=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},He=e=>typeof FinalizationRegistry>"u"?(He=e=>e,e):(Be=new FinalizationRegistry((e=>{Ne(e.$$)})),ze=e=>Be.unregister(e),(He=e=>{var t=e.$$;if(t.smartPtr){var i={$$:t};Be.register(e,i,e)}return e})(e));function Ue(){}var je=(e,t)=>Object.defineProperty(t,"name",{value:e}),Ve={},Ye=(e,t,i)=>{if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||Fe(`Function '${i}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},Xe=(e,t,i)=>{r.hasOwnProperty(e)?((void 0===i||void 0!==r[e].overloadTable&&void 0!==r[e].overloadTable[i])&&Fe(`Cannot register public name '${e}' twice`),Ye(r,e,e),r[e].overloadTable.hasOwnProperty(i)&&Fe(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),r[e].overloadTable[i]=t):(r[e]=t,r[e].argCount=i)};function qe(e,t,i,r,a,n,s,o){this.name=e,this.constructor=t,this.instancePrototype=i,this.rawDestructor=r,this.baseClass=a,this.getActualType=n,this.upcast=s,this.downcast=o,this.pureVirtualFunctions=[]}var Ke=(e,t,i)=>{for(;t!==i;)t.upcast||Fe(`Expected null or instance of ${i.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Qe(e,t){if(null===t)return this.isReference&&Fe(`null is not a valid ${this.name}`),0;t.$$||Fe(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Fe(`Cannot pass deleted object as a pointer of type ${this.name}`);var i=t.$$.ptrType.registeredClass;return Ke(t.$$.ptr,i,this.registeredClass)}function Je(e,t){var i;if(null===t)return this.isReference&&Fe(`null is not a valid ${this.name}`),this.isSmartPointer?(i=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,i),i):0;(!t||!t.$$)&&Fe(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Fe(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Fe(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;if(i=Ke(t.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Fe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?i=t.$$.smartPtr:Fe(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:i=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)i=t.$$.smartPtr;else{var a=t.clone();i=this.rawShare(i,ft.toHandle((()=>a.delete()))),null!==e&&e.push(this.rawDestructor,i)}break;default:Fe("Unsupporting sharing policy")}return i}function Ze(e,t){if(null===t)return this.isReference&&Fe(`null is not a valid ${this.name}`),0;t.$$||Fe(`Cannot pass "${Ae(t)}" as a ${this.name}`),t.$$.ptr||Fe(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Fe(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;return Ke(t.$$.ptr,i,this.registeredClass)}var et=(e,t,i)=>{if(t===i)return e;if(void 0===i.baseClass)return null;var r=et(e,t,i.baseClass);return null===r?null:i.downcast(r)},tt={},it=(e,t)=>(t=((e,t)=>{for(void 0===t&&Fe("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),tt[t]),rt=(e,t)=>((!t.ptrType||!t.ptr)&&Te("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Te("Both smartPtrType and smartPtr must be specified"),t.count={value:1},He(Object.create(e,{$$:{value:t,writable:!0}})));function at(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var i=it(this.registeredClass,t);if(void 0!==i){if(0===i.$$.count.value)return i.$$.ptr=t,i.$$.smartPtr=e,i.clone();var r=i.clone();return this.destructor(e),r}function a(){return this.isSmartPointer?rt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):rt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var n,s=this.registeredClass.getActualType(t),o=Ve[s];if(!o)return a.call(this);n=this.isConst?o.constPointerType:o.pointerType;var _=et(t,this.registeredClass,n.registeredClass);return null===_?a.call(this):this.isSmartPointer?rt(n.registeredClass.instancePrototype,{ptrType:n,ptr:_,smartPtrType:this,smartPtr:e}):rt(n.registeredClass.instancePrototype,{ptrType:n,ptr:_})}function nt(e,t,i,r,a,n,s,o,_,c,l){this.name=e,this.registeredClass=t,this.isReference=i,this.isConst=r,this.isSmartPointer=a,this.pointeeType=n,this.sharingPolicy=s,this.rawGetPointee=o,this.rawConstructor=_,this.rawShare=c,this.rawDestructor=l,a||void 0!==t.baseClass?this.toWireType=Je:r?(this.toWireType=Qe,this.destructorFunction=null):(this.toWireType=Ze,this.destructorFunction=null)}var st=(e,t,i)=>{r.hasOwnProperty(e)||Te("Replacing nonexistent public symbol"),void 0!==r[e].overloadTable&&void 0!==i?r[e].overloadTable[i]=t:(r[e]=t,r[e].argCount=i)},ot=(e,t,i=!1)=>(...i)=>((e,t,i=[])=>{var r=K(t)(...i);return"p"==e[0]?r>>>0:r})(e,t,i),_t=(e,t,i=!1)=>{var r=(e=xe(e)).includes("p")?ot(e,t,i):K(t);return"function"!=typeof r&&Fe(`unknown function pointer with signature ${e}: ${t}`),r};class ct extends Error{}var lt=e=>{var t=ti(e),i=xe(t);return ri(t),i},ht=(e,t)=>{var i=[],r={};throw t.forEach((function e(t){if(!r[t]&&!Pe[t]){if(De[t])return void De[t].forEach(e);i.push(t),r[t]=!0}})),new ct(`${e}: `+i.map(lt).join([", "]))},gt=[],ut=[];function pt(e){(e>>>=0)>9&&0==--ut[e+1]&&(ut[e]=void 0,gt.push(e))}var dt,mt=()=>ut.length/2-5-gt.length,ft={toValue:e=>(e||Fe(`Cannot use deleted val. handle = ${e}`),ut[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=gt.pop()||ut.length;return ut[t]=e,ut[t+1]=1,t}}}},kt={name:"emscripten::val",fromWireType:e=>{var t=ft.toValue(e);return pt(e),t},toWireType:(e,t)=>ft.toHandle(t),argPackAdvance:Oe,readValueFromPointer:Se,destructorFunction:null},vt=(e,t,i)=>{switch(t){case 1:return i?function(e){return this.fromWireType(p[e>>>0])}:function(e){return this.fromWireType(d[e>>>0])};case 2:return i?function(e){return this.fromWireType(m[e>>>1>>>0])}:function(e){return this.fromWireType(f[e>>>1>>>0])};case 4:return i?function(e){return this.fromWireType(k[e>>>2>>>0])}:function(e){return this.fromWireType(v[e>>>2>>>0])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Mt=(e,t)=>{var i=Pe[e];return void 0===i&&Fe(`${t} has unknown type ${lt(e)}`),i},yt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(M[e>>>2>>>0])};case 8:return function(e){return this.fromWireType(S[e>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},wt={ftf:function(e,t,i,r,a,n,s){return function(){var e=i(r);return n.fromWireType(e)}},ftft:function(e,t,i,r,a,n,s,o,_){return function(e){var t=o.toWireType(null,e),a=i(r,t);return _(t),n.fromWireType(a)}},fffn:function(e,t,i,r,a,n,s,o){return function(e){var t=o.toWireType(null,e);i(r,t)}},ftfn:function(e,t,i,r,a,n,s,o){return function(e){var t=o.toWireType(null,e),a=i(r,t);return n.fromWireType(a)}},ftfnn:function(e,t,i,r,a,n,s,o,_){return function(e,t){var a=o.toWireType(null,e),s=_.toWireType(null,t),c=i(r,a,s);return n.fromWireType(c)}},ftfnnn:function(e,t,i,r,a,n,s,o,_,c){return function(e,t,a){var s=o.toWireType(null,e),l=_.toWireType(null,t),h=c.toWireType(null,a),g=i(r,s,l,h);return n.fromWireType(g)}},ftfnt:function(e,t,i,r,a,n,s,o,_,c){return function(e,t){var a=o.toWireType(null,e),s=_.toWireType(null,t),l=i(r,a,s);return c(s),n.fromWireType(l)}}},St=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,It=(e,t)=>{for(var i=e,r=i>>1,a=r+t/2;!(r>=a)&&f[r>>>0];)++r;if((i=r<<1)-e>32&&St)return St.decode(d.subarray(e>>>0,i>>>0));for(var n="",s=0;!(s>=t/2);++s){var o=m[e+2*s>>>1>>>0];if(0==o)break;n+=String.fromCharCode(o)}return n},Ct=(e,t,i)=>{if(i??=2147483647,i<2)return 0;for(var r=t,a=(i-=2)<2*e.length?i/2:e.length,n=0;n<a;++n){var s=e.charCodeAt(n);m[t>>>1>>>0]=s,t+=2}return m[t>>>1>>>0]=0,t-r},Pt=e=>2*e.length,Dt=(e,t)=>{for(var i=0,r="";!(i>=t/4);){var a=k[e+4*i>>>2>>>0];if(0==a)break;if(++i,a>=65536){var n=a-65536;r+=String.fromCharCode(55296|n>>10,56320|1023&n)}else r+=String.fromCharCode(a)}return r},Et=(e,t,i)=>{if(t>>>=0,i??=2147483647,i<4)return 0;for(var r=t,a=r+i-4,n=0;n<e.length;++n){var s=e.charCodeAt(n);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++n)),k[t>>>2>>>0]=s,(t+=4)+4>a)break}return k[t>>>2>>>0]=0,t-r},bt=e=>{for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&++i,t+=4}return t},At=0,xt={},Gt=e=>{var t=xt[e];return void 0===t?xe(e):t},Ft=[],Rt=Reflect.construct,Wt=[0,31,60,91,121,152,182,213,244,274,305,335],Ot=[0,31,59,90,120,151,181,212,243,273,304,334],Lt=e=>((e=>e%4==0&&(e%100!=0||e%400==0))(e.getFullYear())?Wt:Ot)[e.getMonth()]+e.getDate()-1,$t=()=>performance.now(),Bt=()=>Date.now(),zt=e=>{var t=(e-u.buffer.byteLength+65535)/65536|0;try{return u.grow(t),E(),1}catch{}},Nt={},Ht=()=>{if(!Ht.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in Nt)void 0===Nt[t]?delete e[t]:e[t]=Nt[t];var i=[];for(var t in e)i.push(`${t}=${e[t]}`);Ht.strings=i}return Ht.strings},Ut=e=>{j||At>0||(r.onExit?.(e),P=!0),((e,t)=>{throw t})(0,new L(e))},jt=(e,t)=>{Ut(e)},Vt=(e,t,i,r)=>{for(var a=0,n=0;n<i;n++){var s=v[t>>>2>>>0],o=v[t+4>>>2>>>0];t+=8;var _=de.read(e,p,s,o,r);if(_<0)return-1;if(a+=_,_<o)break;typeof r<"u"&&(r+=_)}return a},Yt=(e,t,i,r)=>{for(var a=0,n=0;n<i;n++){var s=v[t>>>2>>>0],o=v[t+4>>>2>>>0];t+=8;var _=de.write(e,p,s,o,r);if(_<0)return-1;if(a+=_,_<o)break;typeof r<"u"&&(r+=_)}return a},Xt=(e,t)=>{e<128?t.push(e):t.push(e%128|128,e>>7)},qt=(e,t)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},i={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)i.parameters.push(t[e[r]]);return i})(t),e);var i=[1];((e,t)=>{var i=e.slice(0,1),r=e.slice(1),a={i:127,p:127,j:126,f:125,d:124,e:111};for(var n of(t.push(96),Xt(r.length,t),r))t.push(a[n]);"v"==i?t.push(0):t.push(1,a[i])})(t,i);var r=[0,97,115,109,1,0,0,0,1];Xt(i.length,r),r.push(...i),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var a=new WebAssembly.Module(new Uint8Array(r));return new WebAssembly.Instance(a,{e:{f:e}}).exports.f},Kt=e=>(dt||(dt=new WeakMap,((e,t)=>{if(dt)for(var i=e;i<e+t;i++){var r=K(i);r&&dt.set(r,i)}})(0,$.length)),dt.get(e)||0),Qt=[],Jt=(e,t)=>{$.set(e,t),q[e]=$.get(e)};de.createPreloadedFile=(e,t,i,r,a,n,s,o,c,l)=>{var h=t?ie.resolve(ee.join2(e,t)):e;function g(i){function _(i){l?.(),o||((e,t,i,r,a,n)=>{de.createDataFile(e,t,i,r,a,n)})(e,t,i,r,a,c),n?.(),G()}((e,t,i,r)=>{typeof Browser<"u"&&Browser.init();var a=!1;return ue.forEach((n=>{a||n.canHandle(t)&&(n.handle(e,t,i,r),a=!0)})),a})(i,h,_,(()=>{s?.(),G()}))||_(i)}x(),"string"==typeof i?(async e=>{var t=await _(e);return new Uint8Array(t)})(i).then(g,s):g(i)},de.staticInit(),ge.doesNotExistError=new de.ErrnoError(44),ge.doesNotExistError.stack="<generic error, no stack>",(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ie=e})(),(()=>{let e=Ue.prototype;Object.assign(e,{isAliasOf(e){if(!(this instanceof Ue&&e instanceof Ue))return!1;var t=this.$$.ptrType.registeredClass,i=this.$$.ptr;e.$$=e.$$;for(var r=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)i=t.upcast(i),t=t.baseClass;for(;r.baseClass;)a=r.upcast(a),r=r.baseClass;return t===r&&i===a},clone(){if(this.$$.ptr||$e(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=He(Object.create(Object.getPrototypeOf(this),{$$:{value:Le(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||$e(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),ze(this),Ne(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||$e(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)})(),Object.assign(nt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:Oe,readValueFromPointer:Se,fromWireType:at}),ut.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=mt,r.noExitRuntime&&(j=r.noExitRuntime),r.preloadPlugins&&(ue=r.preloadPlugins),r.print&&(I=r.print),r.printErr&&(C=r.printErr),r.wasmBinary&&(g=r.wasmBinary),r.arguments&&r.arguments,r.thisProgram&&(l=r.thisProgram),r.addFunction=(e,t)=>{var i=Kt(e);if(i)return i;var r=(()=>{if(Qt.length)return Qt.pop();try{$.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return $.length-1})();try{Jt(r,e)}catch(i){if(!(i instanceof TypeError))throw i;var a=qt(e,t);Jt(r,a)}return dt.set(e,r),r},r.setValue=function(e,t,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":case"i8":p[e>>>0]=t;break;case"i16":m[e>>>1>>>0]=t;break;case"i32":k[e>>>2>>>0]=t;break;case"i64":y[e>>>3]=BigInt(t);break;case"float":M[e>>>2>>>0]=t;break;case"double":S[e>>>3>>>0]=t;break;case"*":v[e>>>2>>>0]=t;break;default:F(`invalid type for setValue: ${i}`)}},r.getValue=function(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return p[e>>>0];case"i16":return m[e>>>1>>>0];case"i32":return k[e>>>2>>>0];case"i64":return y[e>>>3];case"float":return M[e>>>2>>>0];case"double":return S[e>>>3>>>0];case"*":return v[e>>>2>>>0];default:F(`invalid type for getValue: ${t}`)}},r.UTF8ToString=me,r.stringToUTF8=Me,r.lengthBytesUTF8=se,r.FS=de;var Zt={Z:function(e,t){return K(e>>>=0)(t)},D:function(){return(e=>{var t=Q;if(!t)return Z(0),0;var i=new J(t);i.set_adjusted_ptr(t);var r=i.get_type();if(!r)return Z(0),t;for(var a of e){if(0===a||a===r)break;var n=i.ptr+16;if(ci(a,r,n))return Z(a),t}return Z(r),t})([])},a:function(e,t,i){throw t>>>=0,i>>>=0,new J(e>>>=0).init(t,i),Q=e},C:function(e){throw Q||(Q=e>>>=0),Q},ua:function(e,t){e>>>=0;try{return e=fe.getStr(e),de.chmod(e,t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},sa:function(e){try{var t=fe.getStreamFromFD(e);return de.dupStream(t).fd}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},va:function(e,t,i,r){t>>>=0;try{if(t=fe.getStr(t),t=fe.calculateAt(e,t),-8&i)return-28;var a=de.lookupPath(t,{follow:!0}).node;if(!a)return-44;var n="";return 4&i&&(n+="r"),2&i&&(n+="w"),1&i&&(n+="x"),n&&de.nodePermissions(a,n)?-2:0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ba:function(e,t,i,r){i=X(i),r=X(r);try{if(isNaN(i))return 61;if(0!=t)return-138;if(i<0||r<0)return-28;var a=de.fstat(e).size,n=i+r;return n>a&&de.ftruncate(e,n),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ra:function(e,t){try{return de.fchmod(e,t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},H:function(e,t,i){i>>>=0,fe.varargs=i;try{var r=fe.getStreamFromFD(e);switch(t){case 0:if((a=ke())<0)return-28;for(;de.streams[a];)a++;return de.dupStream(r,a).fd;case 1:case 2:case 13:case 14:return 0;case 3:return r.flags;case 4:var a=ke();return r.flags|=a,0;case 12:return a=ve(),m[a+0>>>1>>>0]=2,0}return-28}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},qa:function(e,t){t>>>=0;try{return fe.writeStat(t,de.fstat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},la:function(e,t){e>>>=0,t>>>=0;try{if(0===t)return-28;var i=de.cwd(),r=se(i)+1;return t<r?-68:(Me(i,e,t),r)}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},bb:function(e,t,i){t>>>=0,i>>>=0;try{var r=fe.getStreamFromFD(e);r.getdents||=de.readdir(r.path);for(var a=280,n=0,s=de.llseek(r,0,1),o=Math.floor(s/a),_=Math.min(r.getdents.length,o+Math.floor(i/a)),c=o;c<_;c++){var l,h,g=r.getdents[c];if("."===g)l=r.node.id,h=4;else if(".."===g)l=de.lookupPath(r.path,{parent:!0}).node.id,h=4;else{var u;try{u=de.lookupNode(r.node,g)}catch(e){if(28===e?.errno)continue;throw e}l=u.id,h=de.isChrdev(u.mode)?2:de.isDir(u.mode)?4:de.isLink(u.mode)?10:8}y[t+n>>>3]=BigInt(l),y[t+n+8>>>3]=BigInt((c+1)*a),m[t+n+16>>>1>>>0]=280,p[t+n+18>>>0]=h,Me(g,t+n+19,256),n+=a}return de.llseek(r,c*a,0),n}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ya:function(e,t,i){i>>>=0,fe.varargs=i;try{var r=fe.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return r.tty?0:-59;case 21505:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var a=r.tty.ops.ioctl_tcgets(r),n=ve();k[n>>>2>>>0]=a.c_iflag||0,k[n+4>>>2>>>0]=a.c_oflag||0,k[n+8>>>2>>>0]=a.c_cflag||0,k[n+12>>>2>>>0]=a.c_lflag||0;for(var s=0;s<32;s++)p[n+s+17>>>0]=a.c_cc[s]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){n=ve();var o=k[n>>>2>>>0],_=k[n+4>>>2>>>0],c=k[n+8>>>2>>>0],l=k[n+12>>>2>>>0],h=[];for(s=0;s<32;s++)h.push(p[n+s+17>>>0]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:o,c_oflag:_,c_cflag:c,c_lflag:l,c_cc:h})}return 0;case 21519:return r.tty?(n=ve(),k[n>>>2>>>0]=0,0):-59;case 21520:return r.tty?-28:-59;case 21531:return n=ve(),de.ioctl(r,t,n);case 21523:if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var g=r.tty.ops.ioctl_tiocgwinsz(r.tty);n=ve(),m[n>>>1>>>0]=g[0],m[n+2>>>1>>>0]=g[1]}return 0;default:return-28}}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},na:function(e,t){e>>>=0,t>>>=0;try{return e=fe.getStr(e),fe.writeStat(t,de.lstat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},oa:function(e,t,i,r){t>>>=0,i>>>=0;try{t=fe.getStr(t);var a=256&r,n=4096&r;return r&=-6401,t=fe.calculateAt(e,t,n),fe.writeStat(i,a?de.lstat(t):de.stat(t))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},F:function(e,t,i,r){t>>>=0,r>>>=0,fe.varargs=r;try{t=fe.getStr(t),t=fe.calculateAt(e,t);var a=r?ke():0;return de.open(t,i,a).fd}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ab:function(e,t,i,r){t>>>=0,i>>>=0,r>>>=0;try{if(t=fe.getStr(t),t=fe.calculateAt(e,t),r<=0)return-28;var a=de.readlink(t),n=Math.min(r,se(a)),s=p[i+n>>>0];return Me(a,i,r+1),p[i+n>>>0]=s,n}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},_a:function(e,t,i,r){t>>>=0,r>>>=0;try{return t=fe.getStr(t),r=fe.getStr(r),t=fe.calculateAt(e,t),r=fe.calculateAt(i,r),de.rename(t,r),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},$a:function(e){e>>>=0;try{return e=fe.getStr(e),de.rmdir(e),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},pa:function(e,t){e>>>=0,t>>>=0;try{return e=fe.getStr(e),fe.writeStat(t,de.stat(e))}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},Za:function(e,t,i){e>>>=0,i>>>=0;try{return e=fe.getStr(e),i=fe.getStr(i),i=fe.calculateAt(t,i),de.symlink(e,i),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},Y:function(e,t,i){t>>>=0;try{return t=fe.getStr(t),t=fe.calculateAt(e,t),0===i?de.unlink(t):512===i?de.rmdir(t):F("Invalid flags passed to unlinkat"),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},wa:()=>F(""),Na:function(e){var t=ye[e>>>=0];delete ye[e];var i=t.rawConstructor,r=t.rawDestructor,a=t.fields,n=a.map((e=>e.getterReturnType)).concat(a.map((e=>e.setterArgumentType)));be([e],n,(e=>{var n={};return a.forEach(((t,i)=>{var r=t.fieldName,s=e[i],o=e[i].optional,_=t.getter,c=t.getterContext,l=e[i+a.length],h=t.setter,g=t.setterContext;n[r]={read:e=>s.fromWireType(_(c,e)),write:(e,t)=>{var i=[];h(g,e,l.toWireType(i,t)),we(i)},optional:o}})),[{name:t.name,fromWireType:e=>{var t={};for(var i in n)t[i]=n[i].read(e);return r(e),t},toWireType:(e,t)=>{for(var a in n)if(!(a in t)&&!n[a].optional)throw new TypeError(`Missing field: "${a}"`);var s=i();for(a in n)n[a].write(s,t[a]);return null!==e&&e.push(r,s),s},argPackAdvance:Oe,readValueFromPointer:Se,destructorFunction:r}]}))},S:function(e,t,i,r,a){e>>>=0,i>>>=0;var n=-1!=(t=xe(t>>>=0)).indexOf("u");Re(e,{name:t,fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw new TypeError(`Cannot convert "${Ae(t)}" to ${this.name}`);return"number"==typeof t&&(t=BigInt(t)),t},argPackAdvance:Oe,readValueFromPointer:We(t,i,!n),destructorFunction:null})},Ha:function(e,t,i,r){Re(e>>>=0,{name:t=xe(t>>>=0),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:r},argPackAdvance:Oe,readValueFromPointer:function(e){return this.fromWireType(d[e>>>0])},destructorFunction:null})},L:function(e,t,i,r,a,n,s,o,_,c,l,h,g){e>>>=0,t>>>=0,i>>>=0,r>>>=0,a>>>=0,n>>>=0,s>>>=0,o>>>=0,_>>>=0,c>>>=0,h>>>=0,g>>>=0,l=xe(l>>>=0),n=_t(a,n),o&&=_t(s,o),c&&=_t(_,c),g=_t(h,g);var u=(e=>{var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e})(l);Xe(u,(function(){ht(`Cannot construct ${l} due to unbound types`,[r])})),be([e,t,i],r?[r]:[],(t=>{var i,a;t=t[0],a=r?(i=t.registeredClass).instancePrototype:Ue.prototype;var s=je(l,(function(...e){if(Object.getPrototypeOf(this)!==_)throw new Ge(`Use 'new' to construct ${l}`);if(void 0===h.constructor_body)throw new Ge(`${l} has no accessible constructor`);var t=h.constructor_body[e.length];if(void 0===t)throw new Ge(`Tried to invoke ctor of ${l} with invalid number of parameters (${e.length}) - expected (${Object.keys(h.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),_=Object.create(a,{constructor:{value:s}});s.prototype=_;var h=new qe(l,s,_,g,i,n,o,c);h.baseClass&&(h.baseClass.__derivedClasses??=[],h.baseClass.__derivedClasses.push(h));var p=new nt(l,h,!0,!1,!1),d=new nt(l+"*",h,!1,!1,!1),m=new nt(l+" const*",h,!1,!0,!1);return Ve[e]={pointerType:d,constPointerType:m},st(u,s),[p,d,m]}))},Fa:function(e){return Re(e>>>=0,kt)},x:function(e,t,i,r){function a(){}e>>>=0,i>>>=0,t=xe(t>>>=0),a.values={},Re(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:Oe,readValueFromPointer:vt(t,i,r),destructorFunction:null}),Xe(t,a)},e:function(e,t,i){t>>>=0;var r=Mt(e>>>=0,"enum");t=xe(t);var a=r.constructor,n=Object.create(r.constructor.prototype,{value:{value:i},constructor:{value:je(`${r.name}_${t}`,(function(){}))}});a.values[i]=n,a[t]=n},R:function(e,t,i){i>>>=0,Re(e>>>=0,{name:t=xe(t>>>=0),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Oe,readValueFromPointer:yt(t,i),destructorFunction:null})},p:function(e,t,i,r,a,n,s,o){e>>>=0,r>>>=0,a>>>=0,n>>>=0;var _=((e,t)=>{for(var i=[],r=0;r<e;r++)i.push(v[t+4*r>>>2>>>0]);return i})(t,i>>>=0);e=(e=>{const t=(e=e.trim()).indexOf("(");return-1===t?e:e.slice(0,t)})(e=xe(e)),a=_t(r,a,s),Xe(e,(function(){ht(`Cannot call ${e} due to unbound types`,_)}),t-1),be([],_,(i=>{var r=[i[0],null].concat(i.slice(1));return st(e,function(e,t,i,r,a,n){var s=t.length;s<2&&Fe("argTypes array size mismatch! Must at least get return value and 'this' types!"),t[1];for(var o=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}(t),_="void"!==t[0].name,c=[e,Fe,r,a,we,t[0],t[1]],l=0;l<s-2;++l)c.push(t[l+2]);if(!o)for(l=2;l<t.length;++l)null!==t[l].destructorFunction&&c.push(t[l].destructorFunction);var h=function(e,t,i,r){const a=["f",i?"t":"f",r?"t":"f"];for(let t=2;t<e.length;++t){const i=e[t];let r="";r=void 0===i.destructorFunction?"u":null===i.destructorFunction?"n":"t",a.push(r)}return a.join("")}(t,0,_,n),g=wt[h](...c);return je(e,g)}(e,r,0,a,n,s),t-1),[]}))},w:function(e,t,i,r,a){e>>>=0,i>>>=0,t=xe(t>>>=0);var n=e=>e;if(0===r){var s=32-8*i;n=e=>e<<s>>>s}var o=t.includes("unsigned");Re(e,{name:t,fromWireType:n,toWireType:o?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:Oe,readValueFromPointer:We(t,i,0!==r),destructorFunction:null})},n:function(e,t,i){i>>>=0;var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function a(e){var t=v[e>>>2>>>0],i=v[e+4>>>2>>>0];return new r(p.buffer,i,t)}Re(e>>>=0,{name:i=xe(i),fromWireType:a,argPackAdvance:Oe,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Ga:function(e,t){Re(e>>>=0,{name:t=xe(t>>>=0),fromWireType(e){for(var t,i=v[e>>>2>>>0],r=e+4,a=r,n=0;n<=i;++n){var s=r+n;if(n==i||0==d[s>>>0]){var o=me(a,s-a);void 0===t?t=o:(t+="\0",t+=o),a=s+1}}return ri(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,r="string"==typeof t;r||ArrayBuffer.isView(t)&&1==t.BYTES_PER_ELEMENT||Fe("Cannot pass non-string to std::string"),i=r?se(t):t.length;var a=ii(4+i+1),n=a+4;return v[a>>>2>>>0]=i,r?Me(t,n,i+1):d.set(t,n>>>0),null!==e&&e.push(ri,a),a},argPackAdvance:Oe,readValueFromPointer:Se,destructorFunction(e){ri(e)}})},J:function(e,t,i){var r,a,n,s;e>>>=0,t>>>=0,i=xe(i>>>=0),2===t?(r=It,a=Ct,s=Pt,n=e=>f[e>>>1>>>0]):4===t&&(r=Dt,a=Et,s=bt,n=e=>v[e>>>2>>>0]),Re(e,{name:i,fromWireType:e=>{for(var i,a=v[e>>>2>>>0],s=e+4,o=0;o<=a;++o){var _=e+4+o*t;if(o==a||0==n(_)){var c=r(s,_-s);void 0===i?i=c:(i+="\0",i+=c),s=_+t}}return ri(e),i},toWireType:(e,r)=>{"string"!=typeof r&&Fe(`Cannot pass non-string to C++ string type ${i}`);var n=s(r),o=ii(4+n+t);return v[o>>>2>>>0]=n/t,a(r,o+4,n+t),null!==e&&e.push(ri,o),o},argPackAdvance:Oe,readValueFromPointer:Se,destructorFunction(e){ri(e)}})},Oa:function(e,t,i,r,a,n){t>>>=0,i>>>=0,r>>>=0,a>>>=0,n>>>=0,ye[e>>>=0]={name:xe(t),rawConstructor:_t(i,r),rawDestructor:_t(a,n),fields:[]}},K:function(e,t,i,r,a,n,s,o,_,c){t>>>=0,i>>>=0,r>>>=0,a>>>=0,n>>>=0,s>>>=0,o>>>=0,_>>>=0,c>>>=0,ye[e>>>=0].fields.push({fieldName:xe(t),getterReturnType:i,getter:_t(r,a),getterContext:n,setterArgumentType:s,setter:_t(o,_),setterContext:c})},Ia:function(e,t){Re(e>>>=0,{isVoid:!0,name:t=xe(t>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},_:()=>{j=!1,At=0},Xa:function(e){return(e>>>=0)?-52:0},Va:()=>{throw 1/0},Ka:function(e,t,i,r,a){return t>>>=0,i>>>=0,r>>>=0,a>>>=0,(e=Ft[e>>>=0])(t=ft.toValue(t),t[i=Gt(i)],r,a)},l:pt,La:function(e,t,i){var r=((e,t)=>{for(var i=new Array(e),r=0;r<e;++r)i[r]=Mt(v[t+4*r>>>2>>>0],`parameter ${r}`);return i})(e,t>>>=0),a=r.shift();e--;var n=new Array(e),s=`methodCaller<(${r.map((e=>e.name)).join(", ")}) => ${a.name}>`;return(e=>{var t=Ft.length;return Ft.push(e),t})(je(s,((t,s,o,_)=>{for(var c=0,l=0;l<e;++l)n[l]=r[l].readValueFromPointer(_+c),c+=r[l].argPackAdvance;var h=1===i?Rt(s,n):s.apply(t,n);return((e,t,i)=>{var r=[],a=e.toWireType(r,i);return r.length&&(v[t>>>2>>>0]=ft.toHandle(r)),a})(a,o,h)})))},Ma:function(e){(e>>>=0)>9&&(ut[e+1]+=1)},T:function(){return ft.toHandle([])},t:function(e){return e>>>=0,ft.toHandle(Gt(e))},B:function(){return ft.toHandle({})},Ja:function(e){e>>>=0;var t=ft.toValue(e);we(t),pt(e)},r:function(e,t,i){e>>>=0,t>>>=0,i>>>=0,e=ft.toValue(e),t=ft.toValue(t),i=ft.toValue(i),e[t]=i},o:function(e,t){t>>>=0;var i=(e=Mt(e>>>=0,"_emval_take_value")).readValueFromPointer(t);return ft.toHandle(i)},ea:function(e,t){e=X(e),t>>>=0;var i=new Date(1e3*e);k[t>>>2>>>0]=i.getUTCSeconds(),k[t+4>>>2>>>0]=i.getUTCMinutes(),k[t+8>>>2>>>0]=i.getUTCHours(),k[t+12>>>2>>>0]=i.getUTCDate(),k[t+16>>>2>>>0]=i.getUTCMonth(),k[t+20>>>2>>>0]=i.getUTCFullYear()-1900,k[t+24>>>2>>>0]=i.getUTCDay();var r=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),a=(i.getTime()-r)/864e5|0;k[t+28>>>2>>>0]=a},fa:function(e,t){e=X(e),t>>>=0;var i=new Date(1e3*e);k[t>>>2>>>0]=i.getSeconds(),k[t+4>>>2>>>0]=i.getMinutes(),k[t+8>>>2>>>0]=i.getHours(),k[t+12>>>2>>>0]=i.getDate(),k[t+16>>>2>>>0]=i.getMonth(),k[t+20>>>2>>>0]=i.getFullYear()-1900,k[t+24>>>2>>>0]=i.getDay();var r=0|Lt(i);k[t+28>>>2>>>0]=r,k[t+36>>>2>>>0]=-60*i.getTimezoneOffset();var a=new Date(i.getFullYear(),0,1),n=new Date(i.getFullYear(),6,1).getTimezoneOffset(),s=a.getTimezoneOffset(),o=0|(n!=s&&i.getTimezoneOffset()==Math.min(s,n));k[t+32>>>2>>>0]=o},ga:function(e){e>>>=0;var t=(()=>{var t=new Date(k[e+20>>>2>>>0]+1900,k[e+16>>>2>>>0],k[e+12>>>2>>>0],k[e+8>>>2>>>0],k[e+4>>>2>>>0],k[e>>>2>>>0],0),i=k[e+32>>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=a.getTimezoneOffset(),o=Math.min(s,n);if(i<0)k[e+32>>>2>>>0]=+(n!=s&&o==r);else if(i>0!=(o==r)){var _=Math.max(s,n),c=i>0?o:_;t.setTime(t.getTime()+6e4*(c-r))}k[e+24>>>2>>>0]=t.getDay();var l=0|Lt(t);k[e+28>>>2>>>0]=l,k[e>>>2>>>0]=t.getSeconds(),k[e+4>>>2>>>0]=t.getMinutes(),k[e+8>>>2>>>0]=t.getHours(),k[e+12>>>2>>>0]=t.getDate(),k[e+16>>>2>>>0]=t.getMonth(),k[e+20>>>2>>>0]=t.getYear();var h=t.getTime();return isNaN(h)?-1:h/1e3})();return BigInt(t)},ca:function(e,t,i,r,a,n,s){e>>>=0,a=X(a),n>>>=0,s>>>=0;try{if(isNaN(a))return 61;var o=fe.getStreamFromFD(r),_=de.mmap(o,e,a,t,i),c=_.ptr;return k[n>>>2>>>0]=_.allocated,v[s>>>2>>>0]=c,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},da:function(e,t,i,r,a,n){e>>>=0,t>>>=0,n=X(n);try{var s=fe.getStreamFromFD(a);2&i&&fe.doMsync(e,s,t,r,n)}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return-e.errno}},ia:function(e,t,i,r){e>>>=0,t>>>=0,i>>>=0,r>>>=0;var a=(new Date).getFullYear(),n=new Date(a,0,1),s=new Date(a,6,1),o=n.getTimezoneOffset(),_=s.getTimezoneOffset(),c=Math.max(o,_);v[e>>>2>>>0]=60*c,k[t>>>2>>>0]=+(o!=_);var l=e=>{var t=e>=0?"-":"+",i=Math.abs(e);return`UTC${t}${String(Math.floor(i/60)).padStart(2,"0")}${String(i%60).padStart(2,"0")}`},h=l(o),g=l(_);_<o?(Me(h,i,17),Me(g,r,17)):(Me(h,r,17),Me(g,i,17))},ta:function(e,t,i){if(i>>>=0,!(e=>e>=0&&e<=3)(e))return 28;var r;r=0===e?Bt():$t();var a=Math.round(1e3*r*1e3);return y[i>>>3]=BigInt(a),0},O:Bt,Ya:function(){return 4294901760},E:$t,Wa:function(e){e>>>=0;var t=d.length,i=4294901760;if(e>i)return!1;for(var r=1;r<=4;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var n=Math.min(i,le(Math.max(e,a),65536));if(zt(n))return!0}return!1},za:function(e,t){e>>>=0,t>>>=0;var i=0,r=0;for(var a of Ht()){var n=t+i;v[e+r>>>2>>>0]=n,i+=Me(a,n,1/0)+1,r+=4}return 0},Aa:function(e,t){e>>>=0,t>>>=0;var i=Ht();v[e>>>2>>>0]=i.length;var r=0;for(var a of i)r+=se(a)+1;return v[t>>>2>>>0]=r,0},y:jt,z:function(e){try{var t=fe.getStreamFromFD(e);return de.close(t),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},N:function(e,t){t>>>=0;try{var i=fe.getStreamFromFD(e),r=i.tty?2:de.isDir(i.mode)?3:de.isLink(i.mode)?7:4;return p[t>>>0]=r,m[t+2>>>1>>>0]=0,y[t+8>>>3]=BigInt(0),y[t+16>>>3]=BigInt(0),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},aa:function(e,t,i,r,a){t>>>=0,i>>>=0,r=X(r),a>>>=0;try{if(isNaN(r))return 61;var n=fe.getStreamFromFD(e),s=Vt(n,t,i,r);return v[a>>>2>>>0]=s,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},$:function(e,t,i,r,a){t>>>=0,i>>>=0,r=X(r),a>>>=0;try{if(isNaN(r))return 61;var n=fe.getStreamFromFD(e),s=Yt(n,t,i,r);return v[a>>>2>>>0]=s,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},P:function(e,t,i,r){t>>>=0,i>>>=0,r>>>=0;try{var a=fe.getStreamFromFD(e),n=Vt(a,t,i);return v[r>>>2>>>0]=n,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},ja:function(e,t,i,r){t=X(t),r>>>=0;try{if(isNaN(t))return 61;var a=fe.getStreamFromFD(e);return de.llseek(a,t,i),y[r>>>3]=BigInt(a.position),a.getdents&&0===t&&0===i&&(a.getdents=null),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},ma:function(e){try{var t=fe.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},G:function(e,t,i,r){t>>>=0,i>>>=0,r>>>=0;try{var a=fe.getStreamFromFD(e),n=Yt(a,t,i);return v[r>>>2>>>0]=n,0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}},Sa:function(e,t,i){var r=Y();try{return K(e)(t,i)}catch(e){if(V(r),e!==e+0)throw e;ni(1,0)}},A:function(e){var t=Y();try{return K(e)()}catch(e){if(V(t),e!==e+0)throw e;ni(1,0)}},c:function(e,t){var i=Y();try{return K(e)(t)}catch(e){if(V(i),e!==e+0)throw e;ni(1,0)}},d:function(e,t,i){var r=Y();try{return K(e)(t,i)}catch(e){if(V(r),e!==e+0)throw e;ni(1,0)}},g:function(e,t,i,r){var a=Y();try{return K(e)(t,i,r)}catch(e){if(V(a),e!==e+0)throw e;ni(1,0)}},j:function(e,t,i,r,a){var n=Y();try{return K(e)(t,i,r,a)}catch(e){if(V(n),e!==e+0)throw e;ni(1,0)}},X:function(e,t,i,r,a,n){var s=Y();try{return K(e)(t,i,r,a,n)}catch(e){if(V(s),e!==e+0)throw e;ni(1,0)}},b:function(e,t,i,r,a,n,s){var o=Y();try{return K(e)(t,i,r,a,n,s)}catch(e){if(V(o),e!==e+0)throw e;ni(1,0)}},M:function(e,t,i,r,a,n,s,o){var _=Y();try{return K(e)(t,i,r,a,n,s,o)}catch(e){if(V(_),e!==e+0)throw e;ni(1,0)}},m:function(e,t,i,r,a,n,s,o,_){var c=Y();try{return K(e)(t,i,r,a,n,s,o,_)}catch(e){if(V(c),e!==e+0)throw e;ni(1,0)}},Ra:function(e,t,i,r,a,n,s,o,_,c){var l=Y();try{return K(e)(t,i,r,a,n,s,o,_,c)}catch(e){if(V(l),e!==e+0)throw e;ni(1,0)}},Qa:function(e,t,i,r,a,n,s,o,_,c,l){var h=Y();try{return K(e)(t,i,r,a,n,s,o,_,c,l)}catch(e){if(V(h),e!==e+0)throw e;ni(1,0)}},Ea:function(e,t,i,r,a,n,s,o,_,c,l,h){var g=Y();try{return K(e)(t,i,r,a,n,s,o,_,c,l,h)}catch(e){if(V(g),e!==e+0)throw e;ni(1,0)}},Da:function(e,t,i,r,a,n){var s=Y();try{return K(e)(t,i,r,a,n)}catch(e){if(V(s),e!==e+0)throw e;ni(1,0)}},s:function(e,t,i,r,a){var n=Y();try{return K(e)(t,i,r,a)}catch(e){if(V(n),e!==e+0)throw e;ni(1,0)}},Ua:function(e,t,i){var r=Y();try{return K(e)(t,i)}catch(e){if(V(r),e!==e+0)throw e;ni(1,0)}},I:function(e,t){var i=Y();try{return K(e)(t)}catch(e){if(V(i),e!==e+0)throw e;ni(1,0)}},u:function(e,t){var i=Y();try{return K(e)(t)}catch(e){if(V(i),e!==e+0)throw e;return ni(1,0),0n}},ha:function(e,t,i,r){var a=Y();try{return K(e)(t,i,r)}catch(e){if(V(a),e!==e+0)throw e;return ni(1,0),0n}},v:function(e){var t=Y();try{K(e)()}catch(e){if(V(t),e!==e+0)throw e;ni(1,0)}},k:function(e,t){var i=Y();try{K(e)(t)}catch(e){if(V(i),e!==e+0)throw e;ni(1,0)}},f:function(e,t,i){var r=Y();try{K(e)(t,i)}catch(e){if(V(r),e!==e+0)throw e;ni(1,0)}},W:function(e,t,i,r){var a=Y();try{K(e)(t,i,r)}catch(e){if(V(a),e!==e+0)throw e;ni(1,0)}},V:function(e,t,i,r,a,n,s,o,_,c,l){var h=Y();try{K(e)(t,i,r,a,n,s,o,_,c,l)}catch(e){if(V(h),e!==e+0)throw e;ni(1,0)}},i:function(e,t,i,r){var a=Y();try{K(e)(t,i,r)}catch(e){if(V(a),e!==e+0)throw e;ni(1,0)}},h:function(e,t,i,r,a){var n=Y();try{K(e)(t,i,r,a)}catch(e){if(V(n),e!==e+0)throw e;ni(1,0)}},q:function(e,t,i,r,a,n){var s=Y();try{K(e)(t,i,r,a,n)}catch(e){if(V(s),e!==e+0)throw e;ni(1,0)}},Pa:function(e,t,i,r,a,n,s){var o=Y();try{K(e)(t,i,r,a,n,s)}catch(e){if(V(o),e!==e+0)throw e;ni(1,0)}},Q:function(e,t,i,r,a,n,s,o){var _=Y();try{K(e)(t,i,r,a,n,s,o)}catch(e){if(V(_),e!==e+0)throw e;ni(1,0)}},Ca:function(e,t,i,r,a,n,s,o,_){var c=Y();try{K(e)(t,i,r,a,n,s,o,_)}catch(e){if(V(c),e!==e+0)throw e;ni(1,0)}},U:function(e,t,i,r,a,n,s,o,_,c){var l=Y();try{K(e)(t,i,r,a,n,s,o,_,c)}catch(e){if(V(l),e!==e+0)throw e;ni(1,0)}},Ba:function(e,t,i,r,a,n,s,o,_,c,l,h){var g=Y();try{K(e)(t,i,r,a,n,s,o,_,c,l,h)}catch(e){if(V(g),e!==e+0)throw e;ni(1,0)}},Ta:function(e,t,i){var r=Y();try{K(e)(t,i)}catch(e){if(V(r),e!==e+0)throw e;ni(1,0)}},xa:Ut,ka:function(e,t){e>>>=0,t>>>=0;try{return te(d.subarray(e>>>0,e+t>>>0)),0}catch(e){if(typeof de>"u"||"ErrnoError"!==e.name)throw e;return e.errno}}},ei=await async function(){function e(e,t){return ei=function(e){e=Object.assign({},e);var t=e=>t=>e(t)>>>0,i=e=>(t,i)=>e(t,i)>>>0,r=e=>()=>e()>>>0;return e.eb=t(e.eb),e.Vj=t(e.Vj),e.ho=i(e.ho),e._emscripten_stack_alloc=t(e._emscripten_stack_alloc),e.lo=r(e.lo),e}(ei=e.exports),u=ei.cb,E(),$=ei.xb,G(),ei}x();var t,a={a:Zt};if(r.instantiateWasm)return new Promise(((t,i)=>{r.instantiateWasm(a,((i,r)=>{t(e(i))}))}));T??=R();try{var n=await O(g,T,a);return e((t=n).instance)}catch(t){return i(t),Promise.reject(t)}}();ei.db;var ti=ei.eb;r._MagickColor_Create=ei.fb,r._MagickColor_Dispose=ei.gb,r._MagickColor_Count_Get=ei.hb,r._MagickColor_Red_Get=ei.ib,r._MagickColor_Red_Set=ei.jb,r._MagickColor_Green_Get=ei.kb,r._MagickColor_Green_Set=ei.lb,r._MagickColor_Blue_Get=ei.mb,r._MagickColor_Blue_Set=ei.nb,r._MagickColor_Alpha_Get=ei.ob,r._MagickColor_Alpha_Set=ei.pb,r._MagickColor_Black_Get=ei.qb,r._MagickColor_Black_Set=ei.rb,r._MagickColor_IsCMYK_Get=ei.sb,r._MagickColor_IsCMYK_Set=ei.tb,r._MagickColor_Clone=ei.ub,r._MagickColor_FuzzyEquals=ei.vb,r._MagickColor_Initialize=ei.wb,r._MagickColorCollection_DisposeList=ei.yb,r._MagickColorCollection_GetInstance=ei.zb,r._DrawingWand_Create=ei.Ab,r._DrawingWand_Dispose=ei.Bb,r._DrawingWand_Affine=ei.Cb,r._DrawingWand_Alpha=ei.Db,r._DrawingWand_Arc=ei.Eb,r._DrawingWand_Bezier=ei.Fb,r._DrawingWand_BorderColor=ei.Gb,r._DrawingWand_Circle=ei.Hb,r._DrawingWand_ClipPath=ei.Ib,r._DrawingWand_ClipRule=ei.Jb,r._DrawingWand_ClipUnits=ei.Kb,r._DrawingWand_Color=ei.Lb,r._DrawingWand_Composite=ei.Mb,r._DrawingWand_Density=ei.Nb,r._DrawingWand_Ellipse=ei.Ob,r._DrawingWand_FillColor=ei.Pb,r._DrawingWand_FillOpacity=ei.Qb,r._DrawingWand_FillPatternUrl=ei.Rb,r._DrawingWand_FillRule=ei.Sb,r._DrawingWand_Font=ei.Tb,r._DrawingWand_FontFamily=ei.Ub,r._DrawingWand_FontPointSize=ei.Vb,r._DrawingWand_FontTypeMetrics=ei.Wb,r._TypeMetric_Create=ei.Xb,r._DrawingWand_Gravity=ei.Yb,r._DrawingWand_Line=ei.Zb,r._DrawingWand_PathArcAbs=ei._b,r._DrawingWand_PathArcRel=ei.$b,r._DrawingWand_PathClose=ei.ac,r._DrawingWand_PathCurveToAbs=ei.bc,r._DrawingWand_PathCurveToRel=ei.cc,r._DrawingWand_PathFinish=ei.dc,r._DrawingWand_PathLineToAbs=ei.ec,r._DrawingWand_PathLineToHorizontalAbs=ei.fc,r._DrawingWand_PathLineToHorizontalRel=ei.gc,r._DrawingWand_PathLineToRel=ei.hc,r._DrawingWand_PathLineToVerticalAbs=ei.ic,r._DrawingWand_PathLineToVerticalRel=ei.jc,r._DrawingWand_PathMoveToAbs=ei.kc,r._DrawingWand_PathMoveToRel=ei.lc,r._DrawingWand_PathQuadraticCurveToAbs=ei.mc,r._DrawingWand_PathQuadraticCurveToRel=ei.nc,r._DrawingWand_PathSmoothCurveToAbs=ei.oc,r._DrawingWand_PathSmoothCurveToRel=ei.pc,r._DrawingWand_PathSmoothQuadraticCurveToAbs=ei.qc,r._DrawingWand_PathSmoothQuadraticCurveToRel=ei.rc,r._DrawingWand_PathStart=ei.sc,r._DrawingWand_Point=ei.tc,r._DrawingWand_Polygon=ei.uc,r._DrawingWand_Polyline=ei.vc,r._DrawingWand_PopClipPath=ei.wc,r._DrawingWand_PopGraphicContext=ei.xc,r._DrawingWand_PopPattern=ei.yc,r._DrawingWand_PushClipPath=ei.zc,r._DrawingWand_PushGraphicContext=ei.Ac,r._DrawingWand_PushPattern=ei.Bc,r._DrawingWand_Rectangle=ei.Cc,r._DrawingWand_Render=ei.Dc,r._DrawingWand_Rotation=ei.Ec,r._DrawingWand_RoundRectangle=ei.Fc,r._DrawingWand_Scaling=ei.Gc,r._DrawingWand_SkewX=ei.Hc,r._DrawingWand_SkewY=ei.Ic,r._DrawingWand_StrokeAntialias=ei.Jc,r._DrawingWand_StrokeColor=ei.Kc,r._DrawingWand_StrokeDashArray=ei.Lc,r._DrawingWand_StrokeDashOffset=ei.Mc,r._DrawingWand_StrokeLineCap=ei.Nc,r._DrawingWand_StrokeLineJoin=ei.Oc,r._DrawingWand_StrokeMiterLimit=ei.Pc,r._DrawingWand_StrokeOpacity=ei.Qc,r._DrawingWand_StrokePatternUrl=ei.Rc,r._DrawingWand_StrokeWidth=ei.Sc,r._DrawingWand_Text=ei.Tc,r._DrawingWand_TextAlignment=ei.Uc,r._DrawingWand_TextAntialias=ei.Vc,r._DrawingWand_TextDecoration=ei.Wc,r._DrawingWand_TextDirection=ei.Xc,r._DrawingWand_TextEncoding=ei.Yc,r._DrawingWand_TextInterlineSpacing=ei.Zc,r._DrawingWand_TextInterwordSpacing=ei._c,r._DrawingWand_TextKerning=ei.$c,r._DrawingWand_TextUnderColor=ei.ad,r._DrawingWand_Translation=ei.bd,r._DrawingWand_Viewbox=ei.cd,r._MagickExceptionHelper_Description=ei.dd,r._MagickExceptionHelper_Dispose=ei.ed,r._MagickExceptionHelper_Related=ei.fd,r._MagickExceptionHelper_RelatedCount=ei.gd,r._MagickExceptionHelper_Message=ei.hd,r._MagickExceptionHelper_Severity=ei.id,r._PdfInfo_PageCount=ei.jd,r._Environment_Initialize=ei.kd,r._Environment_GetEnv=ei.ld,r._Environment_SetEnv=ei.md,r._MagickMemory_Relinquish=ei.nd,r._Magick_Delegates_Get=ei.od,r._Magick_Features_Get=ei.pd,r._Magick_ImageMagickVersion_Get=ei.qd,r._Magick_GetFonts=ei.rd,r._Magick_GetFontFamily=ei.sd,r._Magick_GetFontName=ei.td,r._Magick_GetWindowsResource=ei.ud,r._Magick_DisposeFonts=ei.vd,r._Magick_ResetRandomSeed=ei.wd,r._Magick_SetDefaultFontFile=ei.xd,r._Magick_SetRandomSeed=ei.yd,r._Magick_SetLogDelegate=ei.zd,r._Magick_SetLogEvents=ei.Ad,r._MagickFormatInfo_CreateList=ei.Bd,r._MagickFormatInfo_DisposeList=ei.Cd,r._MagickFormatInfo_CanReadMultithreaded_Get=ei.Dd,r._MagickFormatInfo_CanWriteMultithreaded_Get=ei.Ed,r._MagickFormatInfo_Description_Get=ei.Fd,r._MagickFormatInfo_Format_Get=ei.Gd,r._MagickFormatInfo_MimeType_Get=ei.Hd,r._MagickFormatInfo_Module_Get=ei.Id,r._MagickFormatInfo_SupportsMultipleFrames_Get=ei.Jd,r._MagickFormatInfo_SupportsReading_Get=ei.Kd,r._MagickFormatInfo_SupportsWriting_Get=ei.Ld,r._MagickFormatInfo_GetInfo=ei.Md,r._MagickFormatInfo_GetInfoByName=ei.Nd,r._MagickFormatInfo_GetInfoWithBlob=ei.Od,r._MagickFormatInfo_Unregister=ei.Pd,r._MagickImage_Create=ei.Qd,r._MagickImage_Dispose=ei.Rd,r._MagickImage_AnimationDelay_Get=ei.Sd,r._MagickImage_AnimationDelay_Set=ei.Td,r._MagickImage_AnimationIterations_Get=ei.Ud,r._MagickImage_AnimationIterations_Set=ei.Vd,r._MagickImage_AnimationTicksPerSecond_Get=ei.Wd,r._MagickImage_AnimationTicksPerSecond_Set=ei.Xd,r._MagickImage_BackgroundColor_Get=ei.Yd,r._MagickImage_BackgroundColor_Set=ei.Zd,r._MagickImage_BaseHeight_Get=ei._d,r._MagickImage_BaseWidth_Get=ei.$d,r._MagickImage_BlackPointCompensation_Get=ei.ae,r._MagickImage_BlackPointCompensation_Set=ei.be,r._MagickImage_BorderColor_Get=ei.ce,r._MagickImage_BorderColor_Set=ei.de,r._MagickImage_BoundingBox_Get=ei.ee,r._MagickRectangle_Create=ei.fe,r._MagickImage_ChannelCount_Get=ei.ge,r._MagickImage_ChromaBlue_Get=ei.he,r._PrimaryInfo_Create=ei.ie,r._MagickImage_ChromaBlue_Set=ei.je,r._MagickImage_ChromaGreen_Get=ei.ke,r._MagickImage_ChromaGreen_Set=ei.le,r._MagickImage_ChromaRed_Get=ei.me,r._MagickImage_ChromaRed_Set=ei.ne,r._MagickImage_ChromaWhite_Get=ei.oe,r._MagickImage_ChromaWhite_Set=ei.pe,r._MagickImage_ClassType_Get=ei.qe,r._MagickImage_ClassType_Set=ei.re,r._QuantizeSettings_Create=ei.se,r._QuantizeSettings_Dispose=ei.te,r._MagickImage_ColorFuzz_Get=ei.ue,r._MagickImage_ColorFuzz_Set=ei.ve,r._MagickImage_ColormapSize_Get=ei.we,r._MagickImage_ColormapSize_Set=ei.xe,r._MagickImage_ColorSpace_Get=ei.ye,r._MagickImage_ColorSpace_Set=ei.ze,r._MagickImage_ColorType_Get=ei.Ae,r._MagickImage_ColorType_Set=ei.Be,r._MagickImage_Compose_Get=ei.Ce,r._MagickImage_Compose_Set=ei.De,r._MagickImage_Compression_Get=ei.Ee,r._MagickImage_Compression_Set=ei.Fe,r._MagickImage_Depth_Get=ei.Ge,r._MagickImage_Depth_Set=ei.He,r._MagickImage_EncodingGeometry_Get=ei.Ie,r._MagickImage_Endian_Get=ei.Je,r._MagickImage_Endian_Set=ei.Ke,r._MagickImage_FileName_Get=ei.Le,r._MagickImage_FileName_Set=ei.Me,r._MagickImage_FilterType_Get=ei.Ne,r._MagickImage_FilterType_Set=ei.Oe,r._MagickImage_Format_Get=ei.Pe,r._MagickImage_Format_Set=ei.Qe,r._MagickImage_Gamma_Get=ei.Re,r._MagickImage_GifDisposeMethod_Get=ei.Se,r._MagickImage_GifDisposeMethod_Set=ei.Te,r._MagickImage_HasAlpha_Get=ei.Ue,r._MagickImage_HasAlpha_Set=ei.Ve,r._MagickImage_Height_Get=ei.We,r._MagickImage_Interlace_Get=ei.Xe,r._MagickImage_Interlace_Set=ei.Ye,r._MagickImage_Interpolate_Get=ei.Ze,r._MagickImage_Interpolate_Set=ei._e,r._MagickImage_IsOpaque_Get=ei.$e,r._MagickImage_MatteColor_Get=ei.af,r._MagickImage_MatteColor_Set=ei.bf,r._MagickImage_MeanErrorPerPixel_Get=ei.cf,r._MagickImage_MetaChannelCount_Get=ei.df,r._MagickImage_MetaChannelCount_Set=ei.ef,r._MagickImage_NormalizedMaximumError_Get=ei.ff,r._MagickImage_NormalizedMeanError_Get=ei.gf,r._MagickImage_Orientation_Get=ei.hf,r._MagickImage_Orientation_Set=ei.jf,r._MagickImage_Page_Get=ei.kf,r._MagickImage_Page_Set=ei.lf,r._MagickImage_Quality_Get=ei.mf,r._MagickImage_Quality_Set=ei.nf,r._MagickImage_RenderingIntent_Get=ei.of,r._MagickImage_RenderingIntent_Set=ei.pf,r._MagickImage_ResolutionUnits_Get=ei.qf,r._MagickImage_ResolutionUnits_Set=ei.rf,r._MagickImage_ResolutionX_Get=ei.sf,r._MagickImage_ResolutionX_Set=ei.tf,r._MagickImage_ResolutionY_Get=ei.uf,r._MagickImage_ResolutionY_Set=ei.vf,r._MagickImage_Signature_Get=ei.wf,r._MagickImage_TotalColors_Get=ei.xf,r._MagickImage_VirtualPixelMethod_Get=ei.yf,r._MagickImage_VirtualPixelMethod_Set=ei.zf,r._MagickImage_Width_Get=ei.Af,r._MagickImage_AdaptiveBlur=ei.Bf,r._MagickImage_AdaptiveResize=ei.Cf,r._MagickImage_AdaptiveSharpen=ei.Df,r._MagickImage_AdaptiveThreshold=ei.Ef,r._MagickImage_AddNoise=ei.Ff,r._MagickImage_AffineTransform=ei.Gf,r._MagickImage_Annotate=ei.Hf,r._MagickImage_AutoGamma=ei.If,r._MagickImage_AutoLevel=ei.Jf,r._MagickImage_AutoOrient=ei.Kf,r._MagickImage_AutoThreshold=ei.Lf,r._MagickImage_BilateralBlur=ei.Mf,r._MagickImage_BlackThreshold=ei.Nf,r._MagickImage_BlueShift=ei.Of,r._MagickImage_Blur=ei.Pf,r._MagickImage_Border=ei.Qf,r._MagickImage_BrightnessContrast=ei.Rf,r._MagickImage_CannyEdge=ei.Sf,r._MagickImage_ChannelOffset=ei.Tf,r._MagickImage_Charcoal=ei.Uf,r._MagickImage_Chop=ei.Vf,r._MagickImage_Clahe=ei.Wf,r._MagickImage_Clamp=ei.Xf,r._MagickImage_ClipPath=ei.Yf,r._MagickImage_Clone=ei.Zf,r._MagickImage_CloneArea=ei._f,r._MagickImage_Clut=ei.$f,r._MagickImage_ColorDecisionList=ei.ag,r._MagickImage_Colorize=ei.bg,r._MagickImage_ColorMatrix=ei.cg,r._MagickImage_ColorThreshold=ei.dg,r._MagickImage_Compare=ei.eg,r._MagickImage_CompareDistortion=ei.fg,r._MagickImage_Composite=ei.gg,r._MagickImage_CompositeGravity=ei.hg,r._MagickImage_ConnectedComponents=ei.ig,r._MagickImage_Contrast=ei.jg,r._MagickImage_ContrastStretch=ei.kg,r._MagickImage_ConvexHull=ei.lg,r._MagickImage_Convolve=ei.mg,r._MagickImage_CopyPixels=ei.ng,r._MagickImage_Crop=ei.og,r._MagickImage_CropToTiles=ei.pg,r._MagickImage_CycleColormap=ei.qg,r._MagickImage_Decipher=ei.rg,r._MagickImage_Deskew=ei.sg,r._MagickImage_Despeckle=ei.tg,r._MagickImage_DetermineBitDepth=ei.ug,r._MagickImage_DetermineColorType=ei.vg,r._MagickImage_Distort=ei.wg,r._MagickImage_Edge=ei.xg,r._MagickImage_Emboss=ei.yg,r._MagickImage_Encipher=ei.zg,r._MagickImage_Enhance=ei.Ag,r._MagickImage_Equalize=ei.Bg,r._MagickImage_Equals=ei.Cg,r._MagickImage_EvaluateFunction=ei.Dg,r._MagickImage_EvaluateGeometry=ei.Eg,r._MagickImage_EvaluateOperator=ei.Fg,r._MagickImage_Extent=ei.Gg,r._MagickImage_Flip=ei.Hg,r._MagickImage_FloodFill=ei.Ig,r._MagickImage_Flop=ei.Jg,r._MagickImage_FontTypeMetrics=ei.Kg,r._MagickImage_FormatExpression=ei.Lg,r._MagickImage_Frame=ei.Mg,r._MagickImage_Fx=ei.Ng,r._MagickImage_GammaCorrect=ei.Og,r._MagickImage_GaussianBlur=ei.Pg,r._MagickImage_GetArtifact=ei.Qg,r._MagickImage_GetAttribute=ei.Rg,r._MagickImage_GetColormapColor=ei.Sg,r._MagickImage_GetNext=ei.Tg,r._MagickImage_GetNextArtifactName=ei.Ug,r._MagickImage_GetNextAttributeName=ei.Vg,r._MagickImage_GetNextProfileName=ei.Wg,r._MagickImage_GetProfile=ei.Xg,r._MagickImage_GetReadMask=ei.Yg,r._MagickImage_GetWriteMask=ei.Zg,r._MagickImage_Grayscale=ei._g,r._MagickImage_HaldClut=ei.$g,r._MagickImage_HasChannel=ei.ah,r._MagickImage_HasProfile=ei.bh,r._MagickImage_Histogram=ei.ch,r._MagickImage_HoughLine=ei.dh,r._MagickImage_Implode=ei.eh,r._MagickImage_ImportPixels=ei.fh,r._MagickImage_Integral=ei.gh,r._MagickImage_InterpolativeResize=ei.hh,r._MagickImage_InverseLevel=ei.ih,r._MagickImage_Kmeans=ei.jh,r._MagickImage_Kuwahara=ei.kh,r._MagickImage_Level=ei.lh,r._MagickImage_LevelColors=ei.mh,r._MagickImage_LinearStretch=ei.nh,r._MagickImage_LiquidRescale=ei.oh,r._MagickImage_LocalContrast=ei.ph,r._MagickImage_Magnify=ei.qh,r._MagickImage_MeanShift=ei.rh,r._MagickImage_Minify=ei.sh,r._MagickImage_MinimumBoundingBox=ei.th,r._MagickImage_Modulate=ei.uh,r._MagickImage_Moments=ei.vh,r._MagickImage_Morphology=ei.wh,r._MagickImage_MotionBlur=ei.xh,r._MagickImage_Negate=ei.yh,r._MagickImage_Normalize=ei.zh,r._MagickImage_OilPaint=ei.Ah,r._MagickImage_Opaque=ei.Bh,r._MagickImage_OrderedDither=ei.Ch,r._MagickImage_Perceptible=ei.Dh,r._MagickImage_PerceptualHash=ei.Eh,r._MagickImage_Quantize=ei.Fh,r._MagickImage_Polaroid=ei.Gh,r._MagickImage_Posterize=ei.Hh,r._MagickImage_RaiseOrLower=ei.Ih,r._MagickImage_RandomThreshold=ei.Jh,r._MagickImage_RangeThreshold=ei.Kh,r._MagickImage_ReadBlob=ei.Lh,r._MagickImage_ReadFile=ei.Mh,r._MagickImage_ReadPixels=ei.Nh,r._MagickImage_ReadStream=ei.Oh,r._MagickImage_RegionMask=ei.Ph,r._MagickImage_Remap=ei.Qh,r._MagickImage_RemoveArtifact=ei.Rh,r._MagickImage_RemoveAttribute=ei.Sh,r._MagickImage_RemoveProfile=ei.Th,r._MagickImage_ResetArtifactIterator=ei.Uh,r._MagickImage_ResetAttributeIterator=ei.Vh,r._MagickImage_ResetProfileIterator=ei.Wh,r._MagickImage_Resample=ei.Xh,r._MagickImage_Resize=ei.Yh,r._MagickImage_Roll=ei.Zh,r._MagickImage_Rotate=ei._h,r._MagickImage_RotationalBlur=ei.$h,r._MagickImage_Sample=ei.ai,r._MagickImage_Scale=ei.bi,r._MagickImage_Segment=ei.ci,r._MagickImage_SelectiveBlur=ei.di,r._MagickImage_Separate=ei.ei,r._MagickImage_SepiaTone=ei.fi,r._MagickImage_SetAlpha=ei.gi,r._MagickImage_SetArtifact=ei.hi,r._MagickImage_SetAttribute=ei.ii,r._MagickImage_SetBitDepth=ei.ji,r._MagickImage_SetClientData=ei.ki,r._MagickImage_SetColormapColor=ei.li,r._MagickImage_SetColorMetric=ei.mi,r._MagickImage_SetNext=ei.ni,r._MagickImage_SetProfile=ei.oi,r._MagickImage_SetProgressDelegate=ei.pi,r._MagickImage_SetReadMask=ei.qi,r._MagickImage_SetWriteMask=ei.ri,r._MagickImage_Shade=ei.si,r._MagickImage_Shadow=ei.ti,r._MagickImage_Sharpen=ei.ui,r._MagickImage_Shave=ei.vi,r._MagickImage_Shear=ei.wi,r._MagickImage_SigmoidalContrast=ei.xi,r._MagickImage_SparseColor=ei.yi,r._MagickImage_Spread=ei.zi,r._MagickImage_Sketch=ei.Ai,r._MagickImage_Solarize=ei.Bi,r._MagickImage_SortPixels=ei.Ci,r._MagickImage_Splice=ei.Di,r._MagickImage_Statistic=ei.Ei,r._MagickImage_Statistics=ei.Fi,r._MagickImage_Stegano=ei.Gi,r._MagickImage_Stereo=ei.Hi,r._MagickImage_Strip=ei.Ii,r._MagickImage_SubImageSearch=ei.Ji,r._MagickImage_Swirl=ei.Ki,r._MagickImage_Texture=ei.Li,r._MagickImage_Threshold=ei.Mi,r._MagickImage_Thumbnail=ei.Ni,r._MagickImage_Tint=ei.Oi,r._MagickImage_Transparent=ei.Pi,r._MagickImage_TransparentChroma=ei.Qi,r._MagickImage_Transpose=ei.Ri,r._MagickImage_Transverse=ei.Si,r._MagickImage_Trim=ei.Ti,r._MagickImage_UniqueColors=ei.Ui,r._MagickImage_UnsharpMask=ei.Vi,r._MagickImage_Vignette=ei.Wi,r._MagickImage_Wave=ei.Xi,r._MagickImage_WaveletDenoise=ei.Yi,r._MagickImage_WhiteBalance=ei.Zi,r._MagickImage_WhiteThreshold=ei._i,r._MagickImage_WriteBlob=ei.$i,r._MagickImage_WriteFile=ei.aj,r._MagickImage_WriteStream=ei.bj,r._MagickImageCollection_Append=ei.cj,r._MagickImageCollection_Coalesce=ei.dj,r._MagickImageCollection_Combine=ei.ej,r._MagickImageCollection_Complex=ei.fj,r._MagickImageCollection_Deconstruct=ei.gj,r._MagickImageCollection_Dispose=ei.hj,r._MagickImageCollection_Evaluate=ei.ij,r._MagickImageCollection_Fx=ei.jj,r._MagickImageCollection_Merge=ei.kj,r._MagickImageCollection_Montage=ei.lj,r._MagickImageCollection_Morph=ei.mj,r._MagickImageCollection_Optimize=ei.nj,r._MagickImageCollection_OptimizePlus=ei.oj,r._MagickImageCollection_OptimizeTransparency=ei.pj,r._MagickImageCollection_Polynomial=ei.qj,r._MagickImageCollection_Quantize=ei.rj,r._MagickImageCollection_ReadBlob=ei.sj,r._MagickImageCollection_ReadFile=ei.tj,r._MagickImageCollection_ReadStream=ei.uj,r._MagickImageCollection_Remap=ei.vj,r._MagickImageCollection_Smush=ei.wj,r._MagickImageCollection_WriteFile=ei.xj,r._MagickImageCollection_WriteStream=ei.yj,r._DoubleMatrix_Create=ei.zj,r._DoubleMatrix_Dispose=ei.Aj,r._OpenCL_GetDevices=ei.Bj,r._OpenCL_GetDevice=ei.Cj,r._OpenCL_GetEnabled=ei.Dj,r._OpenCL_SetEnabled=ei.Ej,r._OpenCLDevice_DeviceType_Get=ei.Fj,r._OpenCLDevice_BenchmarkScore_Get=ei.Gj,r._OpenCLDevice_IsEnabled_Get=ei.Hj,r._OpenCLDevice_IsEnabled_Set=ei.Ij,r._OpenCLDevice_Name_Get=ei.Jj,r._OpenCLDevice_Version_Get=ei.Kj,r._OpenCLDevice_GetKernelProfileRecords=ei.Lj,r._OpenCLDevice_GetKernelProfileRecord=ei.Mj,r._OpenCLDevice_SetProfileKernels=ei.Nj,r._OpenCLKernelProfileRecord_Count_Get=ei.Oj,r._OpenCLKernelProfileRecord_Name_Get=ei.Pj,r._OpenCLKernelProfileRecord_MaximumDuration_Get=ei.Qj,r._OpenCLKernelProfileRecord_MinimumDuration_Get=ei.Rj,r._OpenCLKernelProfileRecord_TotalDuration_Get=ei.Sj,r._JpegOptimizer_CompressFile=ei.Tj,r._JpegOptimizer_CompressStream=ei.Uj;var ii=r._malloc=ei.Vj,ri=r._free=ei.Wj;r._PixelCollection_Create=ei.Xj,r._PixelCollection_Dispose=ei.Yj,r._PixelCollection_GetArea=ei.Zj,r._PixelCollection_GetReadOnlyArea=ei._j,r._PixelCollection_SetArea=ei.$j,r._PixelCollection_ToByteArray=ei.ak,r._PixelCollection_ToShortArray=ei.bk,r._Quantum_Depth_Get=ei.ck,r._Quantum_Max_Get=ei.dk,r._ResourceLimits_Area_Get=ei.ek,r._ResourceLimits_Area_Set=ei.fk,r._ResourceLimits_Disk_Get=ei.gk,r._ResourceLimits_Disk_Set=ei.hk,r._ResourceLimits_Height_Get=ei.ik,r._ResourceLimits_Height_Set=ei.jk,r._ResourceLimits_ListLength_Get=ei.kk,r._ResourceLimits_ListLength_Set=ei.lk,r._ResourceLimits_MaxMemoryRequest_Get=ei.mk,r._ResourceLimits_MaxMemoryRequest_Set=ei.nk,r._ResourceLimits_MaxProfileSize_Get=ei.ok,r._ResourceLimits_MaxProfileSize_Set=ei.pk,r._ResourceLimits_Memory_Get=ei.qk,r._ResourceLimits_Memory_Set=ei.rk,r._ResourceLimits_Thread_Get=ei.sk,r._ResourceLimits_Thread_Set=ei.tk,r._ResourceLimits_Throttle_Get=ei.uk,r._ResourceLimits_Throttle_Set=ei.vk,r._ResourceLimits_Time_Get=ei.wk,r._ResourceLimits_Time_Set=ei.xk,r._ResourceLimits_Width_Get=ei.yk,r._ResourceLimits_Width_Set=ei.zk,r._ResourceLimits_LimitMemory=ei.Ak,r._ResourceLimits_TrimMemory=ei.Bk,r._DrawingSettings_Create=ei.Ck,r._DrawingSettings_Dispose=ei.Dk,r._DrawingSettings_BorderColor_Get=ei.Ek,r._DrawingSettings_BorderColor_Set=ei.Fk,r._DrawingSettings_FillColor_Get=ei.Gk,r._DrawingSettings_FillColor_Set=ei.Hk,r._DrawingSettings_FillRule_Get=ei.Ik,r._DrawingSettings_FillRule_Set=ei.Jk,r._DrawingSettings_Font_Get=ei.Kk,r._DrawingSettings_Font_Set=ei.Lk,r._DrawingSettings_FontFamily_Get=ei.Mk,r._DrawingSettings_FontFamily_Set=ei.Nk,r._DrawingSettings_FontPointsize_Get=ei.Ok,r._DrawingSettings_FontPointsize_Set=ei.Pk,r._DrawingSettings_FontStyle_Get=ei.Qk,r._DrawingSettings_FontStyle_Set=ei.Rk,r._DrawingSettings_FontWeight_Get=ei.Sk,r._DrawingSettings_FontWeight_Set=ei.Tk,r._DrawingSettings_StrokeAntiAlias_Get=ei.Uk,r._DrawingSettings_StrokeAntiAlias_Set=ei.Vk,r._DrawingSettings_StrokeColor_Get=ei.Wk,r._DrawingSettings_StrokeColor_Set=ei.Xk,r._DrawingSettings_StrokeDashOffset_Get=ei.Yk,r._DrawingSettings_StrokeDashOffset_Set=ei.Zk,r._DrawingSettings_StrokeLineCap_Get=ei._k,r._DrawingSettings_StrokeLineCap_Set=ei.$k,r._DrawingSettings_StrokeLineJoin_Get=ei.al,r._DrawingSettings_StrokeLineJoin_Set=ei.bl,r._DrawingSettings_StrokeMiterLimit_Get=ei.cl,r._DrawingSettings_StrokeMiterLimit_Set=ei.dl,r._DrawingSettings_StrokeWidth_Get=ei.el,r._DrawingSettings_StrokeWidth_Set=ei.fl,r._DrawingSettings_TextAntiAlias_Get=ei.gl,r._DrawingSettings_TextAntiAlias_Set=ei.hl,r._DrawingSettings_TextDirection_Get=ei.il,r._DrawingSettings_TextDirection_Set=ei.jl,r._DrawingSettings_TextEncoding_Get=ei.kl,r._DrawingSettings_TextEncoding_Set=ei.ll,r._DrawingSettings_TextGravity_Get=ei.ml,r._DrawingSettings_TextGravity_Set=ei.nl,r._DrawingSettings_TextInterlineSpacing_Get=ei.ol,r._DrawingSettings_TextInterlineSpacing_Set=ei.pl,r._DrawingSettings_TextInterwordSpacing_Get=ei.ql,r._DrawingSettings_TextInterwordSpacing_Set=ei.rl,r._DrawingSettings_TextKerning_Get=ei.sl,r._DrawingSettings_TextKerning_Set=ei.tl,r._DrawingSettings_TextUnderColor_Get=ei.ul,r._DrawingSettings_TextUnderColor_Set=ei.vl,r._DrawingSettings_SetAffine=ei.wl,r._DrawingSettings_SetFillPattern=ei.xl,r._DrawingSettings_SetStrokeDashArray=ei.yl,r._DrawingSettings_SetStrokePattern=ei.zl,r._DrawingSettings_SetText=ei.Al,r._MagickSettings_Create=ei.Bl,r._MagickSettings_Dispose=ei.Cl,r._MagickSettings_AntiAlias_Get=ei.Dl,r._MagickSettings_AntiAlias_Set=ei.El,r._MagickSettings_BackgroundColor_Get=ei.Fl,r._MagickSettings_BackgroundColor_Set=ei.Gl,r._MagickSettings_ColorSpace_Get=ei.Hl,r._MagickSettings_ColorSpace_Set=ei.Il,r._MagickSettings_ColorType_Get=ei.Jl,r._MagickSettings_ColorType_Set=ei.Kl,r._MagickSettings_Compression_Get=ei.Ll,r._MagickSettings_Compression_Set=ei.Ml,r._MagickSettings_Debug_Get=ei.Nl,r._MagickSettings_Debug_Set=ei.Ol,r._MagickSettings_Density_Get=ei.Pl,r._MagickSettings_Density_Set=ei.Ql,r._MagickSettings_Depth_Get=ei.Rl,r._MagickSettings_Depth_Set=ei.Sl,r._MagickSettings_Endian_Get=ei.Tl,r._MagickSettings_Endian_Set=ei.Ul,r._MagickSettings_Extract_Get=ei.Vl,r._MagickSettings_Extract_Set=ei.Wl,r._MagickSettings_Format_Get=ei.Xl,r._MagickSettings_Format_Set=ei.Yl,r._MagickSettings_FontPointsize_Get=ei.Zl,r._MagickSettings_FontPointsize_Set=ei._l,r._MagickSettings_Interlace_Get=ei.$l,r._MagickSettings_Interlace_Set=ei.am,r._MagickSettings_Monochrome_Get=ei.bm,r._MagickSettings_Monochrome_Set=ei.cm,r._MagickSettings_Verbose_Get=ei.dm,r._MagickSettings_Verbose_Set=ei.em,r._MagickSettings_SetColorFuzz=ei.fm,r._MagickSettings_SetFileName=ei.gm,r._MagickSettings_SetFont=ei.hm,r._MagickSettings_SetNumberScenes=ei.im,r._MagickSettings_SetOption=ei.jm,r._MagickSettings_SetPage=ei.km,r._MagickSettings_SetPing=ei.lm,r._MagickSettings_SetQuality=ei.mm,r._MagickSettings_SetScenes=ei.nm,r._MagickSettings_SetScene=ei.om,r._MagickSettings_SetSize=ei.pm,r._MontageSettings_Create=ei.qm,r._MontageSettings_Dispose=ei.rm,r._MontageSettings_SetBackgroundColor=ei.sm,r._MontageSettings_SetBorderColor=ei.tm,r._MontageSettings_SetBorderWidth=ei.um,r._MontageSettings_SetFillColor=ei.vm,r._MontageSettings_SetFont=ei.wm,r._MontageSettings_SetFontPointsize=ei.xm,r._MontageSettings_SetFrameGeometry=ei.ym,r._MontageSettings_SetGeometry=ei.zm,r._MontageSettings_SetGravity=ei.Am,r._MontageSettings_SetShadow=ei.Bm,r._MontageSettings_SetStrokeColor=ei.Cm,r._MontageSettings_SetTextureFileName=ei.Dm,r._MontageSettings_SetTileGeometry=ei.Em,r._MontageSettings_SetTitle=ei.Fm,r._QuantizeSettings_SetColors=ei.Gm,r._QuantizeSettings_SetColorSpace=ei.Hm,r._QuantizeSettings_SetDitherMethod=ei.Im,r._QuantizeSettings_SetMeasureErrors=ei.Jm,r._QuantizeSettings_SetTreeDepth=ei.Km,r._ChannelMoments_Centroid_Get=ei.Lm,r._ChannelMoments_EllipseAngle_Get=ei.Mm,r._ChannelMoments_EllipseAxis_Get=ei.Nm,r._ChannelMoments_EllipseEccentricity_Get=ei.Om,r._ChannelMoments_EllipseIntensity_Get=ei.Pm,r._ChannelMoments_GetHuInvariants=ei.Qm,r._ChannelPerceptualHash_GetHuPhash=ei.Rm,r._ChannelStatistics_Depth_Get=ei.Sm,r._ChannelStatistics_Entropy_Get=ei.Tm,r._ChannelStatistics_Kurtosis_Get=ei.Um,r._ChannelStatistics_Maximum_Get=ei.Vm,r._ChannelStatistics_Mean_Get=ei.Wm,r._ChannelStatistics_Minimum_Get=ei.Xm,r._ChannelStatistics_Skewness_Get=ei.Ym,r._ChannelStatistics_StandardDeviation_Get=ei.Zm,r._Moments_DisposeList=ei._m,r._Moments_GetInstance=ei.$m,r._PerceptualHash_DisposeList=ei.an,r._PerceptualHash_GetInstance=ei.bn,r._Statistics_DisposeList=ei.cn,r._Statistics_GetInstance=ei.dn,r._ConnectedComponent_DisposeList=ei.en,r._ConnectedComponent_GetArea=ei.fn,r._ConnectedComponent_GetCentroid=ei.gn,r._ConnectedComponent_GetColor=ei.hn,r._ConnectedComponent_GetHeight=ei.jn,r._ConnectedComponent_GetId=ei.kn,r._ConnectedComponent_GetWidth=ei.ln,r._ConnectedComponent_GetX=ei.mn,r._ConnectedComponent_GetY=ei.nn,r._ConnectedComponent_GetInstance=ei.on,r._MagickGeometry_Create=ei.pn,r._MagickGeometry_Dispose=ei.qn,r._MagickGeometry_X_Get=ei.rn,r._MagickGeometry_Y_Get=ei.sn,r._MagickGeometry_Width_Get=ei.tn,r._MagickGeometry_Height_Get=ei.un,r._MagickGeometry_Initialize=ei.vn,r._MagickRectangle_Dispose=ei.wn,r._MagickRectangle_X_Get=ei.xn,r._MagickRectangle_X_Set=ei.yn,r._MagickRectangle_Y_Get=ei.zn,r._MagickRectangle_Y_Set=ei.An,r._MagickRectangle_Width_Get=ei.Bn,r._MagickRectangle_Width_Set=ei.Cn,r._MagickRectangle_Height_Get=ei.Dn,r._MagickRectangle_Height_Set=ei.En,r._MagickRectangle_FromPageSize=ei.Fn,r._OffsetInfo_Create=ei.Gn,r._OffsetInfo_Dispose=ei.Hn,r._OffsetInfo_SetX=ei.In,r._OffsetInfo_SetY=ei.Jn,r._PointInfo_X_Get=ei.Kn,r._PointInfo_Y_Get=ei.Ln,r._PointInfoCollection_Create=ei.Mn,r._PointInfoCollection_Dispose=ei.Nn,r._PointInfoCollection_GetX=ei.On,r._PointInfoCollection_GetY=ei.Pn,r._PointInfoCollection_Set=ei.Qn,r._PrimaryInfo_Dispose=ei.Rn,r._PrimaryInfo_X_Get=ei.Sn,r._PrimaryInfo_X_Set=ei.Tn,r._PrimaryInfo_Y_Get=ei.Un,r._PrimaryInfo_Y_Set=ei.Vn,r._PrimaryInfo_Z_Get=ei.Wn,r._PrimaryInfo_Z_Set=ei.Xn,r._StringInfo_Length_Get=ei.Yn,r._StringInfo_Datum_Get=ei.Zn,r._TypeMetric_Dispose=ei._n,r._TypeMetric_Ascent_Get=ei.$n,r._TypeMetric_Descent_Get=ei.ao,r._TypeMetric_MaxHorizontalAdvance_Get=ei.bo,r._TypeMetric_TextHeight_Get=ei.co,r._TypeMetric_TextWidth_Get=ei.eo,r._TypeMetric_UnderlinePosition_Get=ei.fo,r._TypeMetric_UnderlineThickness_Get=ei.go;var ai=ei.ho,ni=ei.io,si=ei.jo,oi=ei.ko,_i=ei.lo,ci=ei.mo;return function(){if(r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.shift()()}(),function e(){function i(){r.calledRun=!0,!P&&(!r.noFSInit&&!de.initialized&&de.init(),ei.db(),de.ignorePermissions=!1,t(r),r.onRuntimeInitialized?.(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)N(r.postRun.shift());B(z)}())}b>0?A=e:(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)U(r.preRun.shift());B(H)}(),b>0?A=e:r.setStatus?(r.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>r.setStatus("")),1),i()}),1)):i())}(),n});class At{constructor(e){if(this.wasmBinary=void 0,this.instantiateWasm=void 0,this.locateFile=void 0,e instanceof URL){if("http:"!==e.protocol&&"https:"!==e.protocol)throw new ue("Only http/https protocol is supported");this.locateFile=()=>e.href}else e instanceof WebAssembly.Module?this.instantiateWasm=(t,i)=>{i(new WebAssembly.Instance(e,t))}:this.wasmBinary=e}}class xt{constructor(){this.loader=void 0,this.api=void 0,this.loader=(e,t)=>new Promise(((i,r)=>{if(void 0!==this.api)return void i();const a=new At(e);bt(a).then((e=>{try{this.writeConfigurationFiles(e,t),me(e,"MAGICK_CONFIGURE_PATH",(t=>{me(e,"/xml",(r=>{e._Environment_SetEnv(t,r),e._Environment_Initialize(),this.api=e,i()}))}))}catch(e){r(e)}}))}))}async _initialize(e,t){await this.loader(e,t)}static get _api(){if(!Gt.api)throw new ue("`await initializeImageMagick` should be called to initialize the library");return Gt.api}static set _api(e){Gt.api=e}static read(e,t,i,r){return Et._create((a=>{let s=r;if("string"==typeof e||n(e)){if("number"!=typeof t&&"number"!=typeof i){let r;s=i,t instanceof ot?r=t:"string"==typeof t?(r=new ot,r.format=t):s=t,a.read(e,r)}}else"number"==typeof t&&"number"==typeof i&&a.read(e,t,i);return s(a)}))}static readCollection(e,t,i){return ut.use((r=>{let a,n=i;return t instanceof ot?a=t:"string"==typeof t?(a=new ot,a.format=t):n=t,r.read(e,a),n(r)}))}static readFromCanvas(e,t,i){return Et._create((r=>(r.readFromCanvas(e,i),t(r))))}writeConfigurationFiles(e,t){e.FS.analyzePath("/xml").exists||e.FS.mkdir("/xml");for(const i of t.all()){const t=e.FS.open(`/xml/${i.fileName}`,"w"),r=(new TextEncoder).encode(i.data);e.FS.write(t,r,0,r.length),e.FS.close(t)}}}const Gt=new xt;async function Ft(e,t){await Gt._initialize(e,t??_.default)}class Rt{constructor(e,t,i){this.origin=void 0,this.progress=void 0,this.cancel=!1,this.origin=e,this.progress=new pt((t+1)/(100*i))}}class Wt{static setLogDelegate(e){0===Wt._logDelegate&&void 0!==e&&(Wt._logDelegate=xt._api.addFunction(Wt.logDelegate,"vii")),xt._api._Magick_SetLogDelegate(void 0===e?0:Wt._logDelegate),Wt._onLog=e}static setProgressDelegate(e){0===Wt._progressDelegate&&(this._progressDelegate=xt._api.addFunction(Wt.progressDelegate,"iijji")),this._images[e._instance]=e,xt._api._MagickImage_SetClientData(e._instance,e._instance),xt._api._MagickImage_SetProgressDelegate(e._instance,Wt._progressDelegate)}static removeProgressDelegate(e){xt._api._MagickImage_SetClientData(e._instance,0),xt._api._MagickImage_SetProgressDelegate(e._instance,0),delete Wt._images[e._instance]}static logDelegate(e,t){if(void 0===Wt._onLog)return;const i=de(t,"");Wt._onLog(new c(e,i))}static progressDelegate(e,t,i,r){const a=Wt._images[r];if(void 0===a||void 0===a.onProgress)return 1;const n=Number(t),s=Number(i),o=de(e),_=new Rt(o,n,s);return a.onProgress(_),_.cancel?0:1}}Wt._logDelegate=0,Wt._onLog=void 0,Wt._progressDelegate=0,Wt._images={};class Ot{constructor(e,t,i,r,a,n,s){this.description=void 0,this.format=void 0,this.mimeType=void 0,this.moduleFormat=void 0,this.supportsMultipleFrames=void 0,this.supportsReading=void 0,this.supportsWriting=void 0,this.format=e,this.description=t,this.mimeType=i,this.moduleFormat=r,this.supportsMultipleFrames=a,this.supportsReading=n,this.supportsWriting=s}static get all(){return void 0===Ot._allFormats&&(Ot._allFormats=Ot.loadFormats()),Ot._allFormats}static loadFormats(){return xe.usePointer((e=>Ae.use((t=>{const i=xt._api._MagickFormatInfo_CreateList(t.ptr,e),r=t.value;try{const t=new Array(r),a=Object.values(Qe);for(let n=0;n<r;n++){const r=xt._api._MagickFormatInfo_GetInfo(i,n,e),s=de(xt._api._MagickFormatInfo_Format_Get(r)),o=Ot.convertFormat(s,a),_=de(xt._api._MagickFormatInfo_Description_Get(r),""),c=de(xt._api._MagickFormatInfo_MimeType_Get(r)),l=de(xt._api._MagickFormatInfo_Module_Get(r)),h=Ot.convertFormat(l,a),g=1==xt._api._MagickFormatInfo_SupportsMultipleFrames_Get(r),u=1==xt._api._MagickFormatInfo_SupportsReading_Get(r),p=1==xt._api._MagickFormatInfo_SupportsWriting_Get(r);t[n]=new Ot(o,_,c,h,g,u,p)}return t}finally{xt._api._MagickFormatInfo_DisposeList(i,r)}}))))}static convertFormat(e,t){return null===e?Qe.Unknown:t.includes(e)?e:Qe.Unknown}}Ot._allFormats=void 0;const Lt={None:0,Accelerate:1,Annotate:2,Blob:4,Cache:8,Coder:16,Configure:32,Deprecate:64,Draw:128,Exception:256,Image:512,Locale:1024,Module:2048,Pixel:4096,Policy:8192,Resource:16384,Trace:32768,Transform:65536,User:131072,Wand:262144,Detailed:2147450879,get All(){return this.Detailed|this.Trace}};class $t{static get delegates(){return de(xt._api._Magick_Delegates_Get(),"Unknown")}static get features(){return de(xt._api._Magick_Features_Get()," ").slice(0,-1)}static get imageMagickVersion(){return de(xt._api._Magick_ImageMagickVersion_Get(),"Unknown")}static get supportedFormats(){return Ot.all}static addFont(e,t){const i=xt._api.FS;i.analyzePath("/fonts").exists||i.mkdir("/fonts");const r=i.open(`/fonts/${e}`,"w");i.write(r,t,0,t.length),i.close(r)}static setLogEvents(e){const t=e==Lt.None?void 0:$t.logDelegate;Wt.setLogDelegate(t);fe($t.getEventTypeString(e),(e=>xt._api._Magick_SetLogEvents(e)))}static _getFontFileName(e){const t=`/fonts/${e}`;if(!xt._api.FS.analyzePath(t).exists)throw`Unable to find a font with the name '${e}', register it with the addFont method of the Magick class.`;return t}static getEventTypeString(e){if(e==Lt.All)return"All,Trace";if(e==Lt.Detailed)return"All";switch(e){case Lt.Accelerate:return"Accelerate";case Lt.Annotate:return"Annotate";case Lt.Blob:return"Blob";case Lt.Cache:return"Cache";case Lt.Coder:return"Coder";case Lt.Configure:return"Configure";case Lt.Deprecate:return"Deprecate";case Lt.Draw:return"Draw";case Lt.Exception:return"Exception";case Lt.Image:return"Image";case Lt.Locale:return"Locale";case Lt.Module:return"Module";case Lt.Pixel:return"Pixel";case Lt.Policy:return"Policy";case Lt.Resource:return"Resource";case Lt.Trace:return"Trace";case Lt.Transform:return"Transform";case Lt.User:return"User";case Lt.Wand:return"Wand";case Lt.None:default:return"None"}}static logDelegate(e){void 0!==$t.onLog&&$t.onLog(e)}}$t.onLog=void 0,$t.resetRandomSeed=()=>xt._api._Magick_ResetRandomSeed(),$t.setRandomSeed=e=>xt._api._Magick_SetRandomSeed(e)}}]);
//# sourceMappingURL=7601.b33c8129954a8cb55060.js.map